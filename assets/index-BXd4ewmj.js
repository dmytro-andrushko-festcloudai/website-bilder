(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))v(_);new MutationObserver(_=>{for(const w of _)if(w.type==="childList")for(const x of w.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&v(x)}).observe(document,{childList:!0,subtree:!0});function f(_){const w={};return _.integrity&&(w.integrity=_.integrity),_.referrerPolicy&&(w.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?w.credentials="include":_.crossOrigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function v(_){if(_.ep)return;_.ep=!0;const w=f(_);fetch(_.href,w)}})();var Rb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function n0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Fb={exports:{}},$v={},Vb={exports:{}},sn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var np=Symbol.for("react.element"),MP=Symbol.for("react.portal"),LP=Symbol.for("react.fragment"),DP=Symbol.for("react.strict_mode"),jP=Symbol.for("react.profiler"),NP=Symbol.for("react.provider"),IP=Symbol.for("react.context"),RP=Symbol.for("react.forward_ref"),FP=Symbol.for("react.suspense"),VP=Symbol.for("react.memo"),HP=Symbol.for("react.lazy"),Sw=Symbol.iterator;function zP(i){return i===null||typeof i!="object"?null:(i=Sw&&i[Sw]||i["@@iterator"],typeof i=="function"?i:null)}var Hb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zb=Object.assign,Bb={};function rf(i,s,f){this.props=i,this.context=s,this.refs=Bb,this.updater=f||Hb}rf.prototype.isReactComponent={};rf.prototype.setState=function(i,s){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,s,"setState")};rf.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function Ub(){}Ub.prototype=rf.prototype;function r0(i,s,f){this.props=i,this.context=s,this.refs=Bb,this.updater=f||Hb}var o0=r0.prototype=new Ub;o0.constructor=r0;zb(o0,rf.prototype);o0.isPureReactComponent=!0;var Ow=Array.isArray,Wb=Object.prototype.hasOwnProperty,i0={current:null},$b={key:!0,ref:!0,__self:!0,__source:!0};function Gb(i,s,f){var v,_={},w=null,x=null;if(s!=null)for(v in s.ref!==void 0&&(x=s.ref),s.key!==void 0&&(w=""+s.key),s)Wb.call(s,v)&&!$b.hasOwnProperty(v)&&(_[v]=s[v]);var S=arguments.length-2;if(S===1)_.children=f;else if(1<S){for(var E=Array(S),O=0;O<S;O++)E[O]=arguments[O+2];_.children=E}if(i&&i.defaultProps)for(v in S=i.defaultProps,S)_[v]===void 0&&(_[v]=S[v]);return{$$typeof:np,type:i,key:w,ref:x,props:_,_owner:i0.current}}function BP(i,s){return{$$typeof:np,type:i.type,key:s,ref:i.ref,props:i.props,_owner:i._owner}}function a0(i){return typeof i=="object"&&i!==null&&i.$$typeof===np}function UP(i){var s={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(f){return s[f]})}var Tw=/\/+/g;function Im(i,s){return typeof i=="object"&&i!==null&&i.key!=null?UP(""+i.key):s.toString(36)}function uv(i,s,f,v,_){var w=typeof i;(w==="undefined"||w==="boolean")&&(i=null);var x=!1;if(i===null)x=!0;else switch(w){case"string":case"number":x=!0;break;case"object":switch(i.$$typeof){case np:case MP:x=!0}}if(x)return x=i,_=_(x),i=v===""?"."+Im(x,0):v,Ow(_)?(f="",i!=null&&(f=i.replace(Tw,"$&/")+"/"),uv(_,s,f,"",function(O){return O})):_!=null&&(a0(_)&&(_=BP(_,f+(!_.key||x&&x.key===_.key?"":(""+_.key).replace(Tw,"$&/")+"/")+i)),s.push(_)),1;if(x=0,v=v===""?".":v+":",Ow(i))for(var S=0;S<i.length;S++){w=i[S];var E=v+Im(w,S);x+=uv(w,s,f,E,_)}else if(E=zP(i),typeof E=="function")for(i=E.call(i),S=0;!(w=i.next()).done;)w=w.value,E=v+Im(w,S++),x+=uv(w,s,f,E,_);else if(w==="object")throw s=String(i),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return x}function Gh(i,s,f){if(i==null)return i;var v=[],_=0;return uv(i,v,"","",function(w){return s.call(f,w,_++)}),v}function WP(i){if(i._status===-1){var s=i._result;s=s(),s.then(function(f){(i._status===0||i._status===-1)&&(i._status=1,i._result=f)},function(f){(i._status===0||i._status===-1)&&(i._status=2,i._result=f)}),i._status===-1&&(i._status=0,i._result=s)}if(i._status===1)return i._result.default;throw i._result}var Co={current:null},cv={transition:null},$P={ReactCurrentDispatcher:Co,ReactCurrentBatchConfig:cv,ReactCurrentOwner:i0};function Kb(){throw Error("act(...) is not supported in production builds of React.")}sn.Children={map:Gh,forEach:function(i,s,f){Gh(i,function(){s.apply(this,arguments)},f)},count:function(i){var s=0;return Gh(i,function(){s++}),s},toArray:function(i){return Gh(i,function(s){return s})||[]},only:function(i){if(!a0(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};sn.Component=rf;sn.Fragment=LP;sn.Profiler=jP;sn.PureComponent=r0;sn.StrictMode=DP;sn.Suspense=FP;sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$P;sn.act=Kb;sn.cloneElement=function(i,s,f){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var v=zb({},i.props),_=i.key,w=i.ref,x=i._owner;if(s!=null){if(s.ref!==void 0&&(w=s.ref,x=i0.current),s.key!==void 0&&(_=""+s.key),i.type&&i.type.defaultProps)var S=i.type.defaultProps;for(E in s)Wb.call(s,E)&&!$b.hasOwnProperty(E)&&(v[E]=s[E]===void 0&&S!==void 0?S[E]:s[E])}var E=arguments.length-2;if(E===1)v.children=f;else if(1<E){S=Array(E);for(var O=0;O<E;O++)S[O]=arguments[O+2];v.children=S}return{$$typeof:np,type:i.type,key:_,ref:w,props:v,_owner:x}};sn.createContext=function(i){return i={$$typeof:IP,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:NP,_context:i},i.Consumer=i};sn.createElement=Gb;sn.createFactory=function(i){var s=Gb.bind(null,i);return s.type=i,s};sn.createRef=function(){return{current:null}};sn.forwardRef=function(i){return{$$typeof:RP,render:i}};sn.isValidElement=a0;sn.lazy=function(i){return{$$typeof:HP,_payload:{_status:-1,_result:i},_init:WP}};sn.memo=function(i,s){return{$$typeof:VP,type:i,compare:s===void 0?null:s}};sn.startTransition=function(i){var s=cv.transition;cv.transition={};try{i()}finally{cv.transition=s}};sn.unstable_act=Kb;sn.useCallback=function(i,s){return Co.current.useCallback(i,s)};sn.useContext=function(i){return Co.current.useContext(i)};sn.useDebugValue=function(){};sn.useDeferredValue=function(i){return Co.current.useDeferredValue(i)};sn.useEffect=function(i,s){return Co.current.useEffect(i,s)};sn.useId=function(){return Co.current.useId()};sn.useImperativeHandle=function(i,s,f){return Co.current.useImperativeHandle(i,s,f)};sn.useInsertionEffect=function(i,s){return Co.current.useInsertionEffect(i,s)};sn.useLayoutEffect=function(i,s){return Co.current.useLayoutEffect(i,s)};sn.useMemo=function(i,s){return Co.current.useMemo(i,s)};sn.useReducer=function(i,s,f){return Co.current.useReducer(i,s,f)};sn.useRef=function(i){return Co.current.useRef(i)};sn.useState=function(i){return Co.current.useState(i)};sn.useSyncExternalStore=function(i,s,f){return Co.current.useSyncExternalStore(i,s,f)};sn.useTransition=function(){return Co.current.useTransition()};sn.version="18.3.1";Vb.exports=sn;var Ae=Vb.exports;const Yb=n0(Ae);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GP=Ae,KP=Symbol.for("react.element"),YP=Symbol.for("react.fragment"),qP=Object.prototype.hasOwnProperty,XP=GP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZP={key:!0,ref:!0,__self:!0,__source:!0};function qb(i,s,f){var v,_={},w=null,x=null;f!==void 0&&(w=""+f),s.key!==void 0&&(w=""+s.key),s.ref!==void 0&&(x=s.ref);for(v in s)qP.call(s,v)&&!ZP.hasOwnProperty(v)&&(_[v]=s[v]);if(i&&i.defaultProps)for(v in s=i.defaultProps,s)_[v]===void 0&&(_[v]=s[v]);return{$$typeof:KP,type:i,key:w,ref:x,props:_,_owner:XP.current}}$v.Fragment=YP;$v.jsx=qb;$v.jsxs=qb;Fb.exports=$v;var ly=Fb.exports,uy={},Xb={exports:{}},ei={},Zb={exports:{}},Jb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function s(gt,lt){var kt=gt.length;gt.push(lt);t:for(;0<kt;){var Ht=kt-1>>>1,Wt=gt[Ht];if(0<_(Wt,lt))gt[Ht]=lt,gt[kt]=Wt,kt=Ht;else break t}}function f(gt){return gt.length===0?null:gt[0]}function v(gt){if(gt.length===0)return null;var lt=gt[0],kt=gt.pop();if(kt!==lt){gt[0]=kt;t:for(var Ht=0,Wt=gt.length,ie=Wt>>>1;Ht<ie;){var qt=2*(Ht+1)-1,Zt=gt[qt],St=qt+1,zt=gt[St];if(0>_(Zt,kt))St<Wt&&0>_(zt,Zt)?(gt[Ht]=zt,gt[St]=kt,Ht=St):(gt[Ht]=Zt,gt[qt]=kt,Ht=qt);else if(St<Wt&&0>_(zt,kt))gt[Ht]=zt,gt[St]=kt,Ht=St;else break t}}return lt}function _(gt,lt){var kt=gt.sortIndex-lt.sortIndex;return kt!==0?kt:gt.id-lt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var w=performance;i.unstable_now=function(){return w.now()}}else{var x=Date,S=x.now();i.unstable_now=function(){return x.now()-S}}var E=[],O=[],M=1,A=null,L=3,R=!1,$=!1,at=!1,mt=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(gt){for(var lt=f(O);lt!==null;){if(lt.callback===null)v(O);else if(lt.startTime<=gt)v(O),lt.sortIndex=lt.expirationTime,s(E,lt);else break;lt=f(O)}}function X(gt){if(at=!1,G(gt),!$)if(f(E)!==null)$=!0,B(yt);else{var lt=f(O);lt!==null&&It(X,lt.startTime-gt)}}function yt(gt,lt){$=!1,at&&(at=!1,Z(Ct),Ct=-1),R=!0;var kt=L;try{for(G(lt),A=f(E);A!==null&&(!(A.expirationTime>lt)||gt&&!W());){var Ht=A.callback;if(typeof Ht=="function"){A.callback=null,L=A.priorityLevel;var Wt=Ht(A.expirationTime<=lt);lt=i.unstable_now(),typeof Wt=="function"?A.callback=Wt:A===f(E)&&v(E),G(lt)}else v(E);A=f(E)}if(A!==null)var ie=!0;else{var qt=f(O);qt!==null&&It(X,qt.startTime-lt),ie=!1}return ie}finally{A=null,L=kt,R=!1}}var bt=!1,Tt=null,Ct=-1,Q=5,V=-1;function W(){return!(i.unstable_now()-V<Q)}function Y(){if(Tt!==null){var gt=i.unstable_now();V=gt;var lt=!0;try{lt=Tt(!0,gt)}finally{lt?it():(bt=!1,Tt=null)}}else bt=!1}var it;if(typeof J=="function")it=function(){J(Y)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,dt=U.port2;U.port1.onmessage=Y,it=function(){dt.postMessage(null)}}else it=function(){mt(Y,0)};function B(gt){Tt=gt,bt||(bt=!0,it())}function It(gt,lt){Ct=mt(function(){gt(i.unstable_now())},lt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(gt){gt.callback=null},i.unstable_continueExecution=function(){$||R||($=!0,B(yt))},i.unstable_forceFrameRate=function(gt){0>gt||125<gt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<gt?Math.floor(1e3/gt):5},i.unstable_getCurrentPriorityLevel=function(){return L},i.unstable_getFirstCallbackNode=function(){return f(E)},i.unstable_next=function(gt){switch(L){case 1:case 2:case 3:var lt=3;break;default:lt=L}var kt=L;L=lt;try{return gt()}finally{L=kt}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(gt,lt){switch(gt){case 1:case 2:case 3:case 4:case 5:break;default:gt=3}var kt=L;L=gt;try{return lt()}finally{L=kt}},i.unstable_scheduleCallback=function(gt,lt,kt){var Ht=i.unstable_now();switch(typeof kt=="object"&&kt!==null?(kt=kt.delay,kt=typeof kt=="number"&&0<kt?Ht+kt:Ht):kt=Ht,gt){case 1:var Wt=-1;break;case 2:Wt=250;break;case 5:Wt=1073741823;break;case 4:Wt=1e4;break;default:Wt=5e3}return Wt=kt+Wt,gt={id:M++,callback:lt,priorityLevel:gt,startTime:kt,expirationTime:Wt,sortIndex:-1},kt>Ht?(gt.sortIndex=kt,s(O,gt),f(E)===null&&gt===f(O)&&(at?(Z(Ct),Ct=-1):at=!0,It(X,kt-Ht))):(gt.sortIndex=Wt,s(E,gt),$||R||($=!0,B(yt))),gt},i.unstable_shouldYield=W,i.unstable_wrapCallback=function(gt){var lt=L;return function(){var kt=L;L=lt;try{return gt.apply(this,arguments)}finally{L=kt}}}})(Jb);Zb.exports=Jb;var JP=Zb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QP=Ae,ti=JP;function oe(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,f=1;f<arguments.length;f++)s+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qb=new Set,Vd={};function Fu(i,s){Xc(i,s),Xc(i+"Capture",s)}function Xc(i,s){for(Vd[i]=s,i=0;i<s.length;i++)Qb.add(s[i])}var ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cy=Object.prototype.hasOwnProperty,tk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ew={},Pw={};function ek(i){return cy.call(Pw,i)?!0:cy.call(Ew,i)?!1:tk.test(i)?Pw[i]=!0:(Ew[i]=!0,!1)}function nk(i,s,f,v){if(f!==null&&f.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return v?!1:f!==null?!f.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function rk(i,s,f,v){if(s===null||typeof s>"u"||nk(i,s,f,v))return!0;if(v)return!1;if(f!==null)switch(f.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function xo(i,s,f,v,_,w,x){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=v,this.attributeNamespace=_,this.mustUseProperty=f,this.propertyName=i,this.type=s,this.sanitizeURL=w,this.removeEmptyString=x}var $r={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){$r[i]=new xo(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];$r[s]=new xo(s,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){$r[i]=new xo(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){$r[i]=new xo(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){$r[i]=new xo(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){$r[i]=new xo(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){$r[i]=new xo(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){$r[i]=new xo(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){$r[i]=new xo(i,5,!1,i.toLowerCase(),null,!1,!1)});var s0=/[\-:]([a-z])/g;function l0(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(s0,l0);$r[s]=new xo(s,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(s0,l0);$r[s]=new xo(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(s0,l0);$r[s]=new xo(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){$r[i]=new xo(i,1,!1,i.toLowerCase(),null,!1,!1)});$r.xlinkHref=new xo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){$r[i]=new xo(i,1,!1,i.toLowerCase(),null,!0,!0)});function u0(i,s,f,v){var _=$r.hasOwnProperty(s)?$r[s]:null;(_!==null?_.type!==0:v||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(rk(s,f,_,v)&&(f=null),v||_===null?ek(s)&&(f===null?i.removeAttribute(s):i.setAttribute(s,""+f)):_.mustUseProperty?i[_.propertyName]=f===null?_.type===3?!1:"":f:(s=_.attributeName,v=_.attributeNamespace,f===null?i.removeAttribute(s):(_=_.type,f=_===3||_===4&&f===!0?"":""+f,v?i.setAttributeNS(v,s,f):i.setAttribute(s,f))))}var gs=QP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kh=Symbol.for("react.element"),Lc=Symbol.for("react.portal"),Dc=Symbol.for("react.fragment"),c0=Symbol.for("react.strict_mode"),fy=Symbol.for("react.profiler"),tC=Symbol.for("react.provider"),eC=Symbol.for("react.context"),f0=Symbol.for("react.forward_ref"),dy=Symbol.for("react.suspense"),py=Symbol.for("react.suspense_list"),d0=Symbol.for("react.memo"),Js=Symbol.for("react.lazy"),nC=Symbol.for("react.offscreen"),kw=Symbol.iterator;function md(i){return i===null||typeof i!="object"?null:(i=kw&&i[kw]||i["@@iterator"],typeof i=="function"?i:null)}var Xn=Object.assign,Rm;function Td(i){if(Rm===void 0)try{throw Error()}catch(f){var s=f.stack.trim().match(/\n( *(at )?)/);Rm=s&&s[1]||""}return`
`+Rm+i}var Fm=!1;function Vm(i,s){if(!i||Fm)return"";Fm=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(O){var v=O}Reflect.construct(i,[],s)}else{try{s.call()}catch(O){v=O}i.call(s.prototype)}else{try{throw Error()}catch(O){v=O}i()}}catch(O){if(O&&v&&typeof O.stack=="string"){for(var _=O.stack.split(`
`),w=v.stack.split(`
`),x=_.length-1,S=w.length-1;1<=x&&0<=S&&_[x]!==w[S];)S--;for(;1<=x&&0<=S;x--,S--)if(_[x]!==w[S]){if(x!==1||S!==1)do if(x--,S--,0>S||_[x]!==w[S]){var E=`
`+_[x].replace(" at new "," at ");return i.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",i.displayName)),E}while(1<=x&&0<=S);break}}}finally{Fm=!1,Error.prepareStackTrace=f}return(i=i?i.displayName||i.name:"")?Td(i):""}function ok(i){switch(i.tag){case 5:return Td(i.type);case 16:return Td("Lazy");case 13:return Td("Suspense");case 19:return Td("SuspenseList");case 0:case 2:case 15:return i=Vm(i.type,!1),i;case 11:return i=Vm(i.type.render,!1),i;case 1:return i=Vm(i.type,!0),i;default:return""}}function hy(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case Dc:return"Fragment";case Lc:return"Portal";case fy:return"Profiler";case c0:return"StrictMode";case dy:return"Suspense";case py:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case eC:return(i.displayName||"Context")+".Consumer";case tC:return(i._context.displayName||"Context")+".Provider";case f0:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case d0:return s=i.displayName||null,s!==null?s:hy(i.type)||"Memo";case Js:s=i._payload,i=i._init;try{return hy(i(s))}catch{}}return null}function ik(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hy(s);case 8:return s===c0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function dl(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function rC(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ak(i){var s=rC(i)?"checked":"value",f=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),v=""+i[s];if(!i.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var _=f.get,w=f.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return _.call(this)},set:function(x){v=""+x,w.call(this,x)}}),Object.defineProperty(i,s,{enumerable:f.enumerable}),{getValue:function(){return v},setValue:function(x){v=""+x},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Yh(i){i._valueTracker||(i._valueTracker=ak(i))}function oC(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var f=s.getValue(),v="";return i&&(v=rC(i)?i.checked?"true":"false":i.value),i=v,i!==f?(s.setValue(i),!0):!1}function bv(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function vy(i,s){var f=s.checked;return Xn({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??i._wrapperState.initialChecked})}function Aw(i,s){var f=s.defaultValue==null?"":s.defaultValue,v=s.checked!=null?s.checked:s.defaultChecked;f=dl(s.value!=null?s.value:f),i._wrapperState={initialChecked:v,initialValue:f,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function iC(i,s){s=s.checked,s!=null&&u0(i,"checked",s,!1)}function gy(i,s){iC(i,s);var f=dl(s.value),v=s.type;if(f!=null)v==="number"?(f===0&&i.value===""||i.value!=f)&&(i.value=""+f):i.value!==""+f&&(i.value=""+f);else if(v==="submit"||v==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?my(i,s.type,f):s.hasOwnProperty("defaultValue")&&my(i,s.type,dl(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function Mw(i,s,f){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var v=s.type;if(!(v!=="submit"&&v!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,f||s===i.value||(i.value=s),i.defaultValue=s}f=i.name,f!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,f!==""&&(i.name=f)}function my(i,s,f){(s!=="number"||bv(i.ownerDocument)!==i)&&(f==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+f&&(i.defaultValue=""+f))}var Ed=Array.isArray;function Wc(i,s,f,v){if(i=i.options,s){s={};for(var _=0;_<f.length;_++)s["$"+f[_]]=!0;for(f=0;f<i.length;f++)_=s.hasOwnProperty("$"+i[f].value),i[f].selected!==_&&(i[f].selected=_),_&&v&&(i[f].defaultSelected=!0)}else{for(f=""+dl(f),s=null,_=0;_<i.length;_++){if(i[_].value===f){i[_].selected=!0,v&&(i[_].defaultSelected=!0);return}s!==null||i[_].disabled||(s=i[_])}s!==null&&(s.selected=!0)}}function yy(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(oe(91));return Xn({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Lw(i,s){var f=s.value;if(f==null){if(f=s.children,s=s.defaultValue,f!=null){if(s!=null)throw Error(oe(92));if(Ed(f)){if(1<f.length)throw Error(oe(93));f=f[0]}s=f}s==null&&(s=""),f=s}i._wrapperState={initialValue:dl(f)}}function aC(i,s){var f=dl(s.value),v=dl(s.defaultValue);f!=null&&(f=""+f,f!==i.value&&(i.value=f),s.defaultValue==null&&i.defaultValue!==f&&(i.defaultValue=f)),v!=null&&(i.defaultValue=""+v)}function Dw(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function sC(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _y(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?sC(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var qh,lC=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,f,v,_){MSApp.execUnsafeLocalFunction(function(){return i(s,f,v,_)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(qh=qh||document.createElement("div"),qh.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=qh.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function Hd(i,s){if(s){var f=i.firstChild;if(f&&f===i.lastChild&&f.nodeType===3){f.nodeValue=s;return}}i.textContent=s}var Ad={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sk=["Webkit","ms","Moz","O"];Object.keys(Ad).forEach(function(i){sk.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),Ad[s]=Ad[i]})});function uC(i,s,f){return s==null||typeof s=="boolean"||s===""?"":f||typeof s!="number"||s===0||Ad.hasOwnProperty(i)&&Ad[i]?(""+s).trim():s+"px"}function cC(i,s){i=i.style;for(var f in s)if(s.hasOwnProperty(f)){var v=f.indexOf("--")===0,_=uC(f,s[f],v);f==="float"&&(f="cssFloat"),v?i.setProperty(f,_):i[f]=_}}var lk=Xn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wy(i,s){if(s){if(lk[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(oe(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(oe(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(oe(61))}if(s.style!=null&&typeof s.style!="object")throw Error(oe(62))}}function by(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cy=null;function p0(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var xy=null,$c=null,Gc=null;function jw(i){if(i=ip(i)){if(typeof xy!="function")throw Error(oe(280));var s=i.stateNode;s&&(s=Xv(s),xy(i.stateNode,i.type,s))}}function fC(i){$c?Gc?Gc.push(i):Gc=[i]:$c=i}function dC(){if($c){var i=$c,s=Gc;if(Gc=$c=null,jw(i),s)for(i=0;i<s.length;i++)jw(s[i])}}function pC(i,s){return i(s)}function hC(){}var Hm=!1;function vC(i,s,f){if(Hm)return i(s,f);Hm=!0;try{return pC(i,s,f)}finally{Hm=!1,($c!==null||Gc!==null)&&(hC(),dC())}}function zd(i,s){var f=i.stateNode;if(f===null)return null;var v=Xv(f);if(v===null)return null;f=v[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(i=i.type,v=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!v;break t;default:i=!1}if(i)return null;if(f&&typeof f!="function")throw Error(oe(231,s,typeof f));return f}var Sy=!1;if(ds)try{var yd={};Object.defineProperty(yd,"passive",{get:function(){Sy=!0}}),window.addEventListener("test",yd,yd),window.removeEventListener("test",yd,yd)}catch{Sy=!1}function uk(i,s,f,v,_,w,x,S,E){var O=Array.prototype.slice.call(arguments,3);try{s.apply(f,O)}catch(M){this.onError(M)}}var Md=!1,Cv=null,xv=!1,Oy=null,ck={onError:function(i){Md=!0,Cv=i}};function fk(i,s,f,v,_,w,x,S,E){Md=!1,Cv=null,uk.apply(ck,arguments)}function dk(i,s,f,v,_,w,x,S,E){if(fk.apply(this,arguments),Md){if(Md){var O=Cv;Md=!1,Cv=null}else throw Error(oe(198));xv||(xv=!0,Oy=O)}}function Vu(i){var s=i,f=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(f=s.return),i=s.return;while(i)}return s.tag===3?f:null}function gC(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Nw(i){if(Vu(i)!==i)throw Error(oe(188))}function pk(i){var s=i.alternate;if(!s){if(s=Vu(i),s===null)throw Error(oe(188));return s!==i?null:i}for(var f=i,v=s;;){var _=f.return;if(_===null)break;var w=_.alternate;if(w===null){if(v=_.return,v!==null){f=v;continue}break}if(_.child===w.child){for(w=_.child;w;){if(w===f)return Nw(_),i;if(w===v)return Nw(_),s;w=w.sibling}throw Error(oe(188))}if(f.return!==v.return)f=_,v=w;else{for(var x=!1,S=_.child;S;){if(S===f){x=!0,f=_,v=w;break}if(S===v){x=!0,v=_,f=w;break}S=S.sibling}if(!x){for(S=w.child;S;){if(S===f){x=!0,f=w,v=_;break}if(S===v){x=!0,v=w,f=_;break}S=S.sibling}if(!x)throw Error(oe(189))}}if(f.alternate!==v)throw Error(oe(190))}if(f.tag!==3)throw Error(oe(188));return f.stateNode.current===f?i:s}function mC(i){return i=pk(i),i!==null?yC(i):null}function yC(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=yC(i);if(s!==null)return s;i=i.sibling}return null}var _C=ti.unstable_scheduleCallback,Iw=ti.unstable_cancelCallback,hk=ti.unstable_shouldYield,vk=ti.unstable_requestPaint,lr=ti.unstable_now,gk=ti.unstable_getCurrentPriorityLevel,h0=ti.unstable_ImmediatePriority,wC=ti.unstable_UserBlockingPriority,Sv=ti.unstable_NormalPriority,mk=ti.unstable_LowPriority,bC=ti.unstable_IdlePriority,Gv=null,Ca=null;function yk(i){if(Ca&&typeof Ca.onCommitFiberRoot=="function")try{Ca.onCommitFiberRoot(Gv,i,void 0,(i.current.flags&128)===128)}catch{}}var Ii=Math.clz32?Math.clz32:bk,_k=Math.log,wk=Math.LN2;function bk(i){return i>>>=0,i===0?32:31-(_k(i)/wk|0)|0}var Xh=64,Zh=4194304;function Pd(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Ov(i,s){var f=i.pendingLanes;if(f===0)return 0;var v=0,_=i.suspendedLanes,w=i.pingedLanes,x=f&268435455;if(x!==0){var S=x&~_;S!==0?v=Pd(S):(w&=x,w!==0&&(v=Pd(w)))}else x=f&~_,x!==0?v=Pd(x):w!==0&&(v=Pd(w));if(v===0)return 0;if(s!==0&&s!==v&&!(s&_)&&(_=v&-v,w=s&-s,_>=w||_===16&&(w&4194240)!==0))return s;if(v&4&&(v|=f&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=v;0<s;)f=31-Ii(s),_=1<<f,v|=i[f],s&=~_;return v}function Ck(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xk(i,s){for(var f=i.suspendedLanes,v=i.pingedLanes,_=i.expirationTimes,w=i.pendingLanes;0<w;){var x=31-Ii(w),S=1<<x,E=_[x];E===-1?(!(S&f)||S&v)&&(_[x]=Ck(S,s)):E<=s&&(i.expiredLanes|=S),w&=~S}}function Ty(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function CC(){var i=Xh;return Xh<<=1,!(Xh&4194240)&&(Xh=64),i}function zm(i){for(var s=[],f=0;31>f;f++)s.push(i);return s}function rp(i,s,f){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Ii(s),i[s]=f}function Sk(i,s){var f=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var v=i.eventTimes;for(i=i.expirationTimes;0<f;){var _=31-Ii(f),w=1<<_;s[_]=0,v[_]=-1,i[_]=-1,f&=~w}}function v0(i,s){var f=i.entangledLanes|=s;for(i=i.entanglements;f;){var v=31-Ii(f),_=1<<v;_&s|i[v]&s&&(i[v]|=s),f&=~_}}var bn=0;function xC(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var SC,g0,OC,TC,EC,Ey=!1,Jh=[],ol=null,il=null,al=null,Bd=new Map,Ud=new Map,tl=[],Ok="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rw(i,s){switch(i){case"focusin":case"focusout":ol=null;break;case"dragenter":case"dragleave":il=null;break;case"mouseover":case"mouseout":al=null;break;case"pointerover":case"pointerout":Bd.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ud.delete(s.pointerId)}}function _d(i,s,f,v,_,w){return i===null||i.nativeEvent!==w?(i={blockedOn:s,domEventName:f,eventSystemFlags:v,nativeEvent:w,targetContainers:[_]},s!==null&&(s=ip(s),s!==null&&g0(s)),i):(i.eventSystemFlags|=v,s=i.targetContainers,_!==null&&s.indexOf(_)===-1&&s.push(_),i)}function Tk(i,s,f,v,_){switch(s){case"focusin":return ol=_d(ol,i,s,f,v,_),!0;case"dragenter":return il=_d(il,i,s,f,v,_),!0;case"mouseover":return al=_d(al,i,s,f,v,_),!0;case"pointerover":var w=_.pointerId;return Bd.set(w,_d(Bd.get(w)||null,i,s,f,v,_)),!0;case"gotpointercapture":return w=_.pointerId,Ud.set(w,_d(Ud.get(w)||null,i,s,f,v,_)),!0}return!1}function PC(i){var s=Pu(i.target);if(s!==null){var f=Vu(s);if(f!==null){if(s=f.tag,s===13){if(s=gC(f),s!==null){i.blockedOn=s,EC(i.priority,function(){OC(f)});return}}else if(s===3&&f.stateNode.current.memoizedState.isDehydrated){i.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}i.blockedOn=null}function fv(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var f=Py(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(f===null){f=i.nativeEvent;var v=new f.constructor(f.type,f);Cy=v,f.target.dispatchEvent(v),Cy=null}else return s=ip(f),s!==null&&g0(s),i.blockedOn=f,!1;s.shift()}return!0}function Fw(i,s,f){fv(i)&&f.delete(s)}function Ek(){Ey=!1,ol!==null&&fv(ol)&&(ol=null),il!==null&&fv(il)&&(il=null),al!==null&&fv(al)&&(al=null),Bd.forEach(Fw),Ud.forEach(Fw)}function wd(i,s){i.blockedOn===s&&(i.blockedOn=null,Ey||(Ey=!0,ti.unstable_scheduleCallback(ti.unstable_NormalPriority,Ek)))}function Wd(i){function s(_){return wd(_,i)}if(0<Jh.length){wd(Jh[0],i);for(var f=1;f<Jh.length;f++){var v=Jh[f];v.blockedOn===i&&(v.blockedOn=null)}}for(ol!==null&&wd(ol,i),il!==null&&wd(il,i),al!==null&&wd(al,i),Bd.forEach(s),Ud.forEach(s),f=0;f<tl.length;f++)v=tl[f],v.blockedOn===i&&(v.blockedOn=null);for(;0<tl.length&&(f=tl[0],f.blockedOn===null);)PC(f),f.blockedOn===null&&tl.shift()}var Kc=gs.ReactCurrentBatchConfig,Tv=!0;function Pk(i,s,f,v){var _=bn,w=Kc.transition;Kc.transition=null;try{bn=1,m0(i,s,f,v)}finally{bn=_,Kc.transition=w}}function kk(i,s,f,v){var _=bn,w=Kc.transition;Kc.transition=null;try{bn=4,m0(i,s,f,v)}finally{bn=_,Kc.transition=w}}function m0(i,s,f,v){if(Tv){var _=Py(i,s,f,v);if(_===null)Zm(i,s,v,Ev,f),Rw(i,v);else if(Tk(_,i,s,f,v))v.stopPropagation();else if(Rw(i,v),s&4&&-1<Ok.indexOf(i)){for(;_!==null;){var w=ip(_);if(w!==null&&SC(w),w=Py(i,s,f,v),w===null&&Zm(i,s,v,Ev,f),w===_)break;_=w}_!==null&&v.stopPropagation()}else Zm(i,s,v,null,f)}}var Ev=null;function Py(i,s,f,v){if(Ev=null,i=p0(v),i=Pu(i),i!==null)if(s=Vu(i),s===null)i=null;else if(f=s.tag,f===13){if(i=gC(s),i!==null)return i;i=null}else if(f===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return Ev=i,null}function kC(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gk()){case h0:return 1;case wC:return 4;case Sv:case mk:return 16;case bC:return 536870912;default:return 16}default:return 16}}var nl=null,y0=null,dv=null;function AC(){if(dv)return dv;var i,s=y0,f=s.length,v,_="value"in nl?nl.value:nl.textContent,w=_.length;for(i=0;i<f&&s[i]===_[i];i++);var x=f-i;for(v=1;v<=x&&s[f-v]===_[w-v];v++);return dv=_.slice(i,1<v?1-v:void 0)}function pv(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Qh(){return!0}function Vw(){return!1}function ni(i){function s(f,v,_,w,x){this._reactName=f,this._targetInst=_,this.type=v,this.nativeEvent=w,this.target=x,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(f=i[S],this[S]=f?f(w):w[S]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Qh:Vw,this.isPropagationStopped=Vw,this}return Xn(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Qh)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Qh)},persist:function(){},isPersistent:Qh}),s}var of={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_0=ni(of),op=Xn({},of,{view:0,detail:0}),Ak=ni(op),Bm,Um,bd,Kv=Xn({},op,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:w0,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==bd&&(bd&&i.type==="mousemove"?(Bm=i.screenX-bd.screenX,Um=i.screenY-bd.screenY):Um=Bm=0,bd=i),Bm)},movementY:function(i){return"movementY"in i?i.movementY:Um}}),Hw=ni(Kv),Mk=Xn({},Kv,{dataTransfer:0}),Lk=ni(Mk),Dk=Xn({},op,{relatedTarget:0}),Wm=ni(Dk),jk=Xn({},of,{animationName:0,elapsedTime:0,pseudoElement:0}),Nk=ni(jk),Ik=Xn({},of,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Rk=ni(Ik),Fk=Xn({},of,{data:0}),zw=ni(Fk),Vk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bk(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=zk[i])?!!s[i]:!1}function w0(){return Bk}var Uk=Xn({},op,{key:function(i){if(i.key){var s=Vk[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=pv(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Hk[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:w0,charCode:function(i){return i.type==="keypress"?pv(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?pv(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Wk=ni(Uk),$k=Xn({},Kv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bw=ni($k),Gk=Xn({},op,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:w0}),Kk=ni(Gk),Yk=Xn({},of,{propertyName:0,elapsedTime:0,pseudoElement:0}),qk=ni(Yk),Xk=Xn({},Kv,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zk=ni(Xk),Jk=[9,13,27,32],b0=ds&&"CompositionEvent"in window,Ld=null;ds&&"documentMode"in document&&(Ld=document.documentMode);var Qk=ds&&"TextEvent"in window&&!Ld,MC=ds&&(!b0||Ld&&8<Ld&&11>=Ld),Uw=" ",Ww=!1;function LC(i,s){switch(i){case"keyup":return Jk.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DC(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var jc=!1;function tA(i,s){switch(i){case"compositionend":return DC(s);case"keypress":return s.which!==32?null:(Ww=!0,Uw);case"textInput":return i=s.data,i===Uw&&Ww?null:i;default:return null}}function eA(i,s){if(jc)return i==="compositionend"||!b0&&LC(i,s)?(i=AC(),dv=y0=nl=null,jc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return MC&&s.locale!=="ko"?null:s.data;default:return null}}var nA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $w(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!nA[i.type]:s==="textarea"}function jC(i,s,f,v){fC(v),s=Pv(s,"onChange"),0<s.length&&(f=new _0("onChange","change",null,f,v),i.push({event:f,listeners:s}))}var Dd=null,$d=null;function rA(i){$C(i,0)}function Yv(i){var s=Rc(i);if(oC(s))return i}function oA(i,s){if(i==="change")return s}var NC=!1;if(ds){var $m;if(ds){var Gm="oninput"in document;if(!Gm){var Gw=document.createElement("div");Gw.setAttribute("oninput","return;"),Gm=typeof Gw.oninput=="function"}$m=Gm}else $m=!1;NC=$m&&(!document.documentMode||9<document.documentMode)}function Kw(){Dd&&(Dd.detachEvent("onpropertychange",IC),$d=Dd=null)}function IC(i){if(i.propertyName==="value"&&Yv($d)){var s=[];jC(s,$d,i,p0(i)),vC(rA,s)}}function iA(i,s,f){i==="focusin"?(Kw(),Dd=s,$d=f,Dd.attachEvent("onpropertychange",IC)):i==="focusout"&&Kw()}function aA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Yv($d)}function sA(i,s){if(i==="click")return Yv(s)}function lA(i,s){if(i==="input"||i==="change")return Yv(s)}function uA(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Vi=typeof Object.is=="function"?Object.is:uA;function Gd(i,s){if(Vi(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var f=Object.keys(i),v=Object.keys(s);if(f.length!==v.length)return!1;for(v=0;v<f.length;v++){var _=f[v];if(!cy.call(s,_)||!Vi(i[_],s[_]))return!1}return!0}function Yw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function qw(i,s){var f=Yw(i);i=0;for(var v;f;){if(f.nodeType===3){if(v=i+f.textContent.length,i<=s&&v>=s)return{node:f,offset:s-i};i=v}t:{for(;f;){if(f.nextSibling){f=f.nextSibling;break t}f=f.parentNode}f=void 0}f=Yw(f)}}function RC(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?RC(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function FC(){for(var i=window,s=bv();s instanceof i.HTMLIFrameElement;){try{var f=typeof s.contentWindow.location.href=="string"}catch{f=!1}if(f)i=s.contentWindow;else break;s=bv(i.document)}return s}function C0(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function cA(i){var s=FC(),f=i.focusedElem,v=i.selectionRange;if(s!==f&&f&&f.ownerDocument&&RC(f.ownerDocument.documentElement,f)){if(v!==null&&C0(f)){if(s=v.start,i=v.end,i===void 0&&(i=s),"selectionStart"in f)f.selectionStart=s,f.selectionEnd=Math.min(i,f.value.length);else if(i=(s=f.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var _=f.textContent.length,w=Math.min(v.start,_);v=v.end===void 0?w:Math.min(v.end,_),!i.extend&&w>v&&(_=v,v=w,w=_),_=qw(f,w);var x=qw(f,v);_&&x&&(i.rangeCount!==1||i.anchorNode!==_.node||i.anchorOffset!==_.offset||i.focusNode!==x.node||i.focusOffset!==x.offset)&&(s=s.createRange(),s.setStart(_.node,_.offset),i.removeAllRanges(),w>v?(i.addRange(s),i.extend(x.node,x.offset)):(s.setEnd(x.node,x.offset),i.addRange(s)))}}for(s=[],i=f;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<s.length;f++)i=s[f],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var fA=ds&&"documentMode"in document&&11>=document.documentMode,Nc=null,ky=null,jd=null,Ay=!1;function Xw(i,s,f){var v=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Ay||Nc==null||Nc!==bv(v)||(v=Nc,"selectionStart"in v&&C0(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),jd&&Gd(jd,v)||(jd=v,v=Pv(ky,"onSelect"),0<v.length&&(s=new _0("onSelect","select",null,s,f),i.push({event:s,listeners:v}),s.target=Nc)))}function tv(i,s){var f={};return f[i.toLowerCase()]=s.toLowerCase(),f["Webkit"+i]="webkit"+s,f["Moz"+i]="moz"+s,f}var Ic={animationend:tv("Animation","AnimationEnd"),animationiteration:tv("Animation","AnimationIteration"),animationstart:tv("Animation","AnimationStart"),transitionend:tv("Transition","TransitionEnd")},Km={},VC={};ds&&(VC=document.createElement("div").style,"AnimationEvent"in window||(delete Ic.animationend.animation,delete Ic.animationiteration.animation,delete Ic.animationstart.animation),"TransitionEvent"in window||delete Ic.transitionend.transition);function qv(i){if(Km[i])return Km[i];if(!Ic[i])return i;var s=Ic[i],f;for(f in s)if(s.hasOwnProperty(f)&&f in VC)return Km[i]=s[f];return i}var HC=qv("animationend"),zC=qv("animationiteration"),BC=qv("animationstart"),UC=qv("transitionend"),WC=new Map,Zw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hl(i,s){WC.set(i,s),Fu(s,[i])}for(var Ym=0;Ym<Zw.length;Ym++){var qm=Zw[Ym],dA=qm.toLowerCase(),pA=qm[0].toUpperCase()+qm.slice(1);hl(dA,"on"+pA)}hl(HC,"onAnimationEnd");hl(zC,"onAnimationIteration");hl(BC,"onAnimationStart");hl("dblclick","onDoubleClick");hl("focusin","onFocus");hl("focusout","onBlur");hl(UC,"onTransitionEnd");Xc("onMouseEnter",["mouseout","mouseover"]);Xc("onMouseLeave",["mouseout","mouseover"]);Xc("onPointerEnter",["pointerout","pointerover"]);Xc("onPointerLeave",["pointerout","pointerover"]);Fu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hA=new Set("cancel close invalid load scroll toggle".split(" ").concat(kd));function Jw(i,s,f){var v=i.type||"unknown-event";i.currentTarget=f,dk(v,s,void 0,i),i.currentTarget=null}function $C(i,s){s=(s&4)!==0;for(var f=0;f<i.length;f++){var v=i[f],_=v.event;v=v.listeners;t:{var w=void 0;if(s)for(var x=v.length-1;0<=x;x--){var S=v[x],E=S.instance,O=S.currentTarget;if(S=S.listener,E!==w&&_.isPropagationStopped())break t;Jw(_,S,O),w=E}else for(x=0;x<v.length;x++){if(S=v[x],E=S.instance,O=S.currentTarget,S=S.listener,E!==w&&_.isPropagationStopped())break t;Jw(_,S,O),w=E}}}if(xv)throw i=Oy,xv=!1,Oy=null,i}function Ln(i,s){var f=s[Ny];f===void 0&&(f=s[Ny]=new Set);var v=i+"__bubble";f.has(v)||(GC(s,i,2,!1),f.add(v))}function Xm(i,s,f){var v=0;s&&(v|=4),GC(f,i,v,s)}var ev="_reactListening"+Math.random().toString(36).slice(2);function Kd(i){if(!i[ev]){i[ev]=!0,Qb.forEach(function(f){f!=="selectionchange"&&(hA.has(f)||Xm(f,!1,i),Xm(f,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[ev]||(s[ev]=!0,Xm("selectionchange",!1,s))}}function GC(i,s,f,v){switch(kC(s)){case 1:var _=Pk;break;case 4:_=kk;break;default:_=m0}f=_.bind(null,s,f,i),_=void 0,!Sy||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(_=!0),v?_!==void 0?i.addEventListener(s,f,{capture:!0,passive:_}):i.addEventListener(s,f,!0):_!==void 0?i.addEventListener(s,f,{passive:_}):i.addEventListener(s,f,!1)}function Zm(i,s,f,v,_){var w=v;if(!(s&1)&&!(s&2)&&v!==null)t:for(;;){if(v===null)return;var x=v.tag;if(x===3||x===4){var S=v.stateNode.containerInfo;if(S===_||S.nodeType===8&&S.parentNode===_)break;if(x===4)for(x=v.return;x!==null;){var E=x.tag;if((E===3||E===4)&&(E=x.stateNode.containerInfo,E===_||E.nodeType===8&&E.parentNode===_))return;x=x.return}for(;S!==null;){if(x=Pu(S),x===null)return;if(E=x.tag,E===5||E===6){v=w=x;continue t}S=S.parentNode}}v=v.return}vC(function(){var O=w,M=p0(f),A=[];t:{var L=WC.get(i);if(L!==void 0){var R=_0,$=i;switch(i){case"keypress":if(pv(f)===0)break t;case"keydown":case"keyup":R=Wk;break;case"focusin":$="focus",R=Wm;break;case"focusout":$="blur",R=Wm;break;case"beforeblur":case"afterblur":R=Wm;break;case"click":if(f.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=Hw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=Lk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=Kk;break;case HC:case zC:case BC:R=Nk;break;case UC:R=qk;break;case"scroll":R=Ak;break;case"wheel":R=Zk;break;case"copy":case"cut":case"paste":R=Rk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Bw}var at=(s&4)!==0,mt=!at&&i==="scroll",Z=at?L!==null?L+"Capture":null:L;at=[];for(var J=O,G;J!==null;){G=J;var X=G.stateNode;if(G.tag===5&&X!==null&&(G=X,Z!==null&&(X=zd(J,Z),X!=null&&at.push(Yd(J,X,G)))),mt)break;J=J.return}0<at.length&&(L=new R(L,$,null,f,M),A.push({event:L,listeners:at}))}}if(!(s&7)){t:{if(L=i==="mouseover"||i==="pointerover",R=i==="mouseout"||i==="pointerout",L&&f!==Cy&&($=f.relatedTarget||f.fromElement)&&(Pu($)||$[ps]))break t;if((R||L)&&(L=M.window===M?M:(L=M.ownerDocument)?L.defaultView||L.parentWindow:window,R?($=f.relatedTarget||f.toElement,R=O,$=$?Pu($):null,$!==null&&(mt=Vu($),$!==mt||$.tag!==5&&$.tag!==6)&&($=null)):(R=null,$=O),R!==$)){if(at=Hw,X="onMouseLeave",Z="onMouseEnter",J="mouse",(i==="pointerout"||i==="pointerover")&&(at=Bw,X="onPointerLeave",Z="onPointerEnter",J="pointer"),mt=R==null?L:Rc(R),G=$==null?L:Rc($),L=new at(X,J+"leave",R,f,M),L.target=mt,L.relatedTarget=G,X=null,Pu(M)===O&&(at=new at(Z,J+"enter",$,f,M),at.target=G,at.relatedTarget=mt,X=at),mt=X,R&&$)e:{for(at=R,Z=$,J=0,G=at;G;G=Mc(G))J++;for(G=0,X=Z;X;X=Mc(X))G++;for(;0<J-G;)at=Mc(at),J--;for(;0<G-J;)Z=Mc(Z),G--;for(;J--;){if(at===Z||Z!==null&&at===Z.alternate)break e;at=Mc(at),Z=Mc(Z)}at=null}else at=null;R!==null&&Qw(A,L,R,at,!1),$!==null&&mt!==null&&Qw(A,mt,$,at,!0)}}t:{if(L=O?Rc(O):window,R=L.nodeName&&L.nodeName.toLowerCase(),R==="select"||R==="input"&&L.type==="file")var yt=oA;else if($w(L))if(NC)yt=lA;else{yt=aA;var bt=iA}else(R=L.nodeName)&&R.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(yt=sA);if(yt&&(yt=yt(i,O))){jC(A,yt,f,M);break t}bt&&bt(i,L,O),i==="focusout"&&(bt=L._wrapperState)&&bt.controlled&&L.type==="number"&&my(L,"number",L.value)}switch(bt=O?Rc(O):window,i){case"focusin":($w(bt)||bt.contentEditable==="true")&&(Nc=bt,ky=O,jd=null);break;case"focusout":jd=ky=Nc=null;break;case"mousedown":Ay=!0;break;case"contextmenu":case"mouseup":case"dragend":Ay=!1,Xw(A,f,M);break;case"selectionchange":if(fA)break;case"keydown":case"keyup":Xw(A,f,M)}var Tt;if(b0)t:{switch(i){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else jc?LC(i,f)&&(Ct="onCompositionEnd"):i==="keydown"&&f.keyCode===229&&(Ct="onCompositionStart");Ct&&(MC&&f.locale!=="ko"&&(jc||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&jc&&(Tt=AC()):(nl=M,y0="value"in nl?nl.value:nl.textContent,jc=!0)),bt=Pv(O,Ct),0<bt.length&&(Ct=new zw(Ct,i,null,f,M),A.push({event:Ct,listeners:bt}),Tt?Ct.data=Tt:(Tt=DC(f),Tt!==null&&(Ct.data=Tt)))),(Tt=Qk?tA(i,f):eA(i,f))&&(O=Pv(O,"onBeforeInput"),0<O.length&&(M=new zw("onBeforeInput","beforeinput",null,f,M),A.push({event:M,listeners:O}),M.data=Tt))}$C(A,s)})}function Yd(i,s,f){return{instance:i,listener:s,currentTarget:f}}function Pv(i,s){for(var f=s+"Capture",v=[];i!==null;){var _=i,w=_.stateNode;_.tag===5&&w!==null&&(_=w,w=zd(i,f),w!=null&&v.unshift(Yd(i,w,_)),w=zd(i,s),w!=null&&v.push(Yd(i,w,_))),i=i.return}return v}function Mc(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Qw(i,s,f,v,_){for(var w=s._reactName,x=[];f!==null&&f!==v;){var S=f,E=S.alternate,O=S.stateNode;if(E!==null&&E===v)break;S.tag===5&&O!==null&&(S=O,_?(E=zd(f,w),E!=null&&x.unshift(Yd(f,E,S))):_||(E=zd(f,w),E!=null&&x.push(Yd(f,E,S)))),f=f.return}x.length!==0&&i.push({event:s,listeners:x})}var vA=/\r\n?/g,gA=/\u0000|\uFFFD/g;function tb(i){return(typeof i=="string"?i:""+i).replace(vA,`
`).replace(gA,"")}function nv(i,s,f){if(s=tb(s),tb(i)!==s&&f)throw Error(oe(425))}function kv(){}var My=null,Ly=null;function Dy(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var jy=typeof setTimeout=="function"?setTimeout:void 0,mA=typeof clearTimeout=="function"?clearTimeout:void 0,eb=typeof Promise=="function"?Promise:void 0,yA=typeof queueMicrotask=="function"?queueMicrotask:typeof eb<"u"?function(i){return eb.resolve(null).then(i).catch(_A)}:jy;function _A(i){setTimeout(function(){throw i})}function Jm(i,s){var f=s,v=0;do{var _=f.nextSibling;if(i.removeChild(f),_&&_.nodeType===8)if(f=_.data,f==="/$"){if(v===0){i.removeChild(_),Wd(s);return}v--}else f!=="$"&&f!=="$?"&&f!=="$!"||v++;f=_}while(f);Wd(s)}function sl(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function nb(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var f=i.data;if(f==="$"||f==="$!"||f==="$?"){if(s===0)return i;s--}else f==="/$"&&s++}i=i.previousSibling}return null}var af=Math.random().toString(36).slice(2),ba="__reactFiber$"+af,qd="__reactProps$"+af,ps="__reactContainer$"+af,Ny="__reactEvents$"+af,wA="__reactListeners$"+af,bA="__reactHandles$"+af;function Pu(i){var s=i[ba];if(s)return s;for(var f=i.parentNode;f;){if(s=f[ps]||f[ba]){if(f=s.alternate,s.child!==null||f!==null&&f.child!==null)for(i=nb(i);i!==null;){if(f=i[ba])return f;i=nb(i)}return s}i=f,f=i.parentNode}return null}function ip(i){return i=i[ba]||i[ps],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Rc(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(oe(33))}function Xv(i){return i[qd]||null}var Iy=[],Fc=-1;function vl(i){return{current:i}}function Dn(i){0>Fc||(i.current=Iy[Fc],Iy[Fc]=null,Fc--)}function On(i,s){Fc++,Iy[Fc]=i.current,i.current=s}var pl={},io=vl(pl),Ho=vl(!1),Du=pl;function Zc(i,s){var f=i.type.contextTypes;if(!f)return pl;var v=i.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===s)return v.__reactInternalMemoizedMaskedChildContext;var _={},w;for(w in f)_[w]=s[w];return v&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=_),_}function zo(i){return i=i.childContextTypes,i!=null}function Av(){Dn(Ho),Dn(io)}function rb(i,s,f){if(io.current!==pl)throw Error(oe(168));On(io,s),On(Ho,f)}function KC(i,s,f){var v=i.stateNode;if(s=s.childContextTypes,typeof v.getChildContext!="function")return f;v=v.getChildContext();for(var _ in v)if(!(_ in s))throw Error(oe(108,ik(i)||"Unknown",_));return Xn({},f,v)}function Mv(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||pl,Du=io.current,On(io,i),On(Ho,Ho.current),!0}function ob(i,s,f){var v=i.stateNode;if(!v)throw Error(oe(169));f?(i=KC(i,s,Du),v.__reactInternalMemoizedMergedChildContext=i,Dn(Ho),Dn(io),On(io,i)):Dn(Ho),On(Ho,f)}var ls=null,Zv=!1,Qm=!1;function YC(i){ls===null?ls=[i]:ls.push(i)}function CA(i){Zv=!0,YC(i)}function gl(){if(!Qm&&ls!==null){Qm=!0;var i=0,s=bn;try{var f=ls;for(bn=1;i<f.length;i++){var v=f[i];do v=v(!0);while(v!==null)}ls=null,Zv=!1}catch(_){throw ls!==null&&(ls=ls.slice(i+1)),_C(h0,gl),_}finally{bn=s,Qm=!1}}return null}var Vc=[],Hc=0,Lv=null,Dv=0,fi=[],di=0,ju=null,us=1,cs="";function Tu(i,s){Vc[Hc++]=Dv,Vc[Hc++]=Lv,Lv=i,Dv=s}function qC(i,s,f){fi[di++]=us,fi[di++]=cs,fi[di++]=ju,ju=i;var v=us;i=cs;var _=32-Ii(v)-1;v&=~(1<<_),f+=1;var w=32-Ii(s)+_;if(30<w){var x=_-_%5;w=(v&(1<<x)-1).toString(32),v>>=x,_-=x,us=1<<32-Ii(s)+_|f<<_|v,cs=w+i}else us=1<<w|f<<_|v,cs=i}function x0(i){i.return!==null&&(Tu(i,1),qC(i,1,0))}function S0(i){for(;i===Lv;)Lv=Vc[--Hc],Vc[Hc]=null,Dv=Vc[--Hc],Vc[Hc]=null;for(;i===ju;)ju=fi[--di],fi[di]=null,cs=fi[--di],fi[di]=null,us=fi[--di],fi[di]=null}var Qo=null,Jo=null,Un=!1,Ni=null;function XC(i,s){var f=pi(5,null,null,0);f.elementType="DELETED",f.stateNode=s,f.return=i,s=i.deletions,s===null?(i.deletions=[f],i.flags|=16):s.push(f)}function ib(i,s){switch(i.tag){case 5:var f=i.type;return s=s.nodeType!==1||f.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,Qo=i,Jo=sl(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,Qo=i,Jo=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(f=ju!==null?{id:us,overflow:cs}:null,i.memoizedState={dehydrated:s,treeContext:f,retryLane:1073741824},f=pi(18,null,null,0),f.stateNode=s,f.return=i,i.child=f,Qo=i,Jo=null,!0):!1;default:return!1}}function Ry(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Fy(i){if(Un){var s=Jo;if(s){var f=s;if(!ib(i,s)){if(Ry(i))throw Error(oe(418));s=sl(f.nextSibling);var v=Qo;s&&ib(i,s)?XC(v,f):(i.flags=i.flags&-4097|2,Un=!1,Qo=i)}}else{if(Ry(i))throw Error(oe(418));i.flags=i.flags&-4097|2,Un=!1,Qo=i}}}function ab(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Qo=i}function rv(i){if(i!==Qo)return!1;if(!Un)return ab(i),Un=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Dy(i.type,i.memoizedProps)),s&&(s=Jo)){if(Ry(i))throw ZC(),Error(oe(418));for(;s;)XC(i,s),s=sl(s.nextSibling)}if(ab(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(oe(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var f=i.data;if(f==="/$"){if(s===0){Jo=sl(i.nextSibling);break t}s--}else f!=="$"&&f!=="$!"&&f!=="$?"||s++}i=i.nextSibling}Jo=null}}else Jo=Qo?sl(i.stateNode.nextSibling):null;return!0}function ZC(){for(var i=Jo;i;)i=sl(i.nextSibling)}function Jc(){Jo=Qo=null,Un=!1}function O0(i){Ni===null?Ni=[i]:Ni.push(i)}var xA=gs.ReactCurrentBatchConfig;function Cd(i,s,f){if(i=f.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(oe(309));var v=f.stateNode}if(!v)throw Error(oe(147,i));var _=v,w=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===w?s.ref:(s=function(x){var S=_.refs;x===null?delete S[w]:S[w]=x},s._stringRef=w,s)}if(typeof i!="string")throw Error(oe(284));if(!f._owner)throw Error(oe(290,i))}return i}function ov(i,s){throw i=Object.prototype.toString.call(s),Error(oe(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function sb(i){var s=i._init;return s(i._payload)}function JC(i){function s(Z,J){if(i){var G=Z.deletions;G===null?(Z.deletions=[J],Z.flags|=16):G.push(J)}}function f(Z,J){if(!i)return null;for(;J!==null;)s(Z,J),J=J.sibling;return null}function v(Z,J){for(Z=new Map;J!==null;)J.key!==null?Z.set(J.key,J):Z.set(J.index,J),J=J.sibling;return Z}function _(Z,J){return Z=fl(Z,J),Z.index=0,Z.sibling=null,Z}function w(Z,J,G){return Z.index=G,i?(G=Z.alternate,G!==null?(G=G.index,G<J?(Z.flags|=2,J):G):(Z.flags|=2,J)):(Z.flags|=1048576,J)}function x(Z){return i&&Z.alternate===null&&(Z.flags|=2),Z}function S(Z,J,G,X){return J===null||J.tag!==6?(J=ay(G,Z.mode,X),J.return=Z,J):(J=_(J,G),J.return=Z,J)}function E(Z,J,G,X){var yt=G.type;return yt===Dc?M(Z,J,G.props.children,X,G.key):J!==null&&(J.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===Js&&sb(yt)===J.type)?(X=_(J,G.props),X.ref=Cd(Z,J,G),X.return=Z,X):(X=wv(G.type,G.key,G.props,null,Z.mode,X),X.ref=Cd(Z,J,G),X.return=Z,X)}function O(Z,J,G,X){return J===null||J.tag!==4||J.stateNode.containerInfo!==G.containerInfo||J.stateNode.implementation!==G.implementation?(J=sy(G,Z.mode,X),J.return=Z,J):(J=_(J,G.children||[]),J.return=Z,J)}function M(Z,J,G,X,yt){return J===null||J.tag!==7?(J=Lu(G,Z.mode,X,yt),J.return=Z,J):(J=_(J,G),J.return=Z,J)}function A(Z,J,G){if(typeof J=="string"&&J!==""||typeof J=="number")return J=ay(""+J,Z.mode,G),J.return=Z,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case Kh:return G=wv(J.type,J.key,J.props,null,Z.mode,G),G.ref=Cd(Z,null,J),G.return=Z,G;case Lc:return J=sy(J,Z.mode,G),J.return=Z,J;case Js:var X=J._init;return A(Z,X(J._payload),G)}if(Ed(J)||md(J))return J=Lu(J,Z.mode,G,null),J.return=Z,J;ov(Z,J)}return null}function L(Z,J,G,X){var yt=J!==null?J.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return yt!==null?null:S(Z,J,""+G,X);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Kh:return G.key===yt?E(Z,J,G,X):null;case Lc:return G.key===yt?O(Z,J,G,X):null;case Js:return yt=G._init,L(Z,J,yt(G._payload),X)}if(Ed(G)||md(G))return yt!==null?null:M(Z,J,G,X,null);ov(Z,G)}return null}function R(Z,J,G,X,yt){if(typeof X=="string"&&X!==""||typeof X=="number")return Z=Z.get(G)||null,S(J,Z,""+X,yt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Kh:return Z=Z.get(X.key===null?G:X.key)||null,E(J,Z,X,yt);case Lc:return Z=Z.get(X.key===null?G:X.key)||null,O(J,Z,X,yt);case Js:var bt=X._init;return R(Z,J,G,bt(X._payload),yt)}if(Ed(X)||md(X))return Z=Z.get(G)||null,M(J,Z,X,yt,null);ov(J,X)}return null}function $(Z,J,G,X){for(var yt=null,bt=null,Tt=J,Ct=J=0,Q=null;Tt!==null&&Ct<G.length;Ct++){Tt.index>Ct?(Q=Tt,Tt=null):Q=Tt.sibling;var V=L(Z,Tt,G[Ct],X);if(V===null){Tt===null&&(Tt=Q);break}i&&Tt&&V.alternate===null&&s(Z,Tt),J=w(V,J,Ct),bt===null?yt=V:bt.sibling=V,bt=V,Tt=Q}if(Ct===G.length)return f(Z,Tt),Un&&Tu(Z,Ct),yt;if(Tt===null){for(;Ct<G.length;Ct++)Tt=A(Z,G[Ct],X),Tt!==null&&(J=w(Tt,J,Ct),bt===null?yt=Tt:bt.sibling=Tt,bt=Tt);return Un&&Tu(Z,Ct),yt}for(Tt=v(Z,Tt);Ct<G.length;Ct++)Q=R(Tt,Z,Ct,G[Ct],X),Q!==null&&(i&&Q.alternate!==null&&Tt.delete(Q.key===null?Ct:Q.key),J=w(Q,J,Ct),bt===null?yt=Q:bt.sibling=Q,bt=Q);return i&&Tt.forEach(function(W){return s(Z,W)}),Un&&Tu(Z,Ct),yt}function at(Z,J,G,X){var yt=md(G);if(typeof yt!="function")throw Error(oe(150));if(G=yt.call(G),G==null)throw Error(oe(151));for(var bt=yt=null,Tt=J,Ct=J=0,Q=null,V=G.next();Tt!==null&&!V.done;Ct++,V=G.next()){Tt.index>Ct?(Q=Tt,Tt=null):Q=Tt.sibling;var W=L(Z,Tt,V.value,X);if(W===null){Tt===null&&(Tt=Q);break}i&&Tt&&W.alternate===null&&s(Z,Tt),J=w(W,J,Ct),bt===null?yt=W:bt.sibling=W,bt=W,Tt=Q}if(V.done)return f(Z,Tt),Un&&Tu(Z,Ct),yt;if(Tt===null){for(;!V.done;Ct++,V=G.next())V=A(Z,V.value,X),V!==null&&(J=w(V,J,Ct),bt===null?yt=V:bt.sibling=V,bt=V);return Un&&Tu(Z,Ct),yt}for(Tt=v(Z,Tt);!V.done;Ct++,V=G.next())V=R(Tt,Z,Ct,V.value,X),V!==null&&(i&&V.alternate!==null&&Tt.delete(V.key===null?Ct:V.key),J=w(V,J,Ct),bt===null?yt=V:bt.sibling=V,bt=V);return i&&Tt.forEach(function(Y){return s(Z,Y)}),Un&&Tu(Z,Ct),yt}function mt(Z,J,G,X){if(typeof G=="object"&&G!==null&&G.type===Dc&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case Kh:t:{for(var yt=G.key,bt=J;bt!==null;){if(bt.key===yt){if(yt=G.type,yt===Dc){if(bt.tag===7){f(Z,bt.sibling),J=_(bt,G.props.children),J.return=Z,Z=J;break t}}else if(bt.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===Js&&sb(yt)===bt.type){f(Z,bt.sibling),J=_(bt,G.props),J.ref=Cd(Z,bt,G),J.return=Z,Z=J;break t}f(Z,bt);break}else s(Z,bt);bt=bt.sibling}G.type===Dc?(J=Lu(G.props.children,Z.mode,X,G.key),J.return=Z,Z=J):(X=wv(G.type,G.key,G.props,null,Z.mode,X),X.ref=Cd(Z,J,G),X.return=Z,Z=X)}return x(Z);case Lc:t:{for(bt=G.key;J!==null;){if(J.key===bt)if(J.tag===4&&J.stateNode.containerInfo===G.containerInfo&&J.stateNode.implementation===G.implementation){f(Z,J.sibling),J=_(J,G.children||[]),J.return=Z,Z=J;break t}else{f(Z,J);break}else s(Z,J);J=J.sibling}J=sy(G,Z.mode,X),J.return=Z,Z=J}return x(Z);case Js:return bt=G._init,mt(Z,J,bt(G._payload),X)}if(Ed(G))return $(Z,J,G,X);if(md(G))return at(Z,J,G,X);ov(Z,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,J!==null&&J.tag===6?(f(Z,J.sibling),J=_(J,G),J.return=Z,Z=J):(f(Z,J),J=ay(G,Z.mode,X),J.return=Z,Z=J),x(Z)):f(Z,J)}return mt}var Qc=JC(!0),QC=JC(!1),jv=vl(null),Nv=null,zc=null,T0=null;function E0(){T0=zc=Nv=null}function P0(i){var s=jv.current;Dn(jv),i._currentValue=s}function Vy(i,s,f){for(;i!==null;){var v=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,v!==null&&(v.childLanes|=s)):v!==null&&(v.childLanes&s)!==s&&(v.childLanes|=s),i===f)break;i=i.return}}function Yc(i,s){Nv=i,T0=zc=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(Vo=!0),i.firstContext=null)}function vi(i){var s=i._currentValue;if(T0!==i)if(i={context:i,memoizedValue:s,next:null},zc===null){if(Nv===null)throw Error(oe(308));zc=i,Nv.dependencies={lanes:0,firstContext:i}}else zc=zc.next=i;return s}var ku=null;function k0(i){ku===null?ku=[i]:ku.push(i)}function tx(i,s,f,v){var _=s.interleaved;return _===null?(f.next=f,k0(s)):(f.next=_.next,_.next=f),s.interleaved=f,hs(i,v)}function hs(i,s){i.lanes|=s;var f=i.alternate;for(f!==null&&(f.lanes|=s),f=i,i=i.return;i!==null;)i.childLanes|=s,f=i.alternate,f!==null&&(f.childLanes|=s),f=i,i=i.return;return f.tag===3?f.stateNode:null}var Qs=!1;function A0(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ex(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function fs(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function ll(i,s,f){var v=i.updateQueue;if(v===null)return null;if(v=v.shared,hn&2){var _=v.pending;return _===null?s.next=s:(s.next=_.next,_.next=s),v.pending=s,hs(i,f)}return _=v.interleaved,_===null?(s.next=s,k0(v)):(s.next=_.next,_.next=s),v.interleaved=s,hs(i,f)}function hv(i,s,f){if(s=s.updateQueue,s!==null&&(s=s.shared,(f&4194240)!==0)){var v=s.lanes;v&=i.pendingLanes,f|=v,s.lanes=f,v0(i,f)}}function lb(i,s){var f=i.updateQueue,v=i.alternate;if(v!==null&&(v=v.updateQueue,f===v)){var _=null,w=null;if(f=f.firstBaseUpdate,f!==null){do{var x={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};w===null?_=w=x:w=w.next=x,f=f.next}while(f!==null);w===null?_=w=s:w=w.next=s}else _=w=s;f={baseState:v.baseState,firstBaseUpdate:_,lastBaseUpdate:w,shared:v.shared,effects:v.effects},i.updateQueue=f;return}i=f.lastBaseUpdate,i===null?f.firstBaseUpdate=s:i.next=s,f.lastBaseUpdate=s}function Iv(i,s,f,v){var _=i.updateQueue;Qs=!1;var w=_.firstBaseUpdate,x=_.lastBaseUpdate,S=_.shared.pending;if(S!==null){_.shared.pending=null;var E=S,O=E.next;E.next=null,x===null?w=O:x.next=O,x=E;var M=i.alternate;M!==null&&(M=M.updateQueue,S=M.lastBaseUpdate,S!==x&&(S===null?M.firstBaseUpdate=O:S.next=O,M.lastBaseUpdate=E))}if(w!==null){var A=_.baseState;x=0,M=O=E=null,S=w;do{var L=S.lane,R=S.eventTime;if((v&L)===L){M!==null&&(M=M.next={eventTime:R,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});t:{var $=i,at=S;switch(L=s,R=f,at.tag){case 1:if($=at.payload,typeof $=="function"){A=$.call(R,A,L);break t}A=$;break t;case 3:$.flags=$.flags&-65537|128;case 0:if($=at.payload,L=typeof $=="function"?$.call(R,A,L):$,L==null)break t;A=Xn({},A,L);break t;case 2:Qs=!0}}S.callback!==null&&S.lane!==0&&(i.flags|=64,L=_.effects,L===null?_.effects=[S]:L.push(S))}else R={eventTime:R,lane:L,tag:S.tag,payload:S.payload,callback:S.callback,next:null},M===null?(O=M=R,E=A):M=M.next=R,x|=L;if(S=S.next,S===null){if(S=_.shared.pending,S===null)break;L=S,S=L.next,L.next=null,_.lastBaseUpdate=L,_.shared.pending=null}}while(!0);if(M===null&&(E=A),_.baseState=E,_.firstBaseUpdate=O,_.lastBaseUpdate=M,s=_.shared.interleaved,s!==null){_=s;do x|=_.lane,_=_.next;while(_!==s)}else w===null&&(_.shared.lanes=0);Iu|=x,i.lanes=x,i.memoizedState=A}}function ub(i,s,f){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var v=i[s],_=v.callback;if(_!==null){if(v.callback=null,v=f,typeof _!="function")throw Error(oe(191,_));_.call(v)}}}var ap={},xa=vl(ap),Xd=vl(ap),Zd=vl(ap);function Au(i){if(i===ap)throw Error(oe(174));return i}function M0(i,s){switch(On(Zd,s),On(Xd,i),On(xa,ap),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:_y(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=_y(s,i)}Dn(xa),On(xa,s)}function tf(){Dn(xa),Dn(Xd),Dn(Zd)}function nx(i){Au(Zd.current);var s=Au(xa.current),f=_y(s,i.type);s!==f&&(On(Xd,i),On(xa,f))}function L0(i){Xd.current===i&&(Dn(xa),Dn(Xd))}var Yn=vl(0);function Rv(i){for(var s=i;s!==null;){if(s.tag===13){var f=s.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ty=[];function D0(){for(var i=0;i<ty.length;i++)ty[i]._workInProgressVersionPrimary=null;ty.length=0}var vv=gs.ReactCurrentDispatcher,ey=gs.ReactCurrentBatchConfig,Nu=0,qn=null,Or=null,Dr=null,Fv=!1,Nd=!1,Jd=0,SA=0;function no(){throw Error(oe(321))}function j0(i,s){if(s===null)return!1;for(var f=0;f<s.length&&f<i.length;f++)if(!Vi(i[f],s[f]))return!1;return!0}function N0(i,s,f,v,_,w){if(Nu=w,qn=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,vv.current=i===null||i.memoizedState===null?PA:kA,i=f(v,_),Nd){w=0;do{if(Nd=!1,Jd=0,25<=w)throw Error(oe(301));w+=1,Dr=Or=null,s.updateQueue=null,vv.current=AA,i=f(v,_)}while(Nd)}if(vv.current=Vv,s=Or!==null&&Or.next!==null,Nu=0,Dr=Or=qn=null,Fv=!1,s)throw Error(oe(300));return i}function I0(){var i=Jd!==0;return Jd=0,i}function wa(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dr===null?qn.memoizedState=Dr=i:Dr=Dr.next=i,Dr}function gi(){if(Or===null){var i=qn.alternate;i=i!==null?i.memoizedState:null}else i=Or.next;var s=Dr===null?qn.memoizedState:Dr.next;if(s!==null)Dr=s,Or=i;else{if(i===null)throw Error(oe(310));Or=i,i={memoizedState:Or.memoizedState,baseState:Or.baseState,baseQueue:Or.baseQueue,queue:Or.queue,next:null},Dr===null?qn.memoizedState=Dr=i:Dr=Dr.next=i}return Dr}function Qd(i,s){return typeof s=="function"?s(i):s}function ny(i){var s=gi(),f=s.queue;if(f===null)throw Error(oe(311));f.lastRenderedReducer=i;var v=Or,_=v.baseQueue,w=f.pending;if(w!==null){if(_!==null){var x=_.next;_.next=w.next,w.next=x}v.baseQueue=_=w,f.pending=null}if(_!==null){w=_.next,v=v.baseState;var S=x=null,E=null,O=w;do{var M=O.lane;if((Nu&M)===M)E!==null&&(E=E.next={lane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),v=O.hasEagerState?O.eagerState:i(v,O.action);else{var A={lane:M,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null};E===null?(S=E=A,x=v):E=E.next=A,qn.lanes|=M,Iu|=M}O=O.next}while(O!==null&&O!==w);E===null?x=v:E.next=S,Vi(v,s.memoizedState)||(Vo=!0),s.memoizedState=v,s.baseState=x,s.baseQueue=E,f.lastRenderedState=v}if(i=f.interleaved,i!==null){_=i;do w=_.lane,qn.lanes|=w,Iu|=w,_=_.next;while(_!==i)}else _===null&&(f.lanes=0);return[s.memoizedState,f.dispatch]}function ry(i){var s=gi(),f=s.queue;if(f===null)throw Error(oe(311));f.lastRenderedReducer=i;var v=f.dispatch,_=f.pending,w=s.memoizedState;if(_!==null){f.pending=null;var x=_=_.next;do w=i(w,x.action),x=x.next;while(x!==_);Vi(w,s.memoizedState)||(Vo=!0),s.memoizedState=w,s.baseQueue===null&&(s.baseState=w),f.lastRenderedState=w}return[w,v]}function rx(){}function ox(i,s){var f=qn,v=gi(),_=s(),w=!Vi(v.memoizedState,_);if(w&&(v.memoizedState=_,Vo=!0),v=v.queue,R0(sx.bind(null,f,v,i),[i]),v.getSnapshot!==s||w||Dr!==null&&Dr.memoizedState.tag&1){if(f.flags|=2048,tp(9,ax.bind(null,f,v,_,s),void 0,null),jr===null)throw Error(oe(349));Nu&30||ix(f,s,_)}return _}function ix(i,s,f){i.flags|=16384,i={getSnapshot:s,value:f},s=qn.updateQueue,s===null?(s={lastEffect:null,stores:null},qn.updateQueue=s,s.stores=[i]):(f=s.stores,f===null?s.stores=[i]:f.push(i))}function ax(i,s,f,v){s.value=f,s.getSnapshot=v,lx(s)&&ux(i)}function sx(i,s,f){return f(function(){lx(s)&&ux(i)})}function lx(i){var s=i.getSnapshot;i=i.value;try{var f=s();return!Vi(i,f)}catch{return!0}}function ux(i){var s=hs(i,1);s!==null&&Ri(s,i,1,-1)}function cb(i){var s=wa();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qd,lastRenderedState:i},s.queue=i,i=i.dispatch=EA.bind(null,qn,i),[s.memoizedState,i]}function tp(i,s,f,v){return i={tag:i,create:s,destroy:f,deps:v,next:null},s=qn.updateQueue,s===null?(s={lastEffect:null,stores:null},qn.updateQueue=s,s.lastEffect=i.next=i):(f=s.lastEffect,f===null?s.lastEffect=i.next=i:(v=f.next,f.next=i,i.next=v,s.lastEffect=i)),i}function cx(){return gi().memoizedState}function gv(i,s,f,v){var _=wa();qn.flags|=i,_.memoizedState=tp(1|s,f,void 0,v===void 0?null:v)}function Jv(i,s,f,v){var _=gi();v=v===void 0?null:v;var w=void 0;if(Or!==null){var x=Or.memoizedState;if(w=x.destroy,v!==null&&j0(v,x.deps)){_.memoizedState=tp(s,f,w,v);return}}qn.flags|=i,_.memoizedState=tp(1|s,f,w,v)}function fb(i,s){return gv(8390656,8,i,s)}function R0(i,s){return Jv(2048,8,i,s)}function fx(i,s){return Jv(4,2,i,s)}function dx(i,s){return Jv(4,4,i,s)}function px(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function hx(i,s,f){return f=f!=null?f.concat([i]):null,Jv(4,4,px.bind(null,s,i),f)}function F0(){}function vx(i,s){var f=gi();s=s===void 0?null:s;var v=f.memoizedState;return v!==null&&s!==null&&j0(s,v[1])?v[0]:(f.memoizedState=[i,s],i)}function gx(i,s){var f=gi();s=s===void 0?null:s;var v=f.memoizedState;return v!==null&&s!==null&&j0(s,v[1])?v[0]:(i=i(),f.memoizedState=[i,s],i)}function mx(i,s,f){return Nu&21?(Vi(f,s)||(f=CC(),qn.lanes|=f,Iu|=f,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,Vo=!0),i.memoizedState=f)}function OA(i,s){var f=bn;bn=f!==0&&4>f?f:4,i(!0);var v=ey.transition;ey.transition={};try{i(!1),s()}finally{bn=f,ey.transition=v}}function yx(){return gi().memoizedState}function TA(i,s,f){var v=cl(i);if(f={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null},_x(i))wx(s,f);else if(f=tx(i,s,f,v),f!==null){var _=bo();Ri(f,i,v,_),bx(f,s,v)}}function EA(i,s,f){var v=cl(i),_={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null};if(_x(i))wx(s,_);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=s.lastRenderedReducer,w!==null))try{var x=s.lastRenderedState,S=w(x,f);if(_.hasEagerState=!0,_.eagerState=S,Vi(S,x)){var E=s.interleaved;E===null?(_.next=_,k0(s)):(_.next=E.next,E.next=_),s.interleaved=_;return}}catch{}finally{}f=tx(i,s,_,v),f!==null&&(_=bo(),Ri(f,i,v,_),bx(f,s,v))}}function _x(i){var s=i.alternate;return i===qn||s!==null&&s===qn}function wx(i,s){Nd=Fv=!0;var f=i.pending;f===null?s.next=s:(s.next=f.next,f.next=s),i.pending=s}function bx(i,s,f){if(f&4194240){var v=s.lanes;v&=i.pendingLanes,f|=v,s.lanes=f,v0(i,f)}}var Vv={readContext:vi,useCallback:no,useContext:no,useEffect:no,useImperativeHandle:no,useInsertionEffect:no,useLayoutEffect:no,useMemo:no,useReducer:no,useRef:no,useState:no,useDebugValue:no,useDeferredValue:no,useTransition:no,useMutableSource:no,useSyncExternalStore:no,useId:no,unstable_isNewReconciler:!1},PA={readContext:vi,useCallback:function(i,s){return wa().memoizedState=[i,s===void 0?null:s],i},useContext:vi,useEffect:fb,useImperativeHandle:function(i,s,f){return f=f!=null?f.concat([i]):null,gv(4194308,4,px.bind(null,s,i),f)},useLayoutEffect:function(i,s){return gv(4194308,4,i,s)},useInsertionEffect:function(i,s){return gv(4,2,i,s)},useMemo:function(i,s){var f=wa();return s=s===void 0?null:s,i=i(),f.memoizedState=[i,s],i},useReducer:function(i,s,f){var v=wa();return s=f!==void 0?f(s):s,v.memoizedState=v.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},v.queue=i,i=i.dispatch=TA.bind(null,qn,i),[v.memoizedState,i]},useRef:function(i){var s=wa();return i={current:i},s.memoizedState=i},useState:cb,useDebugValue:F0,useDeferredValue:function(i){return wa().memoizedState=i},useTransition:function(){var i=cb(!1),s=i[0];return i=OA.bind(null,i[1]),wa().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,f){var v=qn,_=wa();if(Un){if(f===void 0)throw Error(oe(407));f=f()}else{if(f=s(),jr===null)throw Error(oe(349));Nu&30||ix(v,s,f)}_.memoizedState=f;var w={value:f,getSnapshot:s};return _.queue=w,fb(sx.bind(null,v,w,i),[i]),v.flags|=2048,tp(9,ax.bind(null,v,w,f,s),void 0,null),f},useId:function(){var i=wa(),s=jr.identifierPrefix;if(Un){var f=cs,v=us;f=(v&~(1<<32-Ii(v)-1)).toString(32)+f,s=":"+s+"R"+f,f=Jd++,0<f&&(s+="H"+f.toString(32)),s+=":"}else f=SA++,s=":"+s+"r"+f.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},kA={readContext:vi,useCallback:vx,useContext:vi,useEffect:R0,useImperativeHandle:hx,useInsertionEffect:fx,useLayoutEffect:dx,useMemo:gx,useReducer:ny,useRef:cx,useState:function(){return ny(Qd)},useDebugValue:F0,useDeferredValue:function(i){var s=gi();return mx(s,Or.memoizedState,i)},useTransition:function(){var i=ny(Qd)[0],s=gi().memoizedState;return[i,s]},useMutableSource:rx,useSyncExternalStore:ox,useId:yx,unstable_isNewReconciler:!1},AA={readContext:vi,useCallback:vx,useContext:vi,useEffect:R0,useImperativeHandle:hx,useInsertionEffect:fx,useLayoutEffect:dx,useMemo:gx,useReducer:ry,useRef:cx,useState:function(){return ry(Qd)},useDebugValue:F0,useDeferredValue:function(i){var s=gi();return Or===null?s.memoizedState=i:mx(s,Or.memoizedState,i)},useTransition:function(){var i=ry(Qd)[0],s=gi().memoizedState;return[i,s]},useMutableSource:rx,useSyncExternalStore:ox,useId:yx,unstable_isNewReconciler:!1};function Di(i,s){if(i&&i.defaultProps){s=Xn({},s),i=i.defaultProps;for(var f in i)s[f]===void 0&&(s[f]=i[f]);return s}return s}function Hy(i,s,f,v){s=i.memoizedState,f=f(v,s),f=f==null?s:Xn({},s,f),i.memoizedState=f,i.lanes===0&&(i.updateQueue.baseState=f)}var Qv={isMounted:function(i){return(i=i._reactInternals)?Vu(i)===i:!1},enqueueSetState:function(i,s,f){i=i._reactInternals;var v=bo(),_=cl(i),w=fs(v,_);w.payload=s,f!=null&&(w.callback=f),s=ll(i,w,_),s!==null&&(Ri(s,i,_,v),hv(s,i,_))},enqueueReplaceState:function(i,s,f){i=i._reactInternals;var v=bo(),_=cl(i),w=fs(v,_);w.tag=1,w.payload=s,f!=null&&(w.callback=f),s=ll(i,w,_),s!==null&&(Ri(s,i,_,v),hv(s,i,_))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var f=bo(),v=cl(i),_=fs(f,v);_.tag=2,s!=null&&(_.callback=s),s=ll(i,_,v),s!==null&&(Ri(s,i,v,f),hv(s,i,v))}};function db(i,s,f,v,_,w,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(v,w,x):s.prototype&&s.prototype.isPureReactComponent?!Gd(f,v)||!Gd(_,w):!0}function Cx(i,s,f){var v=!1,_=pl,w=s.contextType;return typeof w=="object"&&w!==null?w=vi(w):(_=zo(s)?Du:io.current,v=s.contextTypes,w=(v=v!=null)?Zc(i,_):pl),s=new s(f,w),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Qv,i.stateNode=s,s._reactInternals=i,v&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=_,i.__reactInternalMemoizedMaskedChildContext=w),s}function pb(i,s,f,v){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(f,v),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(f,v),s.state!==i&&Qv.enqueueReplaceState(s,s.state,null)}function zy(i,s,f,v){var _=i.stateNode;_.props=f,_.state=i.memoizedState,_.refs={},A0(i);var w=s.contextType;typeof w=="object"&&w!==null?_.context=vi(w):(w=zo(s)?Du:io.current,_.context=Zc(i,w)),_.state=i.memoizedState,w=s.getDerivedStateFromProps,typeof w=="function"&&(Hy(i,s,w,f),_.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(s=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),s!==_.state&&Qv.enqueueReplaceState(_,_.state,null),Iv(i,f,_,v),_.state=i.memoizedState),typeof _.componentDidMount=="function"&&(i.flags|=4194308)}function ef(i,s){try{var f="",v=s;do f+=ok(v),v=v.return;while(v);var _=f}catch(w){_=`
Error generating stack: `+w.message+`
`+w.stack}return{value:i,source:s,stack:_,digest:null}}function oy(i,s,f){return{value:i,source:null,stack:f??null,digest:s??null}}function By(i,s){try{console.error(s.value)}catch(f){setTimeout(function(){throw f})}}var MA=typeof WeakMap=="function"?WeakMap:Map;function xx(i,s,f){f=fs(-1,f),f.tag=3,f.payload={element:null};var v=s.value;return f.callback=function(){zv||(zv=!0,Jy=v),By(i,s)},f}function Sx(i,s,f){f=fs(-1,f),f.tag=3;var v=i.type.getDerivedStateFromError;if(typeof v=="function"){var _=s.value;f.payload=function(){return v(_)},f.callback=function(){By(i,s)}}var w=i.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(f.callback=function(){By(i,s),typeof v!="function"&&(ul===null?ul=new Set([this]):ul.add(this));var x=s.stack;this.componentDidCatch(s.value,{componentStack:x!==null?x:""})}),f}function hb(i,s,f){var v=i.pingCache;if(v===null){v=i.pingCache=new MA;var _=new Set;v.set(s,_)}else _=v.get(s),_===void 0&&(_=new Set,v.set(s,_));_.has(f)||(_.add(f),i=$A.bind(null,i,s,f),s.then(i,i))}function vb(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function gb(i,s,f,v,_){return i.mode&1?(i.flags|=65536,i.lanes=_,i):(i===s?i.flags|=65536:(i.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(s=fs(-1,1),s.tag=2,ll(f,s,1))),f.lanes|=1),i)}var LA=gs.ReactCurrentOwner,Vo=!1;function wo(i,s,f,v){s.child=i===null?QC(s,null,f,v):Qc(s,i.child,f,v)}function mb(i,s,f,v,_){f=f.render;var w=s.ref;return Yc(s,_),v=N0(i,s,f,v,w,_),f=I0(),i!==null&&!Vo?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~_,vs(i,s,_)):(Un&&f&&x0(s),s.flags|=1,wo(i,s,v,_),s.child)}function yb(i,s,f,v,_){if(i===null){var w=f.type;return typeof w=="function"&&!G0(w)&&w.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(s.tag=15,s.type=w,Ox(i,s,w,v,_)):(i=wv(f.type,null,v,s,s.mode,_),i.ref=s.ref,i.return=s,s.child=i)}if(w=i.child,!(i.lanes&_)){var x=w.memoizedProps;if(f=f.compare,f=f!==null?f:Gd,f(x,v)&&i.ref===s.ref)return vs(i,s,_)}return s.flags|=1,i=fl(w,v),i.ref=s.ref,i.return=s,s.child=i}function Ox(i,s,f,v,_){if(i!==null){var w=i.memoizedProps;if(Gd(w,v)&&i.ref===s.ref)if(Vo=!1,s.pendingProps=v=w,(i.lanes&_)!==0)i.flags&131072&&(Vo=!0);else return s.lanes=i.lanes,vs(i,s,_)}return Uy(i,s,f,v,_)}function Tx(i,s,f){var v=s.pendingProps,_=v.children,w=i!==null?i.memoizedState:null;if(v.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},On(Uc,Zo),Zo|=f;else{if(!(f&1073741824))return i=w!==null?w.baseLanes|f:f,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,On(Uc,Zo),Zo|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=w!==null?w.baseLanes:f,On(Uc,Zo),Zo|=v}else w!==null?(v=w.baseLanes|f,s.memoizedState=null):v=f,On(Uc,Zo),Zo|=v;return wo(i,s,_,f),s.child}function Ex(i,s){var f=s.ref;(i===null&&f!==null||i!==null&&i.ref!==f)&&(s.flags|=512,s.flags|=2097152)}function Uy(i,s,f,v,_){var w=zo(f)?Du:io.current;return w=Zc(s,w),Yc(s,_),f=N0(i,s,f,v,w,_),v=I0(),i!==null&&!Vo?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~_,vs(i,s,_)):(Un&&v&&x0(s),s.flags|=1,wo(i,s,f,_),s.child)}function _b(i,s,f,v,_){if(zo(f)){var w=!0;Mv(s)}else w=!1;if(Yc(s,_),s.stateNode===null)mv(i,s),Cx(s,f,v),zy(s,f,v,_),v=!0;else if(i===null){var x=s.stateNode,S=s.memoizedProps;x.props=S;var E=x.context,O=f.contextType;typeof O=="object"&&O!==null?O=vi(O):(O=zo(f)?Du:io.current,O=Zc(s,O));var M=f.getDerivedStateFromProps,A=typeof M=="function"||typeof x.getSnapshotBeforeUpdate=="function";A||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(S!==v||E!==O)&&pb(s,x,v,O),Qs=!1;var L=s.memoizedState;x.state=L,Iv(s,v,x,_),E=s.memoizedState,S!==v||L!==E||Ho.current||Qs?(typeof M=="function"&&(Hy(s,f,M,v),E=s.memoizedState),(S=Qs||db(s,f,S,v,L,E,O))?(A||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=v,s.memoizedState=E),x.props=v,x.state=E,x.context=O,v=S):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),v=!1)}else{x=s.stateNode,ex(i,s),S=s.memoizedProps,O=s.type===s.elementType?S:Di(s.type,S),x.props=O,A=s.pendingProps,L=x.context,E=f.contextType,typeof E=="object"&&E!==null?E=vi(E):(E=zo(f)?Du:io.current,E=Zc(s,E));var R=f.getDerivedStateFromProps;(M=typeof R=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(S!==A||L!==E)&&pb(s,x,v,E),Qs=!1,L=s.memoizedState,x.state=L,Iv(s,v,x,_);var $=s.memoizedState;S!==A||L!==$||Ho.current||Qs?(typeof R=="function"&&(Hy(s,f,R,v),$=s.memoizedState),(O=Qs||db(s,f,O,v,L,$,E)||!1)?(M||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(v,$,E),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(v,$,E)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||S===i.memoizedProps&&L===i.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&L===i.memoizedState||(s.flags|=1024),s.memoizedProps=v,s.memoizedState=$),x.props=v,x.state=$,x.context=E,v=O):(typeof x.componentDidUpdate!="function"||S===i.memoizedProps&&L===i.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&L===i.memoizedState||(s.flags|=1024),v=!1)}return Wy(i,s,f,v,w,_)}function Wy(i,s,f,v,_,w){Ex(i,s);var x=(s.flags&128)!==0;if(!v&&!x)return _&&ob(s,f,!1),vs(i,s,w);v=s.stateNode,LA.current=s;var S=x&&typeof f.getDerivedStateFromError!="function"?null:v.render();return s.flags|=1,i!==null&&x?(s.child=Qc(s,i.child,null,w),s.child=Qc(s,null,S,w)):wo(i,s,S,w),s.memoizedState=v.state,_&&ob(s,f,!0),s.child}function Px(i){var s=i.stateNode;s.pendingContext?rb(i,s.pendingContext,s.pendingContext!==s.context):s.context&&rb(i,s.context,!1),M0(i,s.containerInfo)}function wb(i,s,f,v,_){return Jc(),O0(_),s.flags|=256,wo(i,s,f,v),s.child}var $y={dehydrated:null,treeContext:null,retryLane:0};function Gy(i){return{baseLanes:i,cachePool:null,transitions:null}}function kx(i,s,f){var v=s.pendingProps,_=Yn.current,w=!1,x=(s.flags&128)!==0,S;if((S=x)||(S=i!==null&&i.memoizedState===null?!1:(_&2)!==0),S?(w=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(_|=1),On(Yn,_&1),i===null)return Fy(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(x=v.children,i=v.fallback,w?(v=s.mode,w=s.child,x={mode:"hidden",children:x},!(v&1)&&w!==null?(w.childLanes=0,w.pendingProps=x):w=ng(x,v,0,null),i=Lu(i,v,f,null),w.return=s,i.return=s,w.sibling=i,s.child=w,s.child.memoizedState=Gy(f),s.memoizedState=$y,i):V0(s,x));if(_=i.memoizedState,_!==null&&(S=_.dehydrated,S!==null))return DA(i,s,x,v,S,_,f);if(w){w=v.fallback,x=s.mode,_=i.child,S=_.sibling;var E={mode:"hidden",children:v.children};return!(x&1)&&s.child!==_?(v=s.child,v.childLanes=0,v.pendingProps=E,s.deletions=null):(v=fl(_,E),v.subtreeFlags=_.subtreeFlags&14680064),S!==null?w=fl(S,w):(w=Lu(w,x,f,null),w.flags|=2),w.return=s,v.return=s,v.sibling=w,s.child=v,v=w,w=s.child,x=i.child.memoizedState,x=x===null?Gy(f):{baseLanes:x.baseLanes|f,cachePool:null,transitions:x.transitions},w.memoizedState=x,w.childLanes=i.childLanes&~f,s.memoizedState=$y,v}return w=i.child,i=w.sibling,v=fl(w,{mode:"visible",children:v.children}),!(s.mode&1)&&(v.lanes=f),v.return=s,v.sibling=null,i!==null&&(f=s.deletions,f===null?(s.deletions=[i],s.flags|=16):f.push(i)),s.child=v,s.memoizedState=null,v}function V0(i,s){return s=ng({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function iv(i,s,f,v){return v!==null&&O0(v),Qc(s,i.child,null,f),i=V0(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function DA(i,s,f,v,_,w,x){if(f)return s.flags&256?(s.flags&=-257,v=oy(Error(oe(422))),iv(i,s,x,v)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(w=v.fallback,_=s.mode,v=ng({mode:"visible",children:v.children},_,0,null),w=Lu(w,_,x,null),w.flags|=2,v.return=s,w.return=s,v.sibling=w,s.child=v,s.mode&1&&Qc(s,i.child,null,x),s.child.memoizedState=Gy(x),s.memoizedState=$y,w);if(!(s.mode&1))return iv(i,s,x,null);if(_.data==="$!"){if(v=_.nextSibling&&_.nextSibling.dataset,v)var S=v.dgst;return v=S,w=Error(oe(419)),v=oy(w,v,void 0),iv(i,s,x,v)}if(S=(x&i.childLanes)!==0,Vo||S){if(v=jr,v!==null){switch(x&-x){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=_&(v.suspendedLanes|x)?0:_,_!==0&&_!==w.retryLane&&(w.retryLane=_,hs(i,_),Ri(v,i,_,-1))}return $0(),v=oy(Error(oe(421))),iv(i,s,x,v)}return _.data==="$?"?(s.flags|=128,s.child=i.child,s=GA.bind(null,i),_._reactRetry=s,null):(i=w.treeContext,Jo=sl(_.nextSibling),Qo=s,Un=!0,Ni=null,i!==null&&(fi[di++]=us,fi[di++]=cs,fi[di++]=ju,us=i.id,cs=i.overflow,ju=s),s=V0(s,v.children),s.flags|=4096,s)}function bb(i,s,f){i.lanes|=s;var v=i.alternate;v!==null&&(v.lanes|=s),Vy(i.return,s,f)}function iy(i,s,f,v,_){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:v,tail:f,tailMode:_}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=v,w.tail=f,w.tailMode=_)}function Ax(i,s,f){var v=s.pendingProps,_=v.revealOrder,w=v.tail;if(wo(i,s,v.children,f),v=Yn.current,v&2)v=v&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&bb(i,f,s);else if(i.tag===19)bb(i,f,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}v&=1}if(On(Yn,v),!(s.mode&1))s.memoizedState=null;else switch(_){case"forwards":for(f=s.child,_=null;f!==null;)i=f.alternate,i!==null&&Rv(i)===null&&(_=f),f=f.sibling;f=_,f===null?(_=s.child,s.child=null):(_=f.sibling,f.sibling=null),iy(s,!1,_,f,w);break;case"backwards":for(f=null,_=s.child,s.child=null;_!==null;){if(i=_.alternate,i!==null&&Rv(i)===null){s.child=_;break}i=_.sibling,_.sibling=f,f=_,_=i}iy(s,!0,f,null,w);break;case"together":iy(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function mv(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function vs(i,s,f){if(i!==null&&(s.dependencies=i.dependencies),Iu|=s.lanes,!(f&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(oe(153));if(s.child!==null){for(i=s.child,f=fl(i,i.pendingProps),s.child=f,f.return=s;i.sibling!==null;)i=i.sibling,f=f.sibling=fl(i,i.pendingProps),f.return=s;f.sibling=null}return s.child}function jA(i,s,f){switch(s.tag){case 3:Px(s),Jc();break;case 5:nx(s);break;case 1:zo(s.type)&&Mv(s);break;case 4:M0(s,s.stateNode.containerInfo);break;case 10:var v=s.type._context,_=s.memoizedProps.value;On(jv,v._currentValue),v._currentValue=_;break;case 13:if(v=s.memoizedState,v!==null)return v.dehydrated!==null?(On(Yn,Yn.current&1),s.flags|=128,null):f&s.child.childLanes?kx(i,s,f):(On(Yn,Yn.current&1),i=vs(i,s,f),i!==null?i.sibling:null);On(Yn,Yn.current&1);break;case 19:if(v=(f&s.childLanes)!==0,i.flags&128){if(v)return Ax(i,s,f);s.flags|=128}if(_=s.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),On(Yn,Yn.current),v)break;return null;case 22:case 23:return s.lanes=0,Tx(i,s,f)}return vs(i,s,f)}var Mx,Ky,Lx,Dx;Mx=function(i,s){for(var f=s.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break;for(;f.sibling===null;){if(f.return===null||f.return===s)return;f=f.return}f.sibling.return=f.return,f=f.sibling}};Ky=function(){};Lx=function(i,s,f,v){var _=i.memoizedProps;if(_!==v){i=s.stateNode,Au(xa.current);var w=null;switch(f){case"input":_=vy(i,_),v=vy(i,v),w=[];break;case"select":_=Xn({},_,{value:void 0}),v=Xn({},v,{value:void 0}),w=[];break;case"textarea":_=yy(i,_),v=yy(i,v),w=[];break;default:typeof _.onClick!="function"&&typeof v.onClick=="function"&&(i.onclick=kv)}wy(f,v);var x;f=null;for(O in _)if(!v.hasOwnProperty(O)&&_.hasOwnProperty(O)&&_[O]!=null)if(O==="style"){var S=_[O];for(x in S)S.hasOwnProperty(x)&&(f||(f={}),f[x]="")}else O!=="dangerouslySetInnerHTML"&&O!=="children"&&O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(Vd.hasOwnProperty(O)?w||(w=[]):(w=w||[]).push(O,null));for(O in v){var E=v[O];if(S=_!=null?_[O]:void 0,v.hasOwnProperty(O)&&E!==S&&(E!=null||S!=null))if(O==="style")if(S){for(x in S)!S.hasOwnProperty(x)||E&&E.hasOwnProperty(x)||(f||(f={}),f[x]="");for(x in E)E.hasOwnProperty(x)&&S[x]!==E[x]&&(f||(f={}),f[x]=E[x])}else f||(w||(w=[]),w.push(O,f)),f=E;else O==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,S=S?S.__html:void 0,E!=null&&S!==E&&(w=w||[]).push(O,E)):O==="children"?typeof E!="string"&&typeof E!="number"||(w=w||[]).push(O,""+E):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&(Vd.hasOwnProperty(O)?(E!=null&&O==="onScroll"&&Ln("scroll",i),w||S===E||(w=[])):(w=w||[]).push(O,E))}f&&(w=w||[]).push("style",f);var O=w;(s.updateQueue=O)&&(s.flags|=4)}};Dx=function(i,s,f,v){f!==v&&(s.flags|=4)};function xd(i,s){if(!Un)switch(i.tailMode){case"hidden":s=i.tail;for(var f=null;s!==null;)s.alternate!==null&&(f=s),s=s.sibling;f===null?i.tail=null:f.sibling=null;break;case"collapsed":f=i.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:v.sibling=null}}function ro(i){var s=i.alternate!==null&&i.alternate.child===i.child,f=0,v=0;if(s)for(var _=i.child;_!==null;)f|=_.lanes|_.childLanes,v|=_.subtreeFlags&14680064,v|=_.flags&14680064,_.return=i,_=_.sibling;else for(_=i.child;_!==null;)f|=_.lanes|_.childLanes,v|=_.subtreeFlags,v|=_.flags,_.return=i,_=_.sibling;return i.subtreeFlags|=v,i.childLanes=f,s}function NA(i,s,f){var v=s.pendingProps;switch(S0(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ro(s),null;case 1:return zo(s.type)&&Av(),ro(s),null;case 3:return v=s.stateNode,tf(),Dn(Ho),Dn(io),D0(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(i===null||i.child===null)&&(rv(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Ni!==null&&(e0(Ni),Ni=null))),Ky(i,s),ro(s),null;case 5:L0(s);var _=Au(Zd.current);if(f=s.type,i!==null&&s.stateNode!=null)Lx(i,s,f,v,_),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!v){if(s.stateNode===null)throw Error(oe(166));return ro(s),null}if(i=Au(xa.current),rv(s)){v=s.stateNode,f=s.type;var w=s.memoizedProps;switch(v[ba]=s,v[qd]=w,i=(s.mode&1)!==0,f){case"dialog":Ln("cancel",v),Ln("close",v);break;case"iframe":case"object":case"embed":Ln("load",v);break;case"video":case"audio":for(_=0;_<kd.length;_++)Ln(kd[_],v);break;case"source":Ln("error",v);break;case"img":case"image":case"link":Ln("error",v),Ln("load",v);break;case"details":Ln("toggle",v);break;case"input":Aw(v,w),Ln("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!w.multiple},Ln("invalid",v);break;case"textarea":Lw(v,w),Ln("invalid",v)}wy(f,w),_=null;for(var x in w)if(w.hasOwnProperty(x)){var S=w[x];x==="children"?typeof S=="string"?v.textContent!==S&&(w.suppressHydrationWarning!==!0&&nv(v.textContent,S,i),_=["children",S]):typeof S=="number"&&v.textContent!==""+S&&(w.suppressHydrationWarning!==!0&&nv(v.textContent,S,i),_=["children",""+S]):Vd.hasOwnProperty(x)&&S!=null&&x==="onScroll"&&Ln("scroll",v)}switch(f){case"input":Yh(v),Mw(v,w,!0);break;case"textarea":Yh(v),Dw(v);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(v.onclick=kv)}v=_,s.updateQueue=v,v!==null&&(s.flags|=4)}else{x=_.nodeType===9?_:_.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=sC(f)),i==="http://www.w3.org/1999/xhtml"?f==="script"?(i=x.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof v.is=="string"?i=x.createElement(f,{is:v.is}):(i=x.createElement(f),f==="select"&&(x=i,v.multiple?x.multiple=!0:v.size&&(x.size=v.size))):i=x.createElementNS(i,f),i[ba]=s,i[qd]=v,Mx(i,s,!1,!1),s.stateNode=i;t:{switch(x=by(f,v),f){case"dialog":Ln("cancel",i),Ln("close",i),_=v;break;case"iframe":case"object":case"embed":Ln("load",i),_=v;break;case"video":case"audio":for(_=0;_<kd.length;_++)Ln(kd[_],i);_=v;break;case"source":Ln("error",i),_=v;break;case"img":case"image":case"link":Ln("error",i),Ln("load",i),_=v;break;case"details":Ln("toggle",i),_=v;break;case"input":Aw(i,v),_=vy(i,v),Ln("invalid",i);break;case"option":_=v;break;case"select":i._wrapperState={wasMultiple:!!v.multiple},_=Xn({},v,{value:void 0}),Ln("invalid",i);break;case"textarea":Lw(i,v),_=yy(i,v),Ln("invalid",i);break;default:_=v}wy(f,_),S=_;for(w in S)if(S.hasOwnProperty(w)){var E=S[w];w==="style"?cC(i,E):w==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&lC(i,E)):w==="children"?typeof E=="string"?(f!=="textarea"||E!=="")&&Hd(i,E):typeof E=="number"&&Hd(i,""+E):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(Vd.hasOwnProperty(w)?E!=null&&w==="onScroll"&&Ln("scroll",i):E!=null&&u0(i,w,E,x))}switch(f){case"input":Yh(i),Mw(i,v,!1);break;case"textarea":Yh(i),Dw(i);break;case"option":v.value!=null&&i.setAttribute("value",""+dl(v.value));break;case"select":i.multiple=!!v.multiple,w=v.value,w!=null?Wc(i,!!v.multiple,w,!1):v.defaultValue!=null&&Wc(i,!!v.multiple,v.defaultValue,!0);break;default:typeof _.onClick=="function"&&(i.onclick=kv)}switch(f){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break t;case"img":v=!0;break t;default:v=!1}}v&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return ro(s),null;case 6:if(i&&s.stateNode!=null)Dx(i,s,i.memoizedProps,v);else{if(typeof v!="string"&&s.stateNode===null)throw Error(oe(166));if(f=Au(Zd.current),Au(xa.current),rv(s)){if(v=s.stateNode,f=s.memoizedProps,v[ba]=s,(w=v.nodeValue!==f)&&(i=Qo,i!==null))switch(i.tag){case 3:nv(v.nodeValue,f,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&nv(v.nodeValue,f,(i.mode&1)!==0)}w&&(s.flags|=4)}else v=(f.nodeType===9?f:f.ownerDocument).createTextNode(v),v[ba]=s,s.stateNode=v}return ro(s),null;case 13:if(Dn(Yn),v=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Un&&Jo!==null&&s.mode&1&&!(s.flags&128))ZC(),Jc(),s.flags|=98560,w=!1;else if(w=rv(s),v!==null&&v.dehydrated!==null){if(i===null){if(!w)throw Error(oe(318));if(w=s.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(oe(317));w[ba]=s}else Jc(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;ro(s),w=!1}else Ni!==null&&(e0(Ni),Ni=null),w=!0;if(!w)return s.flags&65536?s:null}return s.flags&128?(s.lanes=f,s):(v=v!==null,v!==(i!==null&&i.memoizedState!==null)&&v&&(s.child.flags|=8192,s.mode&1&&(i===null||Yn.current&1?Tr===0&&(Tr=3):$0())),s.updateQueue!==null&&(s.flags|=4),ro(s),null);case 4:return tf(),Ky(i,s),i===null&&Kd(s.stateNode.containerInfo),ro(s),null;case 10:return P0(s.type._context),ro(s),null;case 17:return zo(s.type)&&Av(),ro(s),null;case 19:if(Dn(Yn),w=s.memoizedState,w===null)return ro(s),null;if(v=(s.flags&128)!==0,x=w.rendering,x===null)if(v)xd(w,!1);else{if(Tr!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(x=Rv(i),x!==null){for(s.flags|=128,xd(w,!1),v=x.updateQueue,v!==null&&(s.updateQueue=v,s.flags|=4),s.subtreeFlags=0,v=f,f=s.child;f!==null;)w=f,i=v,w.flags&=14680066,x=w.alternate,x===null?(w.childLanes=0,w.lanes=i,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=x.childLanes,w.lanes=x.lanes,w.child=x.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=x.memoizedProps,w.memoizedState=x.memoizedState,w.updateQueue=x.updateQueue,w.type=x.type,i=x.dependencies,w.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),f=f.sibling;return On(Yn,Yn.current&1|2),s.child}i=i.sibling}w.tail!==null&&lr()>nf&&(s.flags|=128,v=!0,xd(w,!1),s.lanes=4194304)}else{if(!v)if(i=Rv(x),i!==null){if(s.flags|=128,v=!0,f=i.updateQueue,f!==null&&(s.updateQueue=f,s.flags|=4),xd(w,!0),w.tail===null&&w.tailMode==="hidden"&&!x.alternate&&!Un)return ro(s),null}else 2*lr()-w.renderingStartTime>nf&&f!==1073741824&&(s.flags|=128,v=!0,xd(w,!1),s.lanes=4194304);w.isBackwards?(x.sibling=s.child,s.child=x):(f=w.last,f!==null?f.sibling=x:s.child=x,w.last=x)}return w.tail!==null?(s=w.tail,w.rendering=s,w.tail=s.sibling,w.renderingStartTime=lr(),s.sibling=null,f=Yn.current,On(Yn,v?f&1|2:f&1),s):(ro(s),null);case 22:case 23:return W0(),v=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==v&&(s.flags|=8192),v&&s.mode&1?Zo&1073741824&&(ro(s),s.subtreeFlags&6&&(s.flags|=8192)):ro(s),null;case 24:return null;case 25:return null}throw Error(oe(156,s.tag))}function IA(i,s){switch(S0(s),s.tag){case 1:return zo(s.type)&&Av(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return tf(),Dn(Ho),Dn(io),D0(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return L0(s),null;case 13:if(Dn(Yn),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(oe(340));Jc()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Dn(Yn),null;case 4:return tf(),null;case 10:return P0(s.type._context),null;case 22:case 23:return W0(),null;case 24:return null;default:return null}}var av=!1,oo=!1,RA=typeof WeakSet=="function"?WeakSet:Set,Te=null;function Bc(i,s){var f=i.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(v){nr(i,s,v)}else f.current=null}function Yy(i,s,f){try{f()}catch(v){nr(i,s,v)}}var Cb=!1;function FA(i,s){if(My=Tv,i=FC(),C0(i)){if("selectionStart"in i)var f={start:i.selectionStart,end:i.selectionEnd};else t:{f=(f=i.ownerDocument)&&f.defaultView||window;var v=f.getSelection&&f.getSelection();if(v&&v.rangeCount!==0){f=v.anchorNode;var _=v.anchorOffset,w=v.focusNode;v=v.focusOffset;try{f.nodeType,w.nodeType}catch{f=null;break t}var x=0,S=-1,E=-1,O=0,M=0,A=i,L=null;e:for(;;){for(var R;A!==f||_!==0&&A.nodeType!==3||(S=x+_),A!==w||v!==0&&A.nodeType!==3||(E=x+v),A.nodeType===3&&(x+=A.nodeValue.length),(R=A.firstChild)!==null;)L=A,A=R;for(;;){if(A===i)break e;if(L===f&&++O===_&&(S=x),L===w&&++M===v&&(E=x),(R=A.nextSibling)!==null)break;A=L,L=A.parentNode}A=R}f=S===-1||E===-1?null:{start:S,end:E}}else f=null}f=f||{start:0,end:0}}else f=null;for(Ly={focusedElem:i,selectionRange:f},Tv=!1,Te=s;Te!==null;)if(s=Te,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Te=i;else for(;Te!==null;){s=Te;try{var $=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if($!==null){var at=$.memoizedProps,mt=$.memoizedState,Z=s.stateNode,J=Z.getSnapshotBeforeUpdate(s.elementType===s.type?at:Di(s.type,at),mt);Z.__reactInternalSnapshotBeforeUpdate=J}break;case 3:var G=s.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(X){nr(s,s.return,X)}if(i=s.sibling,i!==null){i.return=s.return,Te=i;break}Te=s.return}return $=Cb,Cb=!1,$}function Id(i,s,f){var v=s.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var _=v=v.next;do{if((_.tag&i)===i){var w=_.destroy;_.destroy=void 0,w!==void 0&&Yy(s,f,w)}_=_.next}while(_!==v)}}function tg(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var f=s=s.next;do{if((f.tag&i)===i){var v=f.create;f.destroy=v()}f=f.next}while(f!==s)}}function qy(i){var s=i.ref;if(s!==null){var f=i.stateNode;switch(i.tag){case 5:i=f;break;default:i=f}typeof s=="function"?s(i):s.current=i}}function jx(i){var s=i.alternate;s!==null&&(i.alternate=null,jx(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[ba],delete s[qd],delete s[Ny],delete s[wA],delete s[bA])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Nx(i){return i.tag===5||i.tag===3||i.tag===4}function xb(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Nx(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Xy(i,s,f){var v=i.tag;if(v===5||v===6)i=i.stateNode,s?f.nodeType===8?f.parentNode.insertBefore(i,s):f.insertBefore(i,s):(f.nodeType===8?(s=f.parentNode,s.insertBefore(i,f)):(s=f,s.appendChild(i)),f=f._reactRootContainer,f!=null||s.onclick!==null||(s.onclick=kv));else if(v!==4&&(i=i.child,i!==null))for(Xy(i,s,f),i=i.sibling;i!==null;)Xy(i,s,f),i=i.sibling}function Zy(i,s,f){var v=i.tag;if(v===5||v===6)i=i.stateNode,s?f.insertBefore(i,s):f.appendChild(i);else if(v!==4&&(i=i.child,i!==null))for(Zy(i,s,f),i=i.sibling;i!==null;)Zy(i,s,f),i=i.sibling}var Br=null,ji=!1;function Zs(i,s,f){for(f=f.child;f!==null;)Ix(i,s,f),f=f.sibling}function Ix(i,s,f){if(Ca&&typeof Ca.onCommitFiberUnmount=="function")try{Ca.onCommitFiberUnmount(Gv,f)}catch{}switch(f.tag){case 5:oo||Bc(f,s);case 6:var v=Br,_=ji;Br=null,Zs(i,s,f),Br=v,ji=_,Br!==null&&(ji?(i=Br,f=f.stateNode,i.nodeType===8?i.parentNode.removeChild(f):i.removeChild(f)):Br.removeChild(f.stateNode));break;case 18:Br!==null&&(ji?(i=Br,f=f.stateNode,i.nodeType===8?Jm(i.parentNode,f):i.nodeType===1&&Jm(i,f),Wd(i)):Jm(Br,f.stateNode));break;case 4:v=Br,_=ji,Br=f.stateNode.containerInfo,ji=!0,Zs(i,s,f),Br=v,ji=_;break;case 0:case 11:case 14:case 15:if(!oo&&(v=f.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){_=v=v.next;do{var w=_,x=w.destroy;w=w.tag,x!==void 0&&(w&2||w&4)&&Yy(f,s,x),_=_.next}while(_!==v)}Zs(i,s,f);break;case 1:if(!oo&&(Bc(f,s),v=f.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=f.memoizedProps,v.state=f.memoizedState,v.componentWillUnmount()}catch(S){nr(f,s,S)}Zs(i,s,f);break;case 21:Zs(i,s,f);break;case 22:f.mode&1?(oo=(v=oo)||f.memoizedState!==null,Zs(i,s,f),oo=v):Zs(i,s,f);break;default:Zs(i,s,f)}}function Sb(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var f=i.stateNode;f===null&&(f=i.stateNode=new RA),s.forEach(function(v){var _=KA.bind(null,i,v);f.has(v)||(f.add(v),v.then(_,_))})}}function Li(i,s){var f=s.deletions;if(f!==null)for(var v=0;v<f.length;v++){var _=f[v];try{var w=i,x=s,S=x;t:for(;S!==null;){switch(S.tag){case 5:Br=S.stateNode,ji=!1;break t;case 3:Br=S.stateNode.containerInfo,ji=!0;break t;case 4:Br=S.stateNode.containerInfo,ji=!0;break t}S=S.return}if(Br===null)throw Error(oe(160));Ix(w,x,_),Br=null,ji=!1;var E=_.alternate;E!==null&&(E.return=null),_.return=null}catch(O){nr(_,s,O)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Rx(s,i),s=s.sibling}function Rx(i,s){var f=i.alternate,v=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Li(s,i),_a(i),v&4){try{Id(3,i,i.return),tg(3,i)}catch(at){nr(i,i.return,at)}try{Id(5,i,i.return)}catch(at){nr(i,i.return,at)}}break;case 1:Li(s,i),_a(i),v&512&&f!==null&&Bc(f,f.return);break;case 5:if(Li(s,i),_a(i),v&512&&f!==null&&Bc(f,f.return),i.flags&32){var _=i.stateNode;try{Hd(_,"")}catch(at){nr(i,i.return,at)}}if(v&4&&(_=i.stateNode,_!=null)){var w=i.memoizedProps,x=f!==null?f.memoizedProps:w,S=i.type,E=i.updateQueue;if(i.updateQueue=null,E!==null)try{S==="input"&&w.type==="radio"&&w.name!=null&&iC(_,w),by(S,x);var O=by(S,w);for(x=0;x<E.length;x+=2){var M=E[x],A=E[x+1];M==="style"?cC(_,A):M==="dangerouslySetInnerHTML"?lC(_,A):M==="children"?Hd(_,A):u0(_,M,A,O)}switch(S){case"input":gy(_,w);break;case"textarea":aC(_,w);break;case"select":var L=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!w.multiple;var R=w.value;R!=null?Wc(_,!!w.multiple,R,!1):L!==!!w.multiple&&(w.defaultValue!=null?Wc(_,!!w.multiple,w.defaultValue,!0):Wc(_,!!w.multiple,w.multiple?[]:"",!1))}_[qd]=w}catch(at){nr(i,i.return,at)}}break;case 6:if(Li(s,i),_a(i),v&4){if(i.stateNode===null)throw Error(oe(162));_=i.stateNode,w=i.memoizedProps;try{_.nodeValue=w}catch(at){nr(i,i.return,at)}}break;case 3:if(Li(s,i),_a(i),v&4&&f!==null&&f.memoizedState.isDehydrated)try{Wd(s.containerInfo)}catch(at){nr(i,i.return,at)}break;case 4:Li(s,i),_a(i);break;case 13:Li(s,i),_a(i),_=i.child,_.flags&8192&&(w=_.memoizedState!==null,_.stateNode.isHidden=w,!w||_.alternate!==null&&_.alternate.memoizedState!==null||(B0=lr())),v&4&&Sb(i);break;case 22:if(M=f!==null&&f.memoizedState!==null,i.mode&1?(oo=(O=oo)||M,Li(s,i),oo=O):Li(s,i),_a(i),v&8192){if(O=i.memoizedState!==null,(i.stateNode.isHidden=O)&&!M&&i.mode&1)for(Te=i,M=i.child;M!==null;){for(A=Te=M;Te!==null;){switch(L=Te,R=L.child,L.tag){case 0:case 11:case 14:case 15:Id(4,L,L.return);break;case 1:Bc(L,L.return);var $=L.stateNode;if(typeof $.componentWillUnmount=="function"){v=L,f=L.return;try{s=v,$.props=s.memoizedProps,$.state=s.memoizedState,$.componentWillUnmount()}catch(at){nr(v,f,at)}}break;case 5:Bc(L,L.return);break;case 22:if(L.memoizedState!==null){Tb(A);continue}}R!==null?(R.return=L,Te=R):Tb(A)}M=M.sibling}t:for(M=null,A=i;;){if(A.tag===5){if(M===null){M=A;try{_=A.stateNode,O?(w=_.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(S=A.stateNode,E=A.memoizedProps.style,x=E!=null&&E.hasOwnProperty("display")?E.display:null,S.style.display=uC("display",x))}catch(at){nr(i,i.return,at)}}}else if(A.tag===6){if(M===null)try{A.stateNode.nodeValue=O?"":A.memoizedProps}catch(at){nr(i,i.return,at)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===i)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===i)break t;for(;A.sibling===null;){if(A.return===null||A.return===i)break t;M===A&&(M=null),A=A.return}M===A&&(M=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:Li(s,i),_a(i),v&4&&Sb(i);break;case 21:break;default:Li(s,i),_a(i)}}function _a(i){var s=i.flags;if(s&2){try{t:{for(var f=i.return;f!==null;){if(Nx(f)){var v=f;break t}f=f.return}throw Error(oe(160))}switch(v.tag){case 5:var _=v.stateNode;v.flags&32&&(Hd(_,""),v.flags&=-33);var w=xb(i);Zy(i,w,_);break;case 3:case 4:var x=v.stateNode.containerInfo,S=xb(i);Xy(i,S,x);break;default:throw Error(oe(161))}}catch(E){nr(i,i.return,E)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function VA(i,s,f){Te=i,Fx(i)}function Fx(i,s,f){for(var v=(i.mode&1)!==0;Te!==null;){var _=Te,w=_.child;if(_.tag===22&&v){var x=_.memoizedState!==null||av;if(!x){var S=_.alternate,E=S!==null&&S.memoizedState!==null||oo;S=av;var O=oo;if(av=x,(oo=E)&&!O)for(Te=_;Te!==null;)x=Te,E=x.child,x.tag===22&&x.memoizedState!==null?Eb(_):E!==null?(E.return=x,Te=E):Eb(_);for(;w!==null;)Te=w,Fx(w),w=w.sibling;Te=_,av=S,oo=O}Ob(i)}else _.subtreeFlags&8772&&w!==null?(w.return=_,Te=w):Ob(i)}}function Ob(i){for(;Te!==null;){var s=Te;if(s.flags&8772){var f=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:oo||tg(5,s);break;case 1:var v=s.stateNode;if(s.flags&4&&!oo)if(f===null)v.componentDidMount();else{var _=s.elementType===s.type?f.memoizedProps:Di(s.type,f.memoizedProps);v.componentDidUpdate(_,f.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var w=s.updateQueue;w!==null&&ub(s,w,v);break;case 3:var x=s.updateQueue;if(x!==null){if(f=null,s.child!==null)switch(s.child.tag){case 5:f=s.child.stateNode;break;case 1:f=s.child.stateNode}ub(s,x,f)}break;case 5:var S=s.stateNode;if(f===null&&s.flags&4){f=S;var E=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&f.focus();break;case"img":E.src&&(f.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var O=s.alternate;if(O!==null){var M=O.memoizedState;if(M!==null){var A=M.dehydrated;A!==null&&Wd(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}oo||s.flags&512&&qy(s)}catch(L){nr(s,s.return,L)}}if(s===i){Te=null;break}if(f=s.sibling,f!==null){f.return=s.return,Te=f;break}Te=s.return}}function Tb(i){for(;Te!==null;){var s=Te;if(s===i){Te=null;break}var f=s.sibling;if(f!==null){f.return=s.return,Te=f;break}Te=s.return}}function Eb(i){for(;Te!==null;){var s=Te;try{switch(s.tag){case 0:case 11:case 15:var f=s.return;try{tg(4,s)}catch(E){nr(s,f,E)}break;case 1:var v=s.stateNode;if(typeof v.componentDidMount=="function"){var _=s.return;try{v.componentDidMount()}catch(E){nr(s,_,E)}}var w=s.return;try{qy(s)}catch(E){nr(s,w,E)}break;case 5:var x=s.return;try{qy(s)}catch(E){nr(s,x,E)}}}catch(E){nr(s,s.return,E)}if(s===i){Te=null;break}var S=s.sibling;if(S!==null){S.return=s.return,Te=S;break}Te=s.return}}var HA=Math.ceil,Hv=gs.ReactCurrentDispatcher,H0=gs.ReactCurrentOwner,hi=gs.ReactCurrentBatchConfig,hn=0,jr=null,pr=null,Wr=0,Zo=0,Uc=vl(0),Tr=0,ep=null,Iu=0,eg=0,z0=0,Rd=null,Fo=null,B0=0,nf=1/0,ss=null,zv=!1,Jy=null,ul=null,sv=!1,rl=null,Bv=0,Fd=0,Qy=null,yv=-1,_v=0;function bo(){return hn&6?lr():yv!==-1?yv:yv=lr()}function cl(i){return i.mode&1?hn&2&&Wr!==0?Wr&-Wr:xA.transition!==null?(_v===0&&(_v=CC()),_v):(i=bn,i!==0||(i=window.event,i=i===void 0?16:kC(i.type)),i):1}function Ri(i,s,f,v){if(50<Fd)throw Fd=0,Qy=null,Error(oe(185));rp(i,f,v),(!(hn&2)||i!==jr)&&(i===jr&&(!(hn&2)&&(eg|=f),Tr===4&&el(i,Wr)),Bo(i,v),f===1&&hn===0&&!(s.mode&1)&&(nf=lr()+500,Zv&&gl()))}function Bo(i,s){var f=i.callbackNode;xk(i,s);var v=Ov(i,i===jr?Wr:0);if(v===0)f!==null&&Iw(f),i.callbackNode=null,i.callbackPriority=0;else if(s=v&-v,i.callbackPriority!==s){if(f!=null&&Iw(f),s===1)i.tag===0?CA(Pb.bind(null,i)):YC(Pb.bind(null,i)),yA(function(){!(hn&6)&&gl()}),f=null;else{switch(xC(v)){case 1:f=h0;break;case 4:f=wC;break;case 16:f=Sv;break;case 536870912:f=bC;break;default:f=Sv}f=Gx(f,Vx.bind(null,i))}i.callbackPriority=s,i.callbackNode=f}}function Vx(i,s){if(yv=-1,_v=0,hn&6)throw Error(oe(327));var f=i.callbackNode;if(qc()&&i.callbackNode!==f)return null;var v=Ov(i,i===jr?Wr:0);if(v===0)return null;if(v&30||v&i.expiredLanes||s)s=Uv(i,v);else{s=v;var _=hn;hn|=2;var w=zx();(jr!==i||Wr!==s)&&(ss=null,nf=lr()+500,Mu(i,s));do try{UA();break}catch(S){Hx(i,S)}while(!0);E0(),Hv.current=w,hn=_,pr!==null?s=0:(jr=null,Wr=0,s=Tr)}if(s!==0){if(s===2&&(_=Ty(i),_!==0&&(v=_,s=t0(i,_))),s===1)throw f=ep,Mu(i,0),el(i,v),Bo(i,lr()),f;if(s===6)el(i,v);else{if(_=i.current.alternate,!(v&30)&&!zA(_)&&(s=Uv(i,v),s===2&&(w=Ty(i),w!==0&&(v=w,s=t0(i,w))),s===1))throw f=ep,Mu(i,0),el(i,v),Bo(i,lr()),f;switch(i.finishedWork=_,i.finishedLanes=v,s){case 0:case 1:throw Error(oe(345));case 2:Eu(i,Fo,ss);break;case 3:if(el(i,v),(v&130023424)===v&&(s=B0+500-lr(),10<s)){if(Ov(i,0)!==0)break;if(_=i.suspendedLanes,(_&v)!==v){bo(),i.pingedLanes|=i.suspendedLanes&_;break}i.timeoutHandle=jy(Eu.bind(null,i,Fo,ss),s);break}Eu(i,Fo,ss);break;case 4:if(el(i,v),(v&4194240)===v)break;for(s=i.eventTimes,_=-1;0<v;){var x=31-Ii(v);w=1<<x,x=s[x],x>_&&(_=x),v&=~w}if(v=_,v=lr()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*HA(v/1960))-v,10<v){i.timeoutHandle=jy(Eu.bind(null,i,Fo,ss),v);break}Eu(i,Fo,ss);break;case 5:Eu(i,Fo,ss);break;default:throw Error(oe(329))}}}return Bo(i,lr()),i.callbackNode===f?Vx.bind(null,i):null}function t0(i,s){var f=Rd;return i.current.memoizedState.isDehydrated&&(Mu(i,s).flags|=256),i=Uv(i,s),i!==2&&(s=Fo,Fo=f,s!==null&&e0(s)),i}function e0(i){Fo===null?Fo=i:Fo.push.apply(Fo,i)}function zA(i){for(var s=i;;){if(s.flags&16384){var f=s.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var v=0;v<f.length;v++){var _=f[v],w=_.getSnapshot;_=_.value;try{if(!Vi(w(),_))return!1}catch{return!1}}}if(f=s.child,s.subtreeFlags&16384&&f!==null)f.return=s,s=f;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function el(i,s){for(s&=~z0,s&=~eg,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var f=31-Ii(s),v=1<<f;i[f]=-1,s&=~v}}function Pb(i){if(hn&6)throw Error(oe(327));qc();var s=Ov(i,0);if(!(s&1))return Bo(i,lr()),null;var f=Uv(i,s);if(i.tag!==0&&f===2){var v=Ty(i);v!==0&&(s=v,f=t0(i,v))}if(f===1)throw f=ep,Mu(i,0),el(i,s),Bo(i,lr()),f;if(f===6)throw Error(oe(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Eu(i,Fo,ss),Bo(i,lr()),null}function U0(i,s){var f=hn;hn|=1;try{return i(s)}finally{hn=f,hn===0&&(nf=lr()+500,Zv&&gl())}}function Ru(i){rl!==null&&rl.tag===0&&!(hn&6)&&qc();var s=hn;hn|=1;var f=hi.transition,v=bn;try{if(hi.transition=null,bn=1,i)return i()}finally{bn=v,hi.transition=f,hn=s,!(hn&6)&&gl()}}function W0(){Zo=Uc.current,Dn(Uc)}function Mu(i,s){i.finishedWork=null,i.finishedLanes=0;var f=i.timeoutHandle;if(f!==-1&&(i.timeoutHandle=-1,mA(f)),pr!==null)for(f=pr.return;f!==null;){var v=f;switch(S0(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Av();break;case 3:tf(),Dn(Ho),Dn(io),D0();break;case 5:L0(v);break;case 4:tf();break;case 13:Dn(Yn);break;case 19:Dn(Yn);break;case 10:P0(v.type._context);break;case 22:case 23:W0()}f=f.return}if(jr=i,pr=i=fl(i.current,null),Wr=Zo=s,Tr=0,ep=null,z0=eg=Iu=0,Fo=Rd=null,ku!==null){for(s=0;s<ku.length;s++)if(f=ku[s],v=f.interleaved,v!==null){f.interleaved=null;var _=v.next,w=f.pending;if(w!==null){var x=w.next;w.next=_,v.next=x}f.pending=v}ku=null}return i}function Hx(i,s){do{var f=pr;try{if(E0(),vv.current=Vv,Fv){for(var v=qn.memoizedState;v!==null;){var _=v.queue;_!==null&&(_.pending=null),v=v.next}Fv=!1}if(Nu=0,Dr=Or=qn=null,Nd=!1,Jd=0,H0.current=null,f===null||f.return===null){Tr=1,ep=s,pr=null;break}t:{var w=i,x=f.return,S=f,E=s;if(s=Wr,S.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var O=E,M=S,A=M.tag;if(!(M.mode&1)&&(A===0||A===11||A===15)){var L=M.alternate;L?(M.updateQueue=L.updateQueue,M.memoizedState=L.memoizedState,M.lanes=L.lanes):(M.updateQueue=null,M.memoizedState=null)}var R=vb(x);if(R!==null){R.flags&=-257,gb(R,x,S,w,s),R.mode&1&&hb(w,O,s),s=R,E=O;var $=s.updateQueue;if($===null){var at=new Set;at.add(E),s.updateQueue=at}else $.add(E);break t}else{if(!(s&1)){hb(w,O,s),$0();break t}E=Error(oe(426))}}else if(Un&&S.mode&1){var mt=vb(x);if(mt!==null){!(mt.flags&65536)&&(mt.flags|=256),gb(mt,x,S,w,s),O0(ef(E,S));break t}}w=E=ef(E,S),Tr!==4&&(Tr=2),Rd===null?Rd=[w]:Rd.push(w),w=x;do{switch(w.tag){case 3:w.flags|=65536,s&=-s,w.lanes|=s;var Z=xx(w,E,s);lb(w,Z);break t;case 1:S=E;var J=w.type,G=w.stateNode;if(!(w.flags&128)&&(typeof J.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(ul===null||!ul.has(G)))){w.flags|=65536,s&=-s,w.lanes|=s;var X=Sx(w,S,s);lb(w,X);break t}}w=w.return}while(w!==null)}Ux(f)}catch(yt){s=yt,pr===f&&f!==null&&(pr=f=f.return);continue}break}while(!0)}function zx(){var i=Hv.current;return Hv.current=Vv,i===null?Vv:i}function $0(){(Tr===0||Tr===3||Tr===2)&&(Tr=4),jr===null||!(Iu&268435455)&&!(eg&268435455)||el(jr,Wr)}function Uv(i,s){var f=hn;hn|=2;var v=zx();(jr!==i||Wr!==s)&&(ss=null,Mu(i,s));do try{BA();break}catch(_){Hx(i,_)}while(!0);if(E0(),hn=f,Hv.current=v,pr!==null)throw Error(oe(261));return jr=null,Wr=0,Tr}function BA(){for(;pr!==null;)Bx(pr)}function UA(){for(;pr!==null&&!hk();)Bx(pr)}function Bx(i){var s=$x(i.alternate,i,Zo);i.memoizedProps=i.pendingProps,s===null?Ux(i):pr=s,H0.current=null}function Ux(i){var s=i;do{var f=s.alternate;if(i=s.return,s.flags&32768){if(f=IA(f,s),f!==null){f.flags&=32767,pr=f;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Tr=6,pr=null;return}}else if(f=NA(f,s,Zo),f!==null){pr=f;return}if(s=s.sibling,s!==null){pr=s;return}pr=s=i}while(s!==null);Tr===0&&(Tr=5)}function Eu(i,s,f){var v=bn,_=hi.transition;try{hi.transition=null,bn=1,WA(i,s,f,v)}finally{hi.transition=_,bn=v}return null}function WA(i,s,f,v){do qc();while(rl!==null);if(hn&6)throw Error(oe(327));f=i.finishedWork;var _=i.finishedLanes;if(f===null)return null;if(i.finishedWork=null,i.finishedLanes=0,f===i.current)throw Error(oe(177));i.callbackNode=null,i.callbackPriority=0;var w=f.lanes|f.childLanes;if(Sk(i,w),i===jr&&(pr=jr=null,Wr=0),!(f.subtreeFlags&2064)&&!(f.flags&2064)||sv||(sv=!0,Gx(Sv,function(){return qc(),null})),w=(f.flags&15990)!==0,f.subtreeFlags&15990||w){w=hi.transition,hi.transition=null;var x=bn;bn=1;var S=hn;hn|=4,H0.current=null,FA(i,f),Rx(f,i),cA(Ly),Tv=!!My,Ly=My=null,i.current=f,VA(f),vk(),hn=S,bn=x,hi.transition=w}else i.current=f;if(sv&&(sv=!1,rl=i,Bv=_),w=i.pendingLanes,w===0&&(ul=null),yk(f.stateNode),Bo(i,lr()),s!==null)for(v=i.onRecoverableError,f=0;f<s.length;f++)_=s[f],v(_.value,{componentStack:_.stack,digest:_.digest});if(zv)throw zv=!1,i=Jy,Jy=null,i;return Bv&1&&i.tag!==0&&qc(),w=i.pendingLanes,w&1?i===Qy?Fd++:(Fd=0,Qy=i):Fd=0,gl(),null}function qc(){if(rl!==null){var i=xC(Bv),s=hi.transition,f=bn;try{if(hi.transition=null,bn=16>i?16:i,rl===null)var v=!1;else{if(i=rl,rl=null,Bv=0,hn&6)throw Error(oe(331));var _=hn;for(hn|=4,Te=i.current;Te!==null;){var w=Te,x=w.child;if(Te.flags&16){var S=w.deletions;if(S!==null){for(var E=0;E<S.length;E++){var O=S[E];for(Te=O;Te!==null;){var M=Te;switch(M.tag){case 0:case 11:case 15:Id(8,M,w)}var A=M.child;if(A!==null)A.return=M,Te=A;else for(;Te!==null;){M=Te;var L=M.sibling,R=M.return;if(jx(M),M===O){Te=null;break}if(L!==null){L.return=R,Te=L;break}Te=R}}}var $=w.alternate;if($!==null){var at=$.child;if(at!==null){$.child=null;do{var mt=at.sibling;at.sibling=null,at=mt}while(at!==null)}}Te=w}}if(w.subtreeFlags&2064&&x!==null)x.return=w,Te=x;else t:for(;Te!==null;){if(w=Te,w.flags&2048)switch(w.tag){case 0:case 11:case 15:Id(9,w,w.return)}var Z=w.sibling;if(Z!==null){Z.return=w.return,Te=Z;break t}Te=w.return}}var J=i.current;for(Te=J;Te!==null;){x=Te;var G=x.child;if(x.subtreeFlags&2064&&G!==null)G.return=x,Te=G;else t:for(x=J;Te!==null;){if(S=Te,S.flags&2048)try{switch(S.tag){case 0:case 11:case 15:tg(9,S)}}catch(yt){nr(S,S.return,yt)}if(S===x){Te=null;break t}var X=S.sibling;if(X!==null){X.return=S.return,Te=X;break t}Te=S.return}}if(hn=_,gl(),Ca&&typeof Ca.onPostCommitFiberRoot=="function")try{Ca.onPostCommitFiberRoot(Gv,i)}catch{}v=!0}return v}finally{bn=f,hi.transition=s}}return!1}function kb(i,s,f){s=ef(f,s),s=xx(i,s,1),i=ll(i,s,1),s=bo(),i!==null&&(rp(i,1,s),Bo(i,s))}function nr(i,s,f){if(i.tag===3)kb(i,i,f);else for(;s!==null;){if(s.tag===3){kb(s,i,f);break}else if(s.tag===1){var v=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(ul===null||!ul.has(v))){i=ef(f,i),i=Sx(s,i,1),s=ll(s,i,1),i=bo(),s!==null&&(rp(s,1,i),Bo(s,i));break}}s=s.return}}function $A(i,s,f){var v=i.pingCache;v!==null&&v.delete(s),s=bo(),i.pingedLanes|=i.suspendedLanes&f,jr===i&&(Wr&f)===f&&(Tr===4||Tr===3&&(Wr&130023424)===Wr&&500>lr()-B0?Mu(i,0):z0|=f),Bo(i,s)}function Wx(i,s){s===0&&(i.mode&1?(s=Zh,Zh<<=1,!(Zh&130023424)&&(Zh=4194304)):s=1);var f=bo();i=hs(i,s),i!==null&&(rp(i,s,f),Bo(i,f))}function GA(i){var s=i.memoizedState,f=0;s!==null&&(f=s.retryLane),Wx(i,f)}function KA(i,s){var f=0;switch(i.tag){case 13:var v=i.stateNode,_=i.memoizedState;_!==null&&(f=_.retryLane);break;case 19:v=i.stateNode;break;default:throw Error(oe(314))}v!==null&&v.delete(s),Wx(i,f)}var $x;$x=function(i,s,f){if(i!==null)if(i.memoizedProps!==s.pendingProps||Ho.current)Vo=!0;else{if(!(i.lanes&f)&&!(s.flags&128))return Vo=!1,jA(i,s,f);Vo=!!(i.flags&131072)}else Vo=!1,Un&&s.flags&1048576&&qC(s,Dv,s.index);switch(s.lanes=0,s.tag){case 2:var v=s.type;mv(i,s),i=s.pendingProps;var _=Zc(s,io.current);Yc(s,f),_=N0(null,s,v,i,_,f);var w=I0();return s.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,zo(v)?(w=!0,Mv(s)):w=!1,s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,A0(s),_.updater=Qv,s.stateNode=_,_._reactInternals=s,zy(s,v,i,f),s=Wy(null,s,v,!0,w,f)):(s.tag=0,Un&&w&&x0(s),wo(null,s,_,f),s=s.child),s;case 16:v=s.elementType;t:{switch(mv(i,s),i=s.pendingProps,_=v._init,v=_(v._payload),s.type=v,_=s.tag=qA(v),i=Di(v,i),_){case 0:s=Uy(null,s,v,i,f);break t;case 1:s=_b(null,s,v,i,f);break t;case 11:s=mb(null,s,v,i,f);break t;case 14:s=yb(null,s,v,Di(v.type,i),f);break t}throw Error(oe(306,v,""))}return s;case 0:return v=s.type,_=s.pendingProps,_=s.elementType===v?_:Di(v,_),Uy(i,s,v,_,f);case 1:return v=s.type,_=s.pendingProps,_=s.elementType===v?_:Di(v,_),_b(i,s,v,_,f);case 3:t:{if(Px(s),i===null)throw Error(oe(387));v=s.pendingProps,w=s.memoizedState,_=w.element,ex(i,s),Iv(s,v,null,f);var x=s.memoizedState;if(v=x.element,w.isDehydrated)if(w={element:v,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},s.updateQueue.baseState=w,s.memoizedState=w,s.flags&256){_=ef(Error(oe(423)),s),s=wb(i,s,v,f,_);break t}else if(v!==_){_=ef(Error(oe(424)),s),s=wb(i,s,v,f,_);break t}else for(Jo=sl(s.stateNode.containerInfo.firstChild),Qo=s,Un=!0,Ni=null,f=QC(s,null,v,f),s.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Jc(),v===_){s=vs(i,s,f);break t}wo(i,s,v,f)}s=s.child}return s;case 5:return nx(s),i===null&&Fy(s),v=s.type,_=s.pendingProps,w=i!==null?i.memoizedProps:null,x=_.children,Dy(v,_)?x=null:w!==null&&Dy(v,w)&&(s.flags|=32),Ex(i,s),wo(i,s,x,f),s.child;case 6:return i===null&&Fy(s),null;case 13:return kx(i,s,f);case 4:return M0(s,s.stateNode.containerInfo),v=s.pendingProps,i===null?s.child=Qc(s,null,v,f):wo(i,s,v,f),s.child;case 11:return v=s.type,_=s.pendingProps,_=s.elementType===v?_:Di(v,_),mb(i,s,v,_,f);case 7:return wo(i,s,s.pendingProps,f),s.child;case 8:return wo(i,s,s.pendingProps.children,f),s.child;case 12:return wo(i,s,s.pendingProps.children,f),s.child;case 10:t:{if(v=s.type._context,_=s.pendingProps,w=s.memoizedProps,x=_.value,On(jv,v._currentValue),v._currentValue=x,w!==null)if(Vi(w.value,x)){if(w.children===_.children&&!Ho.current){s=vs(i,s,f);break t}}else for(w=s.child,w!==null&&(w.return=s);w!==null;){var S=w.dependencies;if(S!==null){x=w.child;for(var E=S.firstContext;E!==null;){if(E.context===v){if(w.tag===1){E=fs(-1,f&-f),E.tag=2;var O=w.updateQueue;if(O!==null){O=O.shared;var M=O.pending;M===null?E.next=E:(E.next=M.next,M.next=E),O.pending=E}}w.lanes|=f,E=w.alternate,E!==null&&(E.lanes|=f),Vy(w.return,f,s),S.lanes|=f;break}E=E.next}}else if(w.tag===10)x=w.type===s.type?null:w.child;else if(w.tag===18){if(x=w.return,x===null)throw Error(oe(341));x.lanes|=f,S=x.alternate,S!==null&&(S.lanes|=f),Vy(x,f,s),x=w.sibling}else x=w.child;if(x!==null)x.return=w;else for(x=w;x!==null;){if(x===s){x=null;break}if(w=x.sibling,w!==null){w.return=x.return,x=w;break}x=x.return}w=x}wo(i,s,_.children,f),s=s.child}return s;case 9:return _=s.type,v=s.pendingProps.children,Yc(s,f),_=vi(_),v=v(_),s.flags|=1,wo(i,s,v,f),s.child;case 14:return v=s.type,_=Di(v,s.pendingProps),_=Di(v.type,_),yb(i,s,v,_,f);case 15:return Ox(i,s,s.type,s.pendingProps,f);case 17:return v=s.type,_=s.pendingProps,_=s.elementType===v?_:Di(v,_),mv(i,s),s.tag=1,zo(v)?(i=!0,Mv(s)):i=!1,Yc(s,f),Cx(s,v,_),zy(s,v,_,f),Wy(null,s,v,!0,i,f);case 19:return Ax(i,s,f);case 22:return Tx(i,s,f)}throw Error(oe(156,s.tag))};function Gx(i,s){return _C(i,s)}function YA(i,s,f,v){this.tag=i,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(i,s,f,v){return new YA(i,s,f,v)}function G0(i){return i=i.prototype,!(!i||!i.isReactComponent)}function qA(i){if(typeof i=="function")return G0(i)?1:0;if(i!=null){if(i=i.$$typeof,i===f0)return 11;if(i===d0)return 14}return 2}function fl(i,s){var f=i.alternate;return f===null?(f=pi(i.tag,s,i.key,i.mode),f.elementType=i.elementType,f.type=i.type,f.stateNode=i.stateNode,f.alternate=i,i.alternate=f):(f.pendingProps=s,f.type=i.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=i.flags&14680064,f.childLanes=i.childLanes,f.lanes=i.lanes,f.child=i.child,f.memoizedProps=i.memoizedProps,f.memoizedState=i.memoizedState,f.updateQueue=i.updateQueue,s=i.dependencies,f.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},f.sibling=i.sibling,f.index=i.index,f.ref=i.ref,f}function wv(i,s,f,v,_,w){var x=2;if(v=i,typeof i=="function")G0(i)&&(x=1);else if(typeof i=="string")x=5;else t:switch(i){case Dc:return Lu(f.children,_,w,s);case c0:x=8,_|=8;break;case fy:return i=pi(12,f,s,_|2),i.elementType=fy,i.lanes=w,i;case dy:return i=pi(13,f,s,_),i.elementType=dy,i.lanes=w,i;case py:return i=pi(19,f,s,_),i.elementType=py,i.lanes=w,i;case nC:return ng(f,_,w,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case tC:x=10;break t;case eC:x=9;break t;case f0:x=11;break t;case d0:x=14;break t;case Js:x=16,v=null;break t}throw Error(oe(130,i==null?i:typeof i,""))}return s=pi(x,f,s,_),s.elementType=i,s.type=v,s.lanes=w,s}function Lu(i,s,f,v){return i=pi(7,i,v,s),i.lanes=f,i}function ng(i,s,f,v){return i=pi(22,i,v,s),i.elementType=nC,i.lanes=f,i.stateNode={isHidden:!1},i}function ay(i,s,f){return i=pi(6,i,null,s),i.lanes=f,i}function sy(i,s,f){return s=pi(4,i.children!==null?i.children:[],i.key,s),s.lanes=f,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function XA(i,s,f,v,_){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zm(0),this.expirationTimes=zm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zm(0),this.identifierPrefix=v,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function K0(i,s,f,v,_,w,x,S,E){return i=new XA(i,s,f,S,E),s===1?(s=1,w===!0&&(s|=8)):s=0,w=pi(3,null,null,s),i.current=w,w.stateNode=i,w.memoizedState={element:v,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},A0(w),i}function ZA(i,s,f){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lc,key:v==null?null:""+v,children:i,containerInfo:s,implementation:f}}function Kx(i){if(!i)return pl;i=i._reactInternals;t:{if(Vu(i)!==i||i.tag!==1)throw Error(oe(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(zo(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(s!==null);throw Error(oe(171))}if(i.tag===1){var f=i.type;if(zo(f))return KC(i,f,s)}return s}function Yx(i,s,f,v,_,w,x,S,E){return i=K0(f,v,!0,i,_,w,x,S,E),i.context=Kx(null),f=i.current,v=bo(),_=cl(f),w=fs(v,_),w.callback=s??null,ll(f,w,_),i.current.lanes=_,rp(i,_,v),Bo(i,v),i}function rg(i,s,f,v){var _=s.current,w=bo(),x=cl(_);return f=Kx(f),s.context===null?s.context=f:s.pendingContext=f,s=fs(w,x),s.payload={element:i},v=v===void 0?null:v,v!==null&&(s.callback=v),i=ll(_,s,x),i!==null&&(Ri(i,_,x,w),hv(i,_,x)),x}function Wv(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Ab(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var f=i.retryLane;i.retryLane=f!==0&&f<s?f:s}}function Y0(i,s){Ab(i,s),(i=i.alternate)&&Ab(i,s)}function JA(){return null}var qx=typeof reportError=="function"?reportError:function(i){console.error(i)};function q0(i){this._internalRoot=i}og.prototype.render=q0.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(oe(409));rg(i,s,null,null)};og.prototype.unmount=q0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Ru(function(){rg(null,i,null,null)}),s[ps]=null}};function og(i){this._internalRoot=i}og.prototype.unstable_scheduleHydration=function(i){if(i){var s=TC();i={blockedOn:null,target:i,priority:s};for(var f=0;f<tl.length&&s!==0&&s<tl[f].priority;f++);tl.splice(f,0,i),f===0&&PC(i)}};function X0(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ig(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Mb(){}function QA(i,s,f,v,_){if(_){if(typeof v=="function"){var w=v;v=function(){var O=Wv(x);w.call(O)}}var x=Yx(s,v,i,0,null,!1,!1,"",Mb);return i._reactRootContainer=x,i[ps]=x.current,Kd(i.nodeType===8?i.parentNode:i),Ru(),x}for(;_=i.lastChild;)i.removeChild(_);if(typeof v=="function"){var S=v;v=function(){var O=Wv(E);S.call(O)}}var E=K0(i,0,!1,null,null,!1,!1,"",Mb);return i._reactRootContainer=E,i[ps]=E.current,Kd(i.nodeType===8?i.parentNode:i),Ru(function(){rg(s,E,f,v)}),E}function ag(i,s,f,v,_){var w=f._reactRootContainer;if(w){var x=w;if(typeof _=="function"){var S=_;_=function(){var E=Wv(x);S.call(E)}}rg(s,x,i,_)}else x=QA(f,s,i,_,v);return Wv(x)}SC=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var f=Pd(s.pendingLanes);f!==0&&(v0(s,f|1),Bo(s,lr()),!(hn&6)&&(nf=lr()+500,gl()))}break;case 13:Ru(function(){var v=hs(i,1);if(v!==null){var _=bo();Ri(v,i,1,_)}}),Y0(i,1)}};g0=function(i){if(i.tag===13){var s=hs(i,134217728);if(s!==null){var f=bo();Ri(s,i,134217728,f)}Y0(i,134217728)}};OC=function(i){if(i.tag===13){var s=cl(i),f=hs(i,s);if(f!==null){var v=bo();Ri(f,i,s,v)}Y0(i,s)}};TC=function(){return bn};EC=function(i,s){var f=bn;try{return bn=i,s()}finally{bn=f}};xy=function(i,s,f){switch(s){case"input":if(gy(i,f),s=f.name,f.type==="radio"&&s!=null){for(f=i;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<f.length;s++){var v=f[s];if(v!==i&&v.form===i.form){var _=Xv(v);if(!_)throw Error(oe(90));oC(v),gy(v,_)}}}break;case"textarea":aC(i,f);break;case"select":s=f.value,s!=null&&Wc(i,!!f.multiple,s,!1)}};pC=U0;hC=Ru;var tM={usingClientEntryPoint:!1,Events:[ip,Rc,Xv,fC,dC,U0]},Sd={findFiberByHostInstance:Pu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eM={bundleType:Sd.bundleType,version:Sd.version,rendererPackageName:Sd.rendererPackageName,rendererConfig:Sd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gs.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=mC(i),i===null?null:i.stateNode},findFiberByHostInstance:Sd.findFiberByHostInstance||JA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lv.isDisabled&&lv.supportsFiber)try{Gv=lv.inject(eM),Ca=lv}catch{}}ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tM;ei.createPortal=function(i,s){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!X0(s))throw Error(oe(200));return ZA(i,s,null,f)};ei.createRoot=function(i,s){if(!X0(i))throw Error(oe(299));var f=!1,v="",_=qx;return s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(v=s.identifierPrefix),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=K0(i,1,!1,null,null,f,!1,v,_),i[ps]=s.current,Kd(i.nodeType===8?i.parentNode:i),new q0(s)};ei.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(oe(188)):(i=Object.keys(i).join(","),Error(oe(268,i)));return i=mC(s),i=i===null?null:i.stateNode,i};ei.flushSync=function(i){return Ru(i)};ei.hydrate=function(i,s,f){if(!ig(s))throw Error(oe(200));return ag(null,i,s,!0,f)};ei.hydrateRoot=function(i,s,f){if(!X0(i))throw Error(oe(405));var v=f!=null&&f.hydratedSources||null,_=!1,w="",x=qx;if(f!=null&&(f.unstable_strictMode===!0&&(_=!0),f.identifierPrefix!==void 0&&(w=f.identifierPrefix),f.onRecoverableError!==void 0&&(x=f.onRecoverableError)),s=Yx(s,null,i,1,f??null,_,!1,w,x),i[ps]=s.current,Kd(i),v)for(i=0;i<v.length;i++)f=v[i],_=f._getVersion,_=_(f._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[f,_]:s.mutableSourceEagerHydrationData.push(f,_);return new og(s)};ei.render=function(i,s,f){if(!ig(s))throw Error(oe(200));return ag(null,i,s,!1,f)};ei.unmountComponentAtNode=function(i){if(!ig(i))throw Error(oe(40));return i._reactRootContainer?(Ru(function(){ag(null,null,i,!1,function(){i._reactRootContainer=null,i[ps]=null})}),!0):!1};ei.unstable_batchedUpdates=U0;ei.unstable_renderSubtreeIntoContainer=function(i,s,f,v){if(!ig(f))throw Error(oe(200));if(i==null||i._reactInternals===void 0)throw Error(oe(38));return ag(i,s,f,!1,v)};ei.version="18.3.1-next-f1338f8080-20240426";function Xx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xx)}catch(i){console.error(i)}}Xx(),Xb.exports=ei;var Zx=Xb.exports,Lb=Zx;uy.createRoot=Lb.createRoot,uy.hydrateRoot=Lb.hydrateRoot;var nM={410:(i,s,f)=>{var v,_,w;/*!
* Backbone.Undo.js v0.2
* 
* Copyright (c)2013 Oliver Sartun
* Released under the MIT License
*
* Documentation and full license available at
* https://github.com/osartun/Backbone.Undo.js
*/(function(x){_=[f(50),f(316)],v=x,w=typeof v=="function"?v.apply(s,_):v,w!==void 0&&(i.exports=w)})(function(x,S){var E=Array.prototype.slice;function O(Q,V,W){return W.length<=4?Q.call(V,W[0],W[1],W[2],W[3]):Q.apply(V,W)}function M(Q,V){return E.call(Q,V)}function A(Q,V){return Q==null?!1:(x.isArray(V)||(V=M(arguments,1)),x.all(V,function(W){return W in Q}))}var L=function(){var Q=!1,V=-1;function W(){V++,Q=!0,x.defer(function(){Q=!1})}return function(){return Q||W(),V}}();function R(){this.registeredObjects=[],this.cidIndexes=[]}R.prototype={isRegistered:function(Q){return Q&&Q.cid?this.registeredObjects[Q.cid]:x.contains(this.registeredObjects,Q)},register:function(Q){return this.isRegistered(Q)?!1:(Q&&Q.cid?(this.registeredObjects[Q.cid]=Q,this.cidIndexes.push(Q.cid)):this.registeredObjects.push(Q),!0)},unregister:function(Q){if(this.isRegistered(Q)){if(Q&&Q.cid)delete this.registeredObjects[Q.cid],this.cidIndexes.splice(x.indexOf(this.cidIndexes,Q.cid),1);else{var V=x.indexOf(this.registeredObjects,Q);this.registeredObjects.splice(V,1)}return!0}return!1},get:function(){return x.map(this.cidIndexes,function(Q){return this.registeredObjects[Q]},this).concat(this.registeredObjects)}};function $(Q,V,W,Y){for(var it=0,U=V.length,dt;it<U;it++)if(dt=V[it],!!dt){if(Q==="on"){if(!Y.objectRegistry.register(dt))continue}else if(!Y.objectRegistry.unregister(dt))continue;x.isFunction(dt[Q])&&dt[Q]("all",W,Y)}}function at(Q,V){var W=V.type,Y=V.undoTypes,it=!Y[W]||Y[W][Q];x.isFunction(it)&&it(V.object,V.before,V.after,V.options)}function mt(Q,V,W,Y,it){if(!(W.isCurrentlyUndoRedoing||Q==="undo"&&W.pointer===-1||Q==="redo"&&W.pointer===W.length-1)){W.isCurrentlyUndoRedoing=!0;var U,dt,B=Q==="undo";for(it?dt=B&&W.pointer===W.length-1||!B&&W.pointer===-1?x.clone(W.models):E.apply(W.models,B?[0,W.pointer]:[W.pointer,W.length-1]):(U=W.at(B?W.pointer:W.pointer+1),dt=Y?W.where({magicFusionIndex:U.get("magicFusionIndex")}):[U]),W.pointer+=(B?-1:1)*dt.length;U=B?dt.pop():dt.shift();)U[Q]();W.isCurrentlyUndoRedoing=!1,V.trigger(Q,V)}}function Z(Q,V){var W=Q.condition,Y=typeof W;return Y==="function"?!!O(W,Q,V):Y==="boolean"?W:!0}function J(Q,V,W,Y){if(Q.track&&!Q.isCurrentlyUndoRedoing&&V in Y&&Z(Y[V],W)){var it=O(Y[V].on,Y[V],W),U;if(A(it,"object","before","after")){if(it.type=V,it.magicFusionIndex=L(),it.undoTypes=Y,Q.pointer<Q.length-1)for(var U=Q.length-Q.pointer-1;U--;)Q.pop();Q.pointer=Q.length,Q.add(it),Q.length>Q.maximumStackLength&&(Q.shift(),Q.pointer--)}}}var G={add:{undo:function(Q,V,W,Y){Q.remove(W,Y)},redo:function(Q,V,W,Y){Y.index&&(Y.at=Y.index),Q.add(W,Y)},on:function(Q,V,W){return{object:V,before:void 0,after:Q,options:x.clone(W)}}},remove:{undo:function(Q,V,W,Y){"index"in Y&&(Y.at=Y.index),Q.add(V,Y)},redo:function(Q,V,W,Y){Q.remove(V,Y)},on:function(Q,V,W){return{object:V,before:Q,after:void 0,options:x.clone(W)}}},change:{undo:function(Q,V,W,Y){x.isEmpty(V)?x.each(x.keys(W),Q.unset,Q):(Q.set(V),Y&&Y.unsetData&&Y.unsetData.before&&Y.unsetData.before.length&&x.each(Y.unsetData.before,Q.unset,Q))},redo:function(Q,V,W,Y){x.isEmpty(W)?x.each(x.keys(V),Q.unset,Q):(Q.set(W),Y&&Y.unsetData&&Y.unsetData.after&&Y.unsetData.after.length&&x.each(Y.unsetData.after,Q.unset,Q))},on:function(Q,V){var W=Q.changedAttributes(),Y=x.keys(W),it=x.pick(Q.previousAttributes(),Y),U=x.keys(it),dt=(V||(V={})).unsetData={after:[],before:[]};return Y.length!=U.length&&(Y.length>U.length?x.each(Y,function(B){B in it||dt.before.push(B)},this):x.each(U,function(B){B in W||dt.after.push(B)})),{object:Q,before:it,after:W,options:x.clone(V)}}},reset:{undo:function(Q,V,W){Q.reset(V)},redo:function(Q,V,W){Q.reset(W)},on:function(Q,V){return{object:Q,before:V.previousModels,after:x.clone(Q.models)}}}};function X(){}X.prototype=G;function yt(Q,V,W,Y){if(typeof V=="object")return x.each(V,function(it,U){Q===2?yt(Q,it,W,Y):yt(Q,U,it,W)});switch(Q){case 0:A(W,"undo","redo","on")&&x.all(x.pick(W,"undo","redo","on"),x.isFunction)&&(Y[V]=W);break;case 1:Y[V]&&x.isObject(W)&&(Y[V]=x.extend({},Y[V],W));break;case 2:delete Y[V];break}return this}var bt=S.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(Q){at("undo",this.attributes)},redo:function(Q){at("redo",this.attributes)}}),Tt=S.Collection.extend({model:bt,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(Q){this.maximumStackLength=Q}}),Ct=S.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(Q){this.stack=new Tt,this.objectRegistry=new R,this.undoTypes=new X,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(V,W){this.stack.setMaxLength(W)},this),Q&&Q.track&&this.startTracking(),Q&&Q.register&&(x.isArray(Q.register)||x.isArguments(Q.register)?O(this.register,this,Q.register):this.register(Q.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(Q){J(this.stack,Q,M(arguments,1),this.undoTypes)},register:function(){$("on",arguments,this._addToStack,this)},unregister:function(){$("off",arguments,this._addToStack,this)},unregisterAll:function(){O(this.unregister,this,this.objectRegistry.get())},undo:function(Q){mt("undo",this,this.stack,Q)},undoAll:function(){mt("undo",this,this.stack,!1,!0)},redo:function(Q){mt("redo",this,this.stack,Q)},redoAll:function(){mt("redo",this,this.stack,!1,!0)},isAvailable:function(Q){var V=this.stack,W=V.length;switch(Q){case"undo":return W>0&&V.pointer>-1;case"redo":return W>0&&V.pointer<W-1;default:return!1}},merge:function(Q){for(var V=x.isArray(Q)?Q:M(arguments),W;W=V.pop();)W instanceof Ct&&W.stack instanceof Tt&&(W.stack=this.stack)},addUndoType:function(Q,V){yt(0,Q,V,this.undoTypes)},changeUndoType:function(Q,V){yt(1,Q,V,this.undoTypes)},removeUndoType:function(Q){yt(2,Q,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return x.extend(Ct,{defaults:function(Q){x.extend(Ct.prototype.defaults,Q)},addUndoType:function(Q,V){yt(0,Q,V,G)},changeUndoType:function(Q,V){yt(1,Q,V,G)},removeUndoType:function(Q){yt(2,Q,void 0,G)}}),S.UndoManager=Ct})},316:(i,s,f)=>{var v,_;(function(w){var x=typeof self=="object"&&self.self===self&&self||typeof f.g=="object"&&f.g.global===f.g&&f.g;v=[f(50),f(895),s],_=(function(S,E,O){x.Backbone=w(x,O,S,E)}).apply(s,v),_!==void 0&&(i.exports=_)})(function(w,x,S,E){var O=w.Backbone,M=Array.prototype.slice;x.VERSION="1.4.1",x.$=E,x.noConflict=function(){return w.Backbone=O,this},x.emulateHTTP=!1,x.emulateJSON=!1;var A=x.Events={},L=/\s+/,R,$=function(F,et,ht,Et,Vt){var ct=0,Nt;if(ht&&typeof ht=="object")for(Et!==void 0&&("context"in Vt)&&Vt.context===void 0&&(Vt.context=Et),Nt=S.keys(ht);ct<Nt.length;ct++)et=$(F,et,Nt[ct],ht[Nt[ct]],Vt);else if(ht&&L.test(ht))for(Nt=ht.split(L);ct<Nt.length;ct++)et=F(et,Nt[ct],Et,Vt);else et=F(et,ht,Et,Vt);return et};A.on=function(F,et,ht){if(this._events=$(at,this._events||{},F,et,{context:ht,ctx:this,listening:R}),R){var Et=this._listeners||(this._listeners={});Et[R.id]=R,R.interop=!1}return this},A.listenTo=function(F,et,ht){if(!F)return this;var Et=F._listenId||(F._listenId=S.uniqueId("l")),Vt=this._listeningTo||(this._listeningTo={}),ct=R=Vt[Et];ct||(this._listenId||(this._listenId=S.uniqueId("l")),ct=R=Vt[Et]=new yt(this,F));var Nt=mt(F,et,ht,this);if(R=void 0,Nt)throw Nt;return ct.interop&&ct.on(et,ht),this};var at=function(F,et,ht,Et){if(ht){var Vt=F[et]||(F[et]=[]),ct=Et.context,Nt=Et.ctx,Pt=Et.listening;Pt&&Pt.count++,Vt.push({callback:ht,context:ct,ctx:ct||Nt,listening:Pt})}return F},mt=function(F,et,ht,Et){try{F.on(et,ht,Et)}catch(Vt){return Vt}};A.off=function(F,et,ht){return this._events?(this._events=$(Z,this._events,F,et,{context:ht,listeners:this._listeners}),this):this},A.stopListening=function(F,et,ht){var Et=this._listeningTo;if(!Et)return this;for(var Vt=F?[F._listenId]:S.keys(Et),ct=0;ct<Vt.length;ct++){var Nt=Et[Vt[ct]];if(!Nt)break;Nt.obj.off(et,ht,this),Nt.interop&&Nt.off(et,ht)}return S.isEmpty(Et)&&(this._listeningTo=void 0),this};var Z=function(F,et,ht,Et){if(F){var Vt=Et.context,ct=Et.listeners,Nt=0,Pt;if(!et&&!Vt&&!ht){for(Pt=S.keys(ct);Nt<Pt.length;Nt++)ct[Pt[Nt]].cleanup();return}for(Pt=et?[et]:S.keys(F);Nt<Pt.length;Nt++){et=Pt[Nt];var xe=F[et];if(!xe)break;for(var Xe=[],Ne=0;Ne<xe.length;Ne++){var Ge=xe[Ne];if(ht&&ht!==Ge.callback&&ht!==Ge.callback._callback||Vt&&Vt!==Ge.context)Xe.push(Ge);else{var nn=Ge.listening;nn&&nn.off(et,ht)}}Xe.length?F[et]=Xe:delete F[et]}return F}};A.once=function(F,et,ht){var Et=$(J,{},F,et,this.off.bind(this));return typeof F=="string"&&ht==null&&(et=void 0),this.on(Et,et,ht)},A.listenToOnce=function(F,et,ht){var Et=$(J,{},et,ht,this.stopListening.bind(this,F));return this.listenTo(F,Et)};var J=function(F,et,ht,Et){if(ht){var Vt=F[et]=S.once(function(){Et(et,Vt),ht.apply(this,arguments)});Vt._callback=ht}return F};A.trigger=function(F){if(!this._events)return this;for(var et=Math.max(0,arguments.length-1),ht=Array(et),Et=0;Et<et;Et++)ht[Et]=arguments[Et+1];return $(G,this._events,F,void 0,ht),this};var G=function(F,et,ht,Et){if(F){var Vt=F[et],ct=F.all;Vt&&ct&&(ct=ct.slice()),Vt&&X(Vt,Et),ct&&X(ct,[et].concat(Et))}return F},X=function(F,et){var ht,Et=-1,Vt=F.length,ct=et[0],Nt=et[1],Pt=et[2];switch(et.length){case 0:for(;++Et<Vt;)(ht=F[Et]).callback.call(ht.ctx);return;case 1:for(;++Et<Vt;)(ht=F[Et]).callback.call(ht.ctx,ct);return;case 2:for(;++Et<Vt;)(ht=F[Et]).callback.call(ht.ctx,ct,Nt);return;case 3:for(;++Et<Vt;)(ht=F[Et]).callback.call(ht.ctx,ct,Nt,Pt);return;default:for(;++Et<Vt;)(ht=F[Et]).callback.apply(ht.ctx,et);return}},yt=function(F,et){this.id=F._listenId,this.listener=F,this.obj=et,this.interop=!0,this.count=0,this._events=void 0};yt.prototype.on=A.on,yt.prototype.off=function(F,et){var ht;this.interop?(this._events=$(Z,this._events,F,et,{context:void 0,listeners:void 0}),ht=!this._events):(this.count--,ht=this.count===0),ht&&this.cleanup()},yt.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},A.bind=A.on,A.unbind=A.off,S.extend(x,A);var bt=x.Model=function(F,et){var ht=F||{};et||(et={}),this.preinitialize.apply(this,arguments),this.cid=S.uniqueId(this.cidPrefix),this.attributes={},et.collection&&(this.collection=et.collection),et.parse&&(ht=this.parse(ht,et)||{});var Et=S.result(this,"defaults");ht=S.defaults(S.extend({},Et,ht),Et),this.set(ht,et),this.changed={},this.initialize.apply(this,arguments)};S.extend(bt.prototype,A,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(F){return S.clone(this.attributes)},sync:function(){return x.sync.apply(this,arguments)},get:function(F){return this.attributes[F]},escape:function(F){return S.escape(this.get(F))},has:function(F){return this.get(F)!=null},matches:function(F){return!!S.iteratee(F,this)(this.attributes)},set:function(F,et,ht){if(F==null)return this;var Et;if(typeof F=="object"?(Et=F,ht=et):(Et={})[F]=et,ht||(ht={}),!this._validate(Et,ht))return!1;var Vt=ht.unset,ct=ht.silent,Nt=[],Pt=this._changing;this._changing=!0,Pt||(this._previousAttributes=S.clone(this.attributes),this.changed={});var xe=this.attributes,Xe=this.changed,Ne=this._previousAttributes;for(var Ge in Et)et=Et[Ge],S.isEqual(xe[Ge],et)||Nt.push(Ge),S.isEqual(Ne[Ge],et)?delete Xe[Ge]:Xe[Ge]=et,Vt?delete xe[Ge]:xe[Ge]=et;if(this.idAttribute in Et){var nn=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,nn,ht)}if(!ct){Nt.length&&(this._pending=ht);for(var _e=0;_e<Nt.length;_e++)this.trigger("change:"+Nt[_e],this,xe[Nt[_e]],ht)}if(Pt)return this;if(!ct)for(;this._pending;)ht=this._pending,this._pending=!1,this.trigger("change",this,ht);return this._pending=!1,this._changing=!1,this},unset:function(F,et){return this.set(F,void 0,S.extend({},et,{unset:!0}))},clear:function(F){var et={};for(var ht in this.attributes)et[ht]=void 0;return this.set(et,S.extend({},F,{unset:!0}))},hasChanged:function(F){return F==null?!S.isEmpty(this.changed):S.has(this.changed,F)},changedAttributes:function(F){if(!F)return this.hasChanged()?S.clone(this.changed):!1;var et=this._changing?this._previousAttributes:this.attributes,ht={},Et;for(var Vt in F){var ct=F[Vt];S.isEqual(et[Vt],ct)||(ht[Vt]=ct,Et=!0)}return Et?ht:!1},previous:function(F){return F==null||!this._previousAttributes?null:this._previousAttributes[F]},previousAttributes:function(){return S.clone(this._previousAttributes)},fetch:function(F){F=S.extend({parse:!0},F);var et=this,ht=F.success;return F.success=function(Et){var Vt=F.parse?et.parse(Et,F):Et;if(!et.set(Vt,F))return!1;ht&&ht.call(F.context,et,Et,F),et.trigger("sync",et,Et,F)},ve(this,F),this.sync("read",this,F)},save:function(F,et,ht){var Et;F==null||typeof F=="object"?(Et=F,ht=et):(Et={})[F]=et,ht=S.extend({validate:!0,parse:!0},ht);var Vt=ht.wait;if(Et&&!Vt){if(!this.set(Et,ht))return!1}else if(!this._validate(Et,ht))return!1;var ct=this,Nt=ht.success,Pt=this.attributes;ht.success=function(Ne){ct.attributes=Pt;var Ge=ht.parse?ct.parse(Ne,ht):Ne;if(Vt&&(Ge=S.extend({},Et,Ge)),Ge&&!ct.set(Ge,ht))return!1;Nt&&Nt.call(ht.context,ct,Ne,ht),ct.trigger("sync",ct,Ne,ht)},ve(this,ht),Et&&Vt&&(this.attributes=S.extend({},Pt,Et));var xe=this.isNew()?"create":ht.patch?"patch":"update";xe==="patch"&&!ht.attrs&&(ht.attrs=Et);var Xe=this.sync(xe,this,ht);return this.attributes=Pt,Xe},destroy:function(F){F=F?S.clone(F):{};var et=this,ht=F.success,Et=F.wait,Vt=function(){et.stopListening(),et.trigger("destroy",et,et.collection,F)};F.success=function(Nt){Et&&Vt(),ht&&ht.call(F.context,et,Nt,F),et.isNew()||et.trigger("sync",et,Nt,F)};var ct=!1;return this.isNew()?S.defer(F.success):(ve(this,F),ct=this.sync("delete",this,F)),Et||Vt(),ct},url:function(){var F=S.result(this,"urlRoot")||S.result(this.collection,"url")||gn();if(this.isNew())return F;var et=this.get(this.idAttribute);return F.replace(/[^\/]$/,"$&/")+encodeURIComponent(et)},parse:function(F,et){return F},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(F){return this._validate({},S.extend({},F,{validate:!0}))},_validate:function(F,et){if(!et.validate||!this.validate)return!0;F=S.extend({},this.attributes,F);var ht=this.validationError=this.validate(F,et)||null;return ht?(this.trigger("invalid",this,ht,S.extend(et,{validationError:ht})),!1):!0}});var Tt=x.Collection=function(F,et){et||(et={}),this.preinitialize.apply(this,arguments),et.model&&(this.model=et.model),et.comparator!==void 0&&(this.comparator=et.comparator),this._reset(),this.initialize.apply(this,arguments),F&&this.reset(F,S.extend({silent:!0},et))},Ct={add:!0,remove:!0,merge:!0},Q={add:!0,remove:!1},V=function(F,et,ht){ht=Math.min(Math.max(ht,0),F.length);var Et=Array(F.length-ht),Vt=et.length,ct;for(ct=0;ct<Et.length;ct++)Et[ct]=F[ct+ht];for(ct=0;ct<Vt;ct++)F[ct+ht]=et[ct];for(ct=0;ct<Et.length;ct++)F[ct+Vt+ht]=Et[ct]};S.extend(Tt.prototype,A,{model:bt,preinitialize:function(){},initialize:function(){},toJSON:function(F){return this.map(function(et){return et.toJSON(F)})},sync:function(){return x.sync.apply(this,arguments)},add:function(F,et){return this.set(F,S.extend({merge:!1},et,Q))},remove:function(F,et){et=S.extend({},et);var ht=!S.isArray(F);F=ht?[F]:F.slice();var Et=this._removeModels(F,et);return!et.silent&&Et.length&&(et.changes={added:[],merged:[],removed:Et},this.trigger("update",this,et)),ht?Et[0]:Et},set:function(F,et){if(F!=null){et=S.extend({},Ct,et),et.parse&&!this._isModel(F)&&(F=this.parse(F,et)||[]);var ht=!S.isArray(F);F=ht?[F]:F.slice();var Et=et.at;Et!=null&&(Et=+Et),Et>this.length&&(Et=this.length),Et<0&&(Et+=this.length+1);var Vt=[],ct=[],Nt=[],Pt=[],xe={},Xe=et.add,Ne=et.merge,Ge=et.remove,nn=!1,_e=this.comparator&&Et==null&&et.sort!==!1,rn=S.isString(this.comparator)?this.comparator:null,ln,tn;for(tn=0;tn<F.length;tn++){ln=F[tn];var Tn=this.get(ln);if(Tn){if(Ne&&ln!==Tn){var Ce=this._isModel(ln)?ln.attributes:ln;et.parse&&(Ce=Tn.parse(Ce,et)),Tn.set(Ce,et),Nt.push(Tn),_e&&!nn&&(nn=Tn.hasChanged(rn))}xe[Tn.cid]||(xe[Tn.cid]=!0,Vt.push(Tn)),F[tn]=Tn}else Xe&&(ln=F[tn]=this._prepareModel(ln,et),ln&&(ct.push(ln),this._addReference(ln,et),xe[ln.cid]=!0,Vt.push(ln)))}if(Ge){for(tn=0;tn<this.length;tn++)ln=this.models[tn],xe[ln.cid]||Pt.push(ln);Pt.length&&this._removeModels(Pt,et)}var En=!1,Re=!_e&&Xe&&Ge;if(Vt.length&&Re?(En=this.length!==Vt.length||S.some(this.models,function(un,Ze){return un!==Vt[Ze]}),this.models.length=0,V(this.models,Vt,0),this.length=this.models.length):ct.length&&(_e&&(nn=!0),V(this.models,ct,Et??this.length),this.length=this.models.length),nn&&this.sort({silent:!0}),!et.silent){for(tn=0;tn<ct.length;tn++)Et!=null&&(et.index=Et+tn),ln=ct[tn],ln.trigger("add",ln,this,et);(nn||En)&&this.trigger("sort",this,et),(ct.length||Pt.length||Nt.length)&&(et.changes={added:ct,removed:Pt,merged:Nt},this.trigger("update",this,et))}return ht?F[0]:F}},reset:function(F,et){et=et?S.clone(et):{};for(var ht=0;ht<this.models.length;ht++)this._removeReference(this.models[ht],et);return et.previousModels=this.models,this._reset(),F=this.add(F,S.extend({silent:!0},et)),et.silent||this.trigger("reset",this,et),F},push:function(F,et){return this.add(F,S.extend({at:this.length},et))},pop:function(F){var et=this.at(this.length-1);return this.remove(et,F)},unshift:function(F,et){return this.add(F,S.extend({at:0},et))},shift:function(F){var et=this.at(0);return this.remove(et,F)},slice:function(){return M.apply(this.models,arguments)},get:function(F){if(F!=null)return this._byId[F]||this._byId[this.modelId(this._isModel(F)?F.attributes:F,F.idAttribute)]||F.cid&&this._byId[F.cid]},has:function(F){return this.get(F)!=null},at:function(F){return F<0&&(F+=this.length),this.models[F]},where:function(F,et){return this[et?"find":"filter"](F)},findWhere:function(F){return this.where(F,!0)},sort:function(F){var et=this.comparator;if(!et)throw new Error("Cannot sort a set without a comparator");F||(F={});var ht=et.length;return S.isFunction(et)&&(et=et.bind(this)),ht===1||S.isString(et)?this.models=this.sortBy(et):this.models.sort(et),F.silent||this.trigger("sort",this,F),this},pluck:function(F){return this.map(F+"")},fetch:function(F){F=S.extend({parse:!0},F);var et=F.success,ht=this;return F.success=function(Et){var Vt=F.reset?"reset":"set";ht[Vt](Et,F),et&&et.call(F.context,ht,Et,F),ht.trigger("sync",ht,Et,F)},ve(this,F),this.sync("read",this,F)},create:function(F,et){et=et?S.clone(et):{};var ht=et.wait;if(F=this._prepareModel(F,et),!F)return!1;ht||this.add(F,et);var Et=this,Vt=et.success;return et.success=function(ct,Nt,Pt){ht&&Et.add(ct,Pt),Vt&&Vt.call(Pt.context,ct,Nt,Pt)},F.save(null,et),F},parse:function(F,et){return F},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(F,et){return F[et||this.model.prototype.idAttribute||"id"]},values:function(){return new Y(this,it)},keys:function(){return new Y(this,U)},entries:function(){return new Y(this,dt)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(F,et){if(this._isModel(F))return F.collection||(F.collection=this),F;et=et?S.clone(et):{},et.collection=this;var ht;return this.model.prototype?ht=new this.model(F,et):ht=this.model(F,et),ht.validationError?(this.trigger("invalid",this,ht.validationError,et),!1):ht},_removeModels:function(F,et){for(var ht=[],Et=0;Et<F.length;Et++){var Vt=this.get(F[Et]);if(Vt){var ct=this.indexOf(Vt);this.models.splice(ct,1),this.length--,delete this._byId[Vt.cid];var Nt=this.modelId(Vt.attributes,Vt.idAttribute);Nt!=null&&delete this._byId[Nt],et.silent||(et.index=ct,Vt.trigger("remove",Vt,this,et)),ht.push(Vt),this._removeReference(Vt,et)}}return ht},_isModel:function(F){return F instanceof bt},_addReference:function(F,et){this._byId[F.cid]=F;var ht=this.modelId(F.attributes,F.idAttribute);ht!=null&&(this._byId[ht]=F),F.on("all",this._onModelEvent,this)},_removeReference:function(F,et){delete this._byId[F.cid];var ht=this.modelId(F.attributes,F.idAttribute);ht!=null&&delete this._byId[ht],this===F.collection&&delete F.collection,F.off("all",this._onModelEvent,this)},_onModelEvent:function(F,et,ht,Et){if(et){if((F==="add"||F==="remove")&&ht!==this)return;if(F==="destroy"&&this.remove(et,Et),F==="changeId"){var Vt=this.modelId(et.previousAttributes(),et.idAttribute),ct=this.modelId(et.attributes,et.idAttribute);Vt!=null&&delete this._byId[Vt],ct!=null&&(this._byId[ct]=et)}}this.trigger.apply(this,arguments)}});var W=typeof Symbol=="function"&&Symbol.iterator;W&&(Tt.prototype[W]=Tt.prototype.values);var Y=function(F,et){this._collection=F,this._kind=et,this._index=0},it=1,U=2,dt=3;W&&(Y.prototype[W]=function(){return this}),Y.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var F=this._collection.at(this._index);this._index++;var et;if(this._kind===it)et=F;else{var ht=this._collection.modelId(F.attributes,F.idAttribute);this._kind===U?et=ht:et=[ht,F]}return{value:et,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var B=x.View=function(F){this.cid=S.uniqueId("view"),this.preinitialize.apply(this,arguments),S.extend(this,S.pick(F,gt)),this._ensureElement(),this.initialize.apply(this,arguments)},It=/^(\S+)\s*(.*)$/,gt=["model","collection","el","id","attributes","className","tagName","events"];S.extend(B.prototype,A,{tagName:"div",$:function(F){return this.$el.find(F)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(F){return this.undelegateEvents(),this._setElement(F),this.delegateEvents(),this},_setElement:function(F){this.$el=F instanceof x.$?F:x.$(F),this.el=this.$el[0]},delegateEvents:function(F){if(F||(F=S.result(this,"events")),!F)return this;this.undelegateEvents();for(var et in F){var ht=F[et];if(S.isFunction(ht)||(ht=this[ht]),!!ht){var Et=et.match(It);this.delegate(Et[1],Et[2],ht.bind(this))}}return this},delegate:function(F,et,ht){return this.$el.on(F+".delegateEvents"+this.cid,et,ht),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(F,et,ht){return this.$el.off(F+".delegateEvents"+this.cid,et,ht),this},_createElement:function(F){return document.createElement(F)},_ensureElement:function(){if(this.el)this.setElement(S.result(this,"el"));else{var F=S.extend({},S.result(this,"attributes"));this.id&&(F.id=S.result(this,"id")),this.className&&(F.class=S.result(this,"className")),this.setElement(this._createElement(S.result(this,"tagName"))),this._setAttributes(F)}},_setAttributes:function(F){this.$el.attr(F)}});var lt=function(F,et,ht,Et){switch(et){case 1:return function(){return F[ht](this[Et])};case 2:return function(Vt){return F[ht](this[Et],Vt)};case 3:return function(Vt,ct){return F[ht](this[Et],Ht(Vt,this),ct)};case 4:return function(Vt,ct,Nt){return F[ht](this[Et],Ht(Vt,this),ct,Nt)};default:return function(){var Vt=M.call(arguments);return Vt.unshift(this[Et]),F[ht].apply(F,Vt)}}},kt=function(F,et,ht,Et){S.each(ht,function(Vt,ct){et[ct]&&(F.prototype[ct]=lt(et,Vt,ct,Et))})},Ht=function(F,et){return S.isFunction(F)?F:S.isObject(F)&&!et._isModel(F)?Wt(F):S.isString(F)?function(ht){return ht.get(F)}:F},Wt=function(F){var et=S.matches(F);return function(ht){return et(ht.attributes)}},ie={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},qt={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};S.each([[Tt,ie,"models"],[bt,qt,"attributes"]],function(F){var et=F[0],ht=F[1],Et=F[2];et.mixin=function(Vt){var ct=S.reduce(S.functions(Vt),function(Nt,Pt){return Nt[Pt]=0,Nt},{});kt(et,Vt,ct,Et)},kt(et,S,ht,Et)}),x.sync=function(F,et,ht){var Et=Zt[F];S.defaults(ht||(ht={}),{emulateHTTP:x.emulateHTTP,emulateJSON:x.emulateJSON});var Vt={type:Et,dataType:"json"};if(ht.url||(Vt.url=S.result(et,"url")||gn()),ht.data==null&&et&&(F==="create"||F==="update"||F==="patch")&&(Vt.contentType="application/json",Vt.data=JSON.stringify(ht.attrs||et.toJSON(ht))),ht.emulateJSON&&(Vt.contentType="application/x-www-form-urlencoded",Vt.data=Vt.data?{model:Vt.data}:{}),ht.emulateHTTP&&(Et==="PUT"||Et==="DELETE"||Et==="PATCH")){Vt.type="POST",ht.emulateJSON&&(Vt.data._method=Et);var ct=ht.beforeSend;ht.beforeSend=function(xe){if(xe.setRequestHeader("X-HTTP-Method-Override",Et),ct)return ct.apply(this,arguments)}}Vt.type!=="GET"&&!ht.emulateJSON&&(Vt.processData=!1);var Nt=ht.error;ht.error=function(xe,Xe,Ne){ht.textStatus=Xe,ht.errorThrown=Ne,Nt&&Nt.call(ht.context,xe,Xe,Ne)};var Pt=ht.xhr=x.ajax(S.extend(Vt,ht));return et.trigger("request",et,Pt,ht),Pt};var Zt={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};x.ajax=function(){return x.$.ajax.apply(x.$,arguments)};var St=x.Router=function(F){F||(F={}),this.preinitialize.apply(this,arguments),F.routes&&(this.routes=F.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},zt=/\((.*?)\)/g,Kt=/(\(\?)?:\w+/g,le=/\*\w+/g,ae=/[\-{}\[\]+?.,\\\^$|#\s]/g;S.extend(St.prototype,A,{preinitialize:function(){},initialize:function(){},route:function(F,et,ht){S.isRegExp(F)||(F=this._routeToRegExp(F)),S.isFunction(et)&&(ht=et,et=""),ht||(ht=this[et]);var Et=this;return x.history.route(F,function(Vt){var ct=Et._extractParameters(F,Vt);Et.execute(ht,ct,et)!==!1&&(Et.trigger.apply(Et,["route:"+et].concat(ct)),Et.trigger("route",et,ct),x.history.trigger("route",Et,et,ct))}),this},execute:function(F,et,ht){F&&F.apply(this,et)},navigate:function(F,et){return x.history.navigate(F,et),this},_bindRoutes:function(){if(this.routes){this.routes=S.result(this,"routes");for(var F,et=S.keys(this.routes);(F=et.pop())!=null;)this.route(F,this.routes[F])}},_routeToRegExp:function(F){return F=F.replace(ae,"\\$&").replace(zt,"(?:$1)?").replace(Kt,function(et,ht){return ht?et:"([^/?]+)"}).replace(le,"([^?]*?)"),new RegExp("^"+F+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(F,et){var ht=F.exec(et).slice(1);return S.map(ht,function(Et,Vt){return Vt===ht.length-1?Et||null:Et?decodeURIComponent(Et):null})}});var Jt=x.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},ge=/^[#\/]|\s+$/g,He=/^\/+|\/+$/g,pn=/#.*$/;Jt.started=!1,S.extend(Jt.prototype,A,{interval:50,atRoot:function(){var F=this.location.pathname.replace(/[^\/]$/,"$&/");return F===this.root&&!this.getSearch()},matchRoot:function(){var F=this.decodeFragment(this.location.pathname),et=F.slice(0,this.root.length-1)+"/";return et===this.root},decodeFragment:function(F){return decodeURI(F.replace(/%25/g,"%2525"))},getSearch:function(){var F=this.location.href.replace(/#.*/,"").match(/\?.+/);return F?F[0]:""},getHash:function(F){var et=(F||this).location.href.match(/#(.*)$/);return et?et[1]:""},getPath:function(){var F=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return F.charAt(0)==="/"?F.slice(1):F},getFragment:function(F){return F==null&&(this._usePushState||!this._wantsHashChange?F=this.getPath():F=this.getHash()),F.replace(ge,"")},start:function(F){if(Jt.started)throw new Error("Backbone.history has already been started");if(Jt.started=!0,this.options=S.extend({root:"/"},this.options,F),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(He,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var et=this.root.slice(0,-1)||"/";return this.location.replace(et+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var ht=document.body,Et=ht.insertBefore(this.iframe,ht.firstChild).contentWindow;Et.document.open(),Et.document.close(),Et.location.hash="#"+this.fragment}var Vt=window.addEventListener||function(ct,Nt){return attachEvent("on"+ct,Nt)};if(this._usePushState?Vt("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?Vt("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var F=window.removeEventListener||function(et,ht){return detachEvent("on"+et,ht)};this._usePushState?F("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&F("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),Jt.started=!1},route:function(F,et){this.handlers.unshift({route:F,callback:et})},checkUrl:function(F){var et=this.getFragment();if(et===this.fragment&&this.iframe&&(et=this.getHash(this.iframe.contentWindow)),et===this.fragment)return!1;this.iframe&&this.navigate(et),this.loadUrl()},loadUrl:function(F){return this.matchRoot()?(F=this.fragment=this.getFragment(F),S.some(this.handlers,function(et){if(et.route.test(F))return et.callback(F),!0})):!1},navigate:function(F,et){if(!Jt.started)return!1;(!et||et===!0)&&(et={trigger:!!et}),F=this.getFragment(F||"");var ht=this.root;(F===""||F.charAt(0)==="?")&&(ht=ht.slice(0,-1)||"/");var Et=ht+F;F=F.replace(pn,"");var Vt=this.decodeFragment(F);if(this.fragment!==Vt){if(this.fragment=Vt,this._usePushState)this.history[et.replace?"replaceState":"pushState"]({},document.title,Et);else if(this._wantsHashChange){if(this._updateHash(this.location,F,et.replace),this.iframe&&F!==this.getHash(this.iframe.contentWindow)){var ct=this.iframe.contentWindow;et.replace||(ct.document.open(),ct.document.close()),this._updateHash(ct.location,F,et.replace)}}else return this.location.assign(Et);if(et.trigger)return this.loadUrl(F)}},_updateHash:function(F,et,ht){if(ht){var Et=F.href.replace(/(javascript:|#).*$/,"");F.replace(Et+"#"+et)}else F.hash="#"+et}}),x.history=new Jt;var jn=function(F,et){var ht=this,Et;return F&&S.has(F,"constructor")?Et=F.constructor:Et=function(){return ht.apply(this,arguments)},S.extend(Et,ht,et),Et.prototype=S.create(ht.prototype,F),Et.prototype.constructor=Et,Et.__super__=ht.prototype,Et};bt.extend=Tt.extend=St.extend=B.extend=Jt.extend=jn;var gn=function(){throw new Error('A "url" property or function must be specified')},ve=function(F,et){var ht=et.error;et.error=function(Et){ht&&ht.call(et.context,F,Et,et),F.trigger("error",F,Et,et)}};return x})},210:(i,s,f)=>{(function(v){v(f(631))})(function(v){v.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(w,x){return/^[;{}]$/.test(x)}}),v.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(w,x,S,E){return this.jsonMode?/^[\[,{]$/.test(x)||/^}/.test(S):x==";"&&E.lexical&&E.lexical.type==")"?!1:/^[;{}]$/.test(x)&&!/^;/.test(S)}});var _=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;v.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(w,x,S,E){var O=!1;return this.configuration=="html"&&(O=E.context?_.test(E.context.tagName):!1),!O&&(w=="tag"&&/>$/.test(x)&&E.context||/^</.test(S))}}),v.defineExtension("commentRange",function(w,x,S){var E=this,O=v.innerMode(E.getMode(),E.getTokenAt(x).state).mode;E.operation(function(){if(w)E.replaceRange(O.commentEnd,S),E.replaceRange(O.commentStart,x),x.line==S.line&&x.ch==S.ch&&E.setCursor(x.line,x.ch+O.commentStart.length);else{var M=E.getRange(x,S),A=M.indexOf(O.commentStart),L=M.lastIndexOf(O.commentEnd);A>-1&&L>-1&&L>A&&(M=M.substr(0,A)+M.substring(A+O.commentStart.length,L)+M.substr(L+O.commentEnd.length)),E.replaceRange(M,x,S)}})}),v.defineExtension("autoIndentRange",function(w,x){var S=this;this.operation(function(){for(var E=w.line;E<=x.line;E++)S.indentLine(E,"smart")})}),v.defineExtension("autoFormatRange",function(w,x){var S=this,E=S.getMode(),O=S.getRange(w,x).split(`
`),M=v.copyState(E,S.getTokenAt(w).state),A=S.getOption("tabSize"),L="",R=0,$=w.ch===0;function at(){L+=`
`,$=!0,++R}for(var mt=0;mt<O.length;++mt){for(var Z=new v.StringStream(O[mt],A);!Z.eol();){var J=v.innerMode(E,M),G=E.token(Z,M),X=Z.current();Z.start=Z.pos,(!$||/\S/.test(X))&&(L+=X,$=!1),!$&&J.mode.newlineAfterToken&&J.mode.newlineAfterToken(G,X,Z.string.slice(Z.pos)||O[mt+1]||"",J.state)&&at()}!Z.pos&&E.blankLine&&E.blankLine(M),!$&&mt<O.length-1&&at()}S.operation(function(){S.replaceRange(L,w,x);for(var yt=w.line+1,bt=w.line+R;yt<=bt;++yt)S.indentLine(yt,"smart");S.setSelection(w,S.getCursor(!1))})})})},631:function(i){(function(s,f){i.exports=f()})(this,function(){var s=navigator.userAgent,f=navigator.platform,v=/gecko\/\d/i.test(s),_=/MSIE \d/.test(s),w=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(s),x=/Edge\/(\d+)/.exec(s),S=_||w||x,E=S&&(_?document.documentMode||6:+(x||w)[1]),O=!x&&/WebKit\//.test(s),M=O&&/Qt\/\d+\.\d+/.test(s),A=!x&&/Chrome\/(\d+)/.exec(s),L=A&&+A[1],R=/Opera\//.test(s),$=/Apple Computer/.test(navigator.vendor),at=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(s),mt=/PhantomJS/.test(s),Z=$&&(/Mobile\/\w+/.test(s)||navigator.maxTouchPoints>2),J=/Android/.test(s),G=Z||J||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(s),X=Z||/Mac/.test(f),yt=/\bCrOS\b/.test(s),bt=/win/i.test(f),Tt=R&&s.match(/Version\/(\d*\.\d*)/);Tt&&(Tt=Number(Tt[1])),Tt&&Tt>=15&&(R=!1,O=!0);var Ct=X&&(M||R&&(Tt==null||Tt<12.11)),Q=v||S&&E>=9;function V(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}var W=function(a,u){var p=a.className,d=V(u).exec(p);if(d){var g=p.slice(d.index+d[0].length);a.className=p.slice(0,d.index)+(g?d[1]+g:"")}};function Y(a){for(var u=a.childNodes.length;u>0;--u)a.removeChild(a.firstChild);return a}function it(a,u){return Y(a).appendChild(u)}function U(a,u,p,d){var g=document.createElement(a);if(p&&(g.className=p),d&&(g.style.cssText=d),typeof u=="string")g.appendChild(document.createTextNode(u));else if(u)for(var b=0;b<u.length;++b)g.appendChild(u[b]);return g}function dt(a,u,p,d){var g=U(a,u,p,d);return g.setAttribute("role","presentation"),g}var B;document.createRange?B=function(a,u,p,d){var g=document.createRange();return g.setEnd(d||a,p),g.setStart(a,u),g}:B=function(a,u,p){var d=document.body.createTextRange();try{d.moveToElementText(a.parentNode)}catch{return d}return d.collapse(!0),d.moveEnd("character",p),d.moveStart("character",u),d};function It(a,u){if(u.nodeType==3&&(u=u.parentNode),a.contains)return a.contains(u);do if(u.nodeType==11&&(u=u.host),u==a)return!0;while(u=u.parentNode)}function gt(a){var u;try{u=a.activeElement}catch{u=a.body||null}for(;u&&u.shadowRoot&&u.shadowRoot.activeElement;)u=u.shadowRoot.activeElement;return u}function lt(a,u){var p=a.className;V(u).test(p)||(a.className+=(p?" ":"")+u)}function kt(a,u){for(var p=a.split(" "),d=0;d<p.length;d++)p[d]&&!V(p[d]).test(u)&&(u+=" "+p[d]);return u}var Ht=function(a){a.select()};Z?Ht=function(a){a.selectionStart=0,a.selectionEnd=a.value.length}:S&&(Ht=function(a){try{a.select()}catch{}});function Wt(a){return a.display.wrapper.ownerDocument}function ie(a){return Wt(a).defaultView}function qt(a){var u=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,u)}}function Zt(a,u,p){u||(u={});for(var d in a)a.hasOwnProperty(d)&&(p!==!1||!u.hasOwnProperty(d))&&(u[d]=a[d]);return u}function St(a,u,p,d,g){u==null&&(u=a.search(/[^\s\u00a0]/),u==-1&&(u=a.length));for(var b=d||0,T=g||0;;){var k=a.indexOf("	",b);if(k<0||k>=u)return T+(u-b);T+=k-b,T+=p-T%p,b=k+1}}var zt=function(){this.id=null,this.f=null,this.time=0,this.handler=qt(this.onTimeout,this)};zt.prototype.onTimeout=function(a){a.id=0,a.time<=+new Date?a.f():setTimeout(a.handler,a.time-+new Date)},zt.prototype.set=function(a,u){this.f=u;var p=+new Date+a;(!this.id||p<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,a),this.time=p)};function Kt(a,u){for(var p=0;p<a.length;++p)if(a[p]==u)return p;return-1}var le=50,ae={toString:function(){return"CodeMirror.Pass"}},Jt={scroll:!1},ge={origin:"*mouse"},He={origin:"+move"};function pn(a,u,p){for(var d=0,g=0;;){var b=a.indexOf("	",d);b==-1&&(b=a.length);var T=b-d;if(b==a.length||g+T>=u)return d+Math.min(T,u-g);if(g+=b-d,g+=p-g%p,d=b+1,g>=u)return d}}var jn=[""];function gn(a){for(;jn.length<=a;)jn.push(ve(jn)+" ");return jn[a]}function ve(a){return a[a.length-1]}function F(a,u){for(var p=[],d=0;d<a.length;d++)p[d]=u(a[d],d);return p}function et(a,u,p){for(var d=0,g=p(u);d<a.length&&p(a[d])<=g;)d++;a.splice(d,0,u)}function ht(){}function Et(a,u){var p;return Object.create?p=Object.create(a):(ht.prototype=a,p=new ht),u&&Zt(u,p),p}var Vt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ct(a){return/\w/.test(a)||a>""&&(a.toUpperCase()!=a.toLowerCase()||Vt.test(a))}function Nt(a,u){return u?u.source.indexOf("\\w")>-1&&ct(a)?!0:u.test(a):ct(a)}function Pt(a){for(var u in a)if(a.hasOwnProperty(u)&&a[u])return!1;return!0}var xe=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Xe(a){return a.charCodeAt(0)>=768&&xe.test(a)}function Ne(a,u,p){for(;(p<0?u>0:u<a.length)&&Xe(a.charAt(u));)u+=p;return u}function Ge(a,u,p){for(var d=u>p?-1:1;;){if(u==p)return u;var g=(u+p)/2,b=d<0?Math.ceil(g):Math.floor(g);if(b==u)return a(b)?u:p;a(b)?p=b:u=b+d}}function nn(a,u,p,d){if(!a)return d(u,p,"ltr",0);for(var g=!1,b=0;b<a.length;++b){var T=a[b];(T.from<p&&T.to>u||u==p&&T.to==u)&&(d(Math.max(T.from,u),Math.min(T.to,p),T.level==1?"rtl":"ltr",b),g=!0)}g||d(u,p,"ltr")}var _e=null;function rn(a,u,p){var d;_e=null;for(var g=0;g<a.length;++g){var b=a[g];if(b.from<u&&b.to>u)return g;b.to==u&&(b.from!=b.to&&p=="before"?d=g:_e=g),b.from==u&&(b.from!=b.to&&p!="before"?d=g:_e=g)}return d??_e}var ln=function(){var a="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",u="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function p(H){return H<=247?a.charAt(H):1424<=H&&H<=1524?"R":1536<=H&&H<=1785?u.charAt(H-1536):1774<=H&&H<=2220?"r":8192<=H&&H<=8203?"w":H==8204?"b":"L"}var d=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,g=/[stwN]/,b=/[LRr]/,T=/[Lb1n]/,k=/[1n]/;function j(H,st,vt){this.level=H,this.from=st,this.to=vt}return function(H,st){var vt=st=="ltr"?"L":"R";if(H.length==0||st=="ltr"&&!d.test(H))return!1;for(var Lt=H.length,Ot=[],Bt=0;Bt<Lt;++Bt)Ot.push(p(H.charCodeAt(Bt)));for(var Yt=0,ne=vt;Yt<Lt;++Yt){var ue=Ot[Yt];ue=="m"?Ot[Yt]=ne:ne=ue}for(var me=0,ce=vt;me<Lt;++me){var ye=Ot[me];ye=="1"&&ce=="r"?Ot[me]="n":b.test(ye)&&(ce=ye,ye=="r"&&(Ot[me]="R"))}for(var ke=1,Pe=Ot[0];ke<Lt-1;++ke){var Ke=Ot[ke];Ke=="+"&&Pe=="1"&&Ot[ke+1]=="1"?Ot[ke]="1":Ke==","&&Pe==Ot[ke+1]&&(Pe=="1"||Pe=="n")&&(Ot[ke]=Pe),Pe=Ke}for(var mn=0;mn<Lt;++mn){var or=Ot[mn];if(or==",")Ot[mn]="N";else if(or=="%"){var Sn=void 0;for(Sn=mn+1;Sn<Lt&&Ot[Sn]=="%";++Sn);for(var to=mn&&Ot[mn-1]=="!"||Sn<Lt&&Ot[Sn]=="1"?"1":"N",Hr=mn;Hr<Sn;++Hr)Ot[Hr]=to;mn=Sn-1}}for(var $n=0,Mr=vt;$n<Lt;++$n){var ir=Ot[$n];Mr=="L"&&ir=="1"?Ot[$n]="L":b.test(ir)&&(Mr=ir)}for(var Gn=0;Gn<Lt;++Gn)if(g.test(Ot[Gn])){var zn=void 0;for(zn=Gn+1;zn<Lt&&g.test(Ot[zn]);++zn);for(var kn=(Gn?Ot[Gn-1]:vt)=="L",zr=(zn<Lt?Ot[zn]:vt)=="L",Us=kn==zr?kn?"L":"R":vt,ca=Gn;ca<zn;++ca)Ot[ca]=Us;Gn=zn-1}for(var Cr=[],ci,ar=0;ar<Lt;)if(T.test(Ot[ar])){var Jf=ar;for(++ar;ar<Lt&&T.test(Ot[ar]);++ar);Cr.push(new j(0,Jf,ar))}else{var Pi=ar,ki=Cr.length,Qa=st=="rtl"?1:0;for(++ar;ar<Lt&&Ot[ar]!="L";++ar);for(var Lr=Pi;Lr<ar;)if(k.test(Ot[Lr])){Pi<Lr&&(Cr.splice(ki,0,new j(1,Pi,Lr)),ki+=Qa);var Ws=Lr;for(++Lr;Lr<ar&&k.test(Ot[Lr]);++Lr);Cr.splice(ki,0,new j(2,Ws,Lr)),ki+=Qa,Pi=Lr}else++Lr;Pi<ar&&Cr.splice(ki,0,new j(1,Pi,ar))}return st=="ltr"&&(Cr[0].level==1&&(ci=H.match(/^\s+/))&&(Cr[0].from=ci[0].length,Cr.unshift(new j(0,0,ci[0].length))),ve(Cr).level==1&&(ci=H.match(/\s+$/))&&(ve(Cr).to-=ci[0].length,Cr.push(new j(0,Lt-ci[0].length,Lt)))),st=="rtl"?Cr.reverse():Cr}}();function tn(a,u){var p=a.order;return p==null&&(p=a.order=ln(a.text,u)),p}var Tn=[],Ce=function(a,u,p){if(a.addEventListener)a.addEventListener(u,p,!1);else if(a.attachEvent)a.attachEvent("on"+u,p);else{var d=a._handlers||(a._handlers={});d[u]=(d[u]||Tn).concat(p)}};function En(a,u){return a._handlers&&a._handlers[u]||Tn}function Re(a,u,p){if(a.removeEventListener)a.removeEventListener(u,p,!1);else if(a.detachEvent)a.detachEvent("on"+u,p);else{var d=a._handlers,g=d&&d[u];if(g){var b=Kt(g,p);b>-1&&(d[u]=g.slice(0,b).concat(g.slice(b+1)))}}}function un(a,u){var p=En(a,u);if(p.length)for(var d=Array.prototype.slice.call(arguments,2),g=0;g<p.length;++g)p[g].apply(null,d)}function Ze(a,u,p){return typeof u=="string"&&(u={type:u,preventDefault:function(){this.defaultPrevented=!0}}),un(a,p||u.type,a,u),Mt(u)||u.codemirrorIgnore}function ee(a){var u=a._handlers&&a._handlers.cursorActivity;if(u)for(var p=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]),d=0;d<u.length;++d)Kt(p,u[d])==-1&&p.push(u[d])}function Nn(a,u){return En(a,u).length>0}function So(a){a.prototype.on=function(u,p){Ce(this,u,p)},a.prototype.off=function(u,p){Re(this,u,p)}}function tt(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function wt(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function Mt(a){return a.defaultPrevented!=null?a.defaultPrevented:a.returnValue==!1}function $t(a){tt(a),wt(a)}function he(a){return a.target||a.srcElement}function Me(a){var u=a.which;return u==null&&(a.button&1?u=1:a.button&2?u=3:a.button&4&&(u=2)),X&&a.ctrlKey&&u==1&&(u=3),u}var Je=function(){if(S&&E<9)return!1;var a=U("div");return"draggable"in a||"dragDrop"in a}(),hr;function vr(a){if(hr==null){var u=U("span","");it(a,U("span",[u,document.createTextNode("x")])),a.firstChild.offsetHeight!=0&&(hr=u.offsetWidth<=1&&u.offsetHeight>2&&!(S&&E<8))}var p=hr?U("span",""):U("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return p.setAttribute("cm-text",""),p}var In;function mi(a){if(In!=null)return In;var u=it(a,document.createTextNode("AA")),p=B(u,0,1).getBoundingClientRect(),d=B(u,1,2).getBoundingClientRect();return Y(a),!p||p.left==p.right?!1:In=d.right-p.right<3}var gr=`

b`.split(/\n/).length!=3?function(a){for(var u=0,p=[],d=a.length;u<=d;){var g=a.indexOf(`
`,u);g==-1&&(g=a.length);var b=a.slice(u,a.charAt(g-1)=="\r"?g-1:g),T=b.indexOf("\r");T!=-1?(p.push(b.slice(0,T)),u+=T+1):(p.push(b),u=g+1)}return p}:function(a){return a.split(/\r\n?|\n/)},Gr=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch{return!1}}:function(a){var u;try{u=a.ownerDocument.selection.createRange()}catch{}return!u||u.parentElement()!=a?!1:u.compareEndPoints("StartToEnd",u)!=0},yi=function(){var a=U("div");return"oncopy"in a?!0:(a.setAttribute("oncopy","return;"),typeof a.oncopy=="function")}(),Rn=null;function Cn(a){if(Rn!=null)return Rn;var u=it(a,U("span","x")),p=u.getBoundingClientRect(),d=B(u,0,1).getBoundingClientRect();return Rn=Math.abs(p.left-d.left)>1}var Zn={},Kr={};function Oo(a,u){arguments.length>2&&(u.dependencies=Array.prototype.slice.call(arguments,2)),Zn[a]=u}function Hi(a,u){Kr[a]=u}function ao(a){if(typeof a=="string"&&Kr.hasOwnProperty(a))a=Kr[a];else if(a&&typeof a.name=="string"&&Kr.hasOwnProperty(a.name)){var u=Kr[a.name];typeof u=="string"&&(u={name:u}),a=Et(u,a),a.name=u.name}else{if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return ao("application/xml");if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(a))return ao("application/json")}return typeof a=="string"?{name:a}:a||{name:"null"}}function mr(a,u){u=ao(u);var p=Zn[u.name];if(!p)return mr(a,"text/plain");var d=p(a,u);if(Jn.hasOwnProperty(u.name)){var g=Jn[u.name];for(var b in g)g.hasOwnProperty(b)&&(d.hasOwnProperty(b)&&(d["_"+b]=d[b]),d[b]=g[b])}if(d.name=u.name,u.helperType&&(d.helperType=u.helperType),u.modeProps)for(var T in u.modeProps)d[T]=u.modeProps[T];return d}var Jn={};function ri(a,u){var p=Jn.hasOwnProperty(a)?Jn[a]:Jn[a]={};Zt(u,p)}function Yr(a,u){if(u===!0)return u;if(a.copyState)return a.copyState(u);var p={};for(var d in u){var g=u[d];g instanceof Array&&(g=g.concat([])),p[d]=g}return p}function qr(a,u){for(var p;a.innerMode&&(p=a.innerMode(u),!(!p||p.mode==a));)u=p.state,a=p.mode;return p||{mode:a,state:u}}function _i(a,u,p){return a.startState?a.startState(u,p):!0}var cn=function(a,u,p){this.pos=this.start=0,this.string=a,this.tabSize=u||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=p};cn.prototype.eol=function(){return this.pos>=this.string.length},cn.prototype.sol=function(){return this.pos==this.lineStart},cn.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},cn.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},cn.prototype.eat=function(a){var u=this.string.charAt(this.pos),p;if(typeof a=="string"?p=u==a:p=u&&(a.test?a.test(u):a(u)),p)return++this.pos,u},cn.prototype.eatWhile=function(a){for(var u=this.pos;this.eat(a););return this.pos>u},cn.prototype.eatSpace=function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},cn.prototype.skipToEnd=function(){this.pos=this.string.length},cn.prototype.skipTo=function(a){var u=this.string.indexOf(a,this.pos);if(u>-1)return this.pos=u,!0},cn.prototype.backUp=function(a){this.pos-=a},cn.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=St(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?St(this.string,this.lineStart,this.tabSize):0)},cn.prototype.indentation=function(){return St(this.string,null,this.tabSize)-(this.lineStart?St(this.string,this.lineStart,this.tabSize):0)},cn.prototype.match=function(a,u,p){if(typeof a=="string"){var d=function(T){return p?T.toLowerCase():T},g=this.string.substr(this.pos,a.length);if(d(g)==d(a))return u!==!1&&(this.pos+=a.length),!0}else{var b=this.string.slice(this.pos).match(a);return b&&b.index>0?null:(b&&u!==!1&&(this.pos+=b[0].length),b)}},cn.prototype.current=function(){return this.string.slice(this.start,this.pos)},cn.prototype.hideFirstChars=function(a,u){this.lineStart+=a;try{return u()}finally{this.lineStart-=a}},cn.prototype.lookAhead=function(a){var u=this.lineOracle;return u&&u.lookAhead(a)},cn.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};function be(a,u){if(u-=a.first,u<0||u>=a.size)throw new Error("There is no line "+(u+a.first)+" in the document.");for(var p=a;!p.lines;)for(var d=0;;++d){var g=p.children[d],b=g.chunkSize();if(u<b){p=g;break}u-=b}return p.lines[u]}function Xr(a,u,p){var d=[],g=u.line;return a.iter(u.line,p.line+1,function(b){var T=b.text;g==p.line&&(T=T.slice(0,p.ch)),g==u.line&&(T=T.slice(u.ch)),d.push(T),++g}),d}function Fn(a,u,p){var d=[];return a.iter(u,p,function(g){d.push(g.text)}),d}function Nr(a,u){var p=u-a.height;if(p)for(var d=a;d;d=d.parent)d.height+=p}function We(a){if(a.parent==null)return null;for(var u=a.parent,p=Kt(u.lines,a),d=u.parent;d;u=d,d=d.parent)for(var g=0;d.children[g]!=u;++g)p+=d.children[g].chunkSize();return p+u.first}function To(a,u){var p=a.first;t:do{for(var d=0;d<a.children.length;++d){var g=a.children[d],b=g.height;if(u<b){a=g;continue t}u-=b,p+=g.chunkSize()}return p}while(!a.lines);for(var T=0;T<a.lines.length;++T){var k=a.lines[T],j=k.height;if(u<j)break;u-=j}return p+T}function oi(a,u){return u>=a.first&&u<a.first+a.size}function Uo(a,u){return String(a.lineNumberFormatter(u+a.firstLineNumber))}function I(a,u,p){if(p===void 0&&(p=null),!(this instanceof I))return new I(a,u,p);this.line=a,this.ch=u,this.sticky=p}function rt(a,u){return a.line-u.line||a.ch-u.ch}function Ut(a,u){return a.sticky==u.sticky&&rt(a,u)==0}function te(a){return I(a.line,a.ch)}function Ee(a,u){return rt(a,u)<0?u:a}function Qe(a,u){return rt(a,u)<0?a:u}function on(a,u){return Math.max(a.first,Math.min(u,a.first+a.size-1))}function Se(a,u){if(u.line<a.first)return I(a.first,0);var p=a.first+a.size-1;return u.line>p?I(p,be(a,p).text.length):Ir(u,be(a,u.line).text.length)}function Ir(a,u){var p=a.ch;return p==null||p>u?I(a.line,u):p<0?I(a.line,0):a}function ys(a,u){for(var p=[],d=0;d<u.length;d++)p[d]=Se(a,u[d]);return p}var Eo=function(a,u){this.state=a,this.lookAhead=u},Po=function(a,u,p,d){this.state=u,this.doc=a,this.line=p,this.maxLookAhead=d||0,this.baseTokens=null,this.baseTokenPos=1};Po.prototype.lookAhead=function(a){var u=this.doc.getLine(this.line+a);return u!=null&&a>this.maxLookAhead&&(this.maxLookAhead=a),u},Po.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var u=this.baseTokens[this.baseTokenPos+1];return{type:u&&u.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}},Po.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Po.fromSaved=function(a,u,p){return u instanceof Eo?new Po(a,Yr(a.mode,u.state),p,u.lookAhead):new Po(a,Yr(a.mode,u),p)},Po.prototype.save=function(a){var u=a!==!1?Yr(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Eo(u,this.maxLookAhead):u};function Oa(a,u,p,d){var g=[a.state.modeGen],b={};Er(a,u.text,a.doc.mode,p,function(H,st){return g.push(H,st)},b,d);for(var T=p.state,k=function(H){p.baseTokens=g;var st=a.state.overlays[H],vt=1,Lt=0;p.state=!0,Er(a,u.text,st.mode,p,function(Ot,Bt){for(var Yt=vt;Lt<Ot;){var ne=g[vt];ne>Ot&&g.splice(vt,1,Ot,g[vt+1],ne),vt+=2,Lt=Math.min(Ot,ne)}if(Bt)if(st.opaque)g.splice(Yt,vt-Yt,Ot,"overlay "+Bt),vt=Yt+2;else for(;Yt<vt;Yt+=2){var ue=g[Yt+1];g[Yt+1]=(ue?ue+" ":"")+"overlay "+Bt}},b),p.state=T,p.baseTokens=null,p.baseTokenPos=1},j=0;j<a.state.overlays.length;++j)k(j);return{styles:g,classes:b.bgClass||b.textClass?b:null}}function yl(a,u,p){if(!u.styles||u.styles[0]!=a.state.modeGen){var d=zi(a,We(u)),g=u.text.length>a.options.maxHighlightLength&&Yr(a.doc.mode,d.state),b=Oa(a,u,d);g&&(d.state=g),u.stateAfter=d.save(!g),u.styles=b.styles,b.classes?u.styleClasses=b.classes:u.styleClasses&&(u.styleClasses=null),p===a.doc.highlightFrontier&&(a.doc.modeFrontier=Math.max(a.doc.modeFrontier,++a.doc.highlightFrontier))}return u.styles}function zi(a,u,p){var d=a.doc,g=a.display;if(!d.mode.startState)return new Po(d,!0,u);var b=ko(a,u,p),T=b>d.first&&be(d,b-1).stateAfter,k=T?Po.fromSaved(d,T,b):new Po(d,_i(d.mode),b);return d.iter(b,u,function(j){_s(a,j.text,k);var H=k.line;j.stateAfter=H==u-1||H%5==0||H>=g.viewFrom&&H<g.viewTo?k.save():null,k.nextLine()}),p&&(d.modeFrontier=k.line),k}function _s(a,u,p,d){var g=a.doc.mode,b=new cn(u,a.options.tabSize,p);for(b.start=b.pos=d||0,u==""&&Zr(g,p.state);!b.eol();)Ta(g,b,p.state),b.start=b.pos}function Zr(a,u){if(a.blankLine)return a.blankLine(u);if(a.innerMode){var p=qr(a,u);if(p.mode.blankLine)return p.mode.blankLine(p.state)}}function Ta(a,u,p,d){for(var g=0;g<10;g++){d&&(d[0]=qr(a,p).mode);var b=a.token(u,p);if(u.pos>u.start)return b}throw new Error("Mode "+a.name+" failed to advance stream.")}var Bi=function(a,u,p){this.start=a.start,this.end=a.pos,this.string=a.current(),this.type=u||null,this.state=p};function so(a,u,p,d){var g=a.doc,b=g.mode,T;u=Se(g,u);var k=be(g,u.line),j=zi(a,u.line,p),H=new cn(k.text,a.options.tabSize,j),st;for(d&&(st=[]);(d||H.pos<u.ch)&&!H.eol();)H.start=H.pos,T=Ta(b,H,j.state),d&&st.push(new Bi(H,T,Yr(g.mode,j.state)));return d?st:new Bi(H,T,j.state)}function Ea(a,u){if(a)for(;;){var p=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!p)break;a=a.slice(0,p.index)+a.slice(p.index+p[0].length);var d=p[1]?"bgClass":"textClass";u[d]==null?u[d]=p[2]:new RegExp("(?:^|\\s)"+p[2]+"(?:$|\\s)").test(u[d])||(u[d]+=" "+p[2])}return a}function Er(a,u,p,d,g,b,T){var k=p.flattenSpans;k==null&&(k=a.options.flattenSpans);var j=0,H=null,st=new cn(u,a.options.tabSize,d),vt,Lt=a.options.addModeClass&&[null];for(u==""&&Ea(Zr(p,d.state),b);!st.eol();){if(st.pos>a.options.maxHighlightLength?(k=!1,T&&_s(a,u,d,st.pos),st.pos=u.length,vt=null):vt=Ea(Ta(p,st,d.state,Lt),b),Lt){var Ot=Lt[0].name;Ot&&(vt="m-"+(vt?Ot+" "+vt:Ot))}if(!k||H!=vt){for(;j<st.start;)j=Math.min(st.start,j+5e3),g(j,H);H=vt}st.start=st.pos}for(;j<st.pos;){var Bt=Math.min(st.pos,j+5e3);g(Bt,H),j=Bt}}function ko(a,u,p){for(var d,g,b=a.doc,T=p?-1:u-(a.doc.mode.innerMode?1e3:100),k=u;k>T;--k){if(k<=b.first)return b.first;var j=be(b,k-1),H=j.stateAfter;if(H&&(!p||k+(H instanceof Eo?H.lookAhead:0)<=b.modeFrontier))return k;var st=St(j.text,null,a.options.tabSize);(g==null||d>st)&&(g=k-1,d=st)}return g}function Hu(a,u){if(a.modeFrontier=Math.min(a.modeFrontier,u),!(a.highlightFrontier<u-10)){for(var p=a.first,d=u-1;d>p;d--){var g=be(a,d).stateAfter;if(g&&(!(g instanceof Eo)||d+g.lookAhead<u)){p=d+1;break}}a.highlightFrontier=Math.min(a.highlightFrontier,p)}}var Ui=!1,Rr=!1;function _l(){Ui=!0}function ur(){Rr=!0}function Pa(a,u,p){this.marker=a,this.from=u,this.to=p}function wi(a,u){if(a)for(var p=0;p<a.length;++p){var d=a[p];if(d.marker==u)return d}}function ka(a,u){for(var p,d=0;d<a.length;++d)a[d]!=u&&(p||(p=[])).push(a[d]);return p}function Wo(a,u,p){var d=p&&window.WeakSet&&(p.markedSpans||(p.markedSpans=new WeakSet));d&&a.markedSpans&&d.has(a.markedSpans)?a.markedSpans.push(u):(a.markedSpans=a.markedSpans?a.markedSpans.concat([u]):[u],d&&d.add(a.markedSpans)),u.marker.attachLine(a)}function zu(a,u,p){var d;if(a)for(var g=0;g<a.length;++g){var b=a[g],T=b.marker,k=b.from==null||(T.inclusiveLeft?b.from<=u:b.from<u);if(k||b.from==u&&T.type=="bookmark"&&(!p||!b.marker.insertLeft)){var j=b.to==null||(T.inclusiveRight?b.to>=u:b.to>u);(d||(d=[])).push(new Pa(T,b.from,j?null:b.to))}}return d}function ws(a,u,p){var d;if(a)for(var g=0;g<a.length;++g){var b=a[g],T=b.marker,k=b.to==null||(T.inclusiveRight?b.to>=u:b.to>u);if(k||b.from==u&&T.type=="bookmark"&&(!p||b.marker.insertLeft)){var j=b.from==null||(T.inclusiveLeft?b.from<=u:b.from<u);(d||(d=[])).push(new Pa(T,j?null:b.from-u,b.to==null?null:b.to-u))}}return d}function bs(a,u){if(u.full)return null;var p=oi(a,u.from.line)&&be(a,u.from.line).markedSpans,d=oi(a,u.to.line)&&be(a,u.to.line).markedSpans;if(!p&&!d)return null;var g=u.from.ch,b=u.to.ch,T=rt(u.from,u.to)==0,k=zu(p,g,T),j=ws(d,b,T),H=u.text.length==1,st=ve(u.text).length+(H?g:0);if(k)for(var vt=0;vt<k.length;++vt){var Lt=k[vt];if(Lt.to==null){var Ot=wi(j,Lt.marker);Ot?H&&(Lt.to=Ot.to==null?null:Ot.to+st):Lt.to=g}}if(j)for(var Bt=0;Bt<j.length;++Bt){var Yt=j[Bt];if(Yt.to!=null&&(Yt.to+=st),Yt.from==null){var ne=wi(k,Yt.marker);ne||(Yt.from=st,H&&(k||(k=[])).push(Yt))}else Yt.from+=st,H&&(k||(k=[])).push(Yt)}k&&(k=ii(k)),j&&j!=k&&(j=ii(j));var ue=[k];if(!H){var me=u.text.length-2,ce;if(me>0&&k)for(var ye=0;ye<k.length;++ye)k[ye].to==null&&(ce||(ce=[])).push(new Pa(k[ye].marker,null,null));for(var ke=0;ke<me;++ke)ue.push(ce);ue.push(j)}return ue}function ii(a){for(var u=0;u<a.length;++u){var p=a[u];p.from!=null&&p.from==p.to&&p.marker.clearWhenEmpty!==!1&&a.splice(u--,1)}return a.length?a:null}function wl(a,u,p){var d=null;if(a.iter(u.line,p.line+1,function(Ot){if(Ot.markedSpans)for(var Bt=0;Bt<Ot.markedSpans.length;++Bt){var Yt=Ot.markedSpans[Bt].marker;Yt.readOnly&&(!d||Kt(d,Yt)==-1)&&(d||(d=[])).push(Yt)}}),!d)return null;for(var g=[{from:u,to:p}],b=0;b<d.length;++b)for(var T=d[b],k=T.find(0),j=0;j<g.length;++j){var H=g[j];if(!(rt(H.to,k.from)<0||rt(H.from,k.to)>0)){var st=[j,1],vt=rt(H.from,k.from),Lt=rt(H.to,k.to);(vt<0||!T.inclusiveLeft&&!vt)&&st.push({from:H.from,to:k.from}),(Lt>0||!T.inclusiveRight&&!Lt)&&st.push({from:k.to,to:H.to}),g.splice.apply(g,st),j+=st.length-3}}return g}function Aa(a){var u=a.markedSpans;if(u){for(var p=0;p<u.length;++p)u[p].marker.detachLine(a);a.markedSpans=null}}function Ma(a,u){if(u){for(var p=0;p<u.length;++p)u[p].marker.attachLine(a);a.markedSpans=u}}function bi(a){return a.inclusiveLeft?-1:0}function La(a){return a.inclusiveRight?1:0}function Wi(a,u){var p=a.lines.length-u.lines.length;if(p!=0)return p;var d=a.find(),g=u.find(),b=rt(d.from,g.from)||bi(a)-bi(u);if(b)return-b;var T=rt(d.to,g.to)||La(a)-La(u);return T||u.id-a.id}function Da(a,u){var p=Rr&&a.markedSpans,d;if(p)for(var g=void 0,b=0;b<p.length;++b)g=p[b],g.marker.collapsed&&(u?g.from:g.to)==null&&(!d||Wi(d,g.marker)<0)&&(d=g.marker);return d}function $o(a){return Da(a,!0)}function $i(a){return Da(a,!1)}function lo(a,u){var p=Rr&&a.markedSpans,d;if(p)for(var g=0;g<p.length;++g){var b=p[g];b.marker.collapsed&&(b.from==null||b.from<u)&&(b.to==null||b.to>u)&&(!d||Wi(d,b.marker)<0)&&(d=b.marker)}return d}function Fr(a,u,p,d,g){var b=be(a,u),T=Rr&&b.markedSpans;if(T)for(var k=0;k<T.length;++k){var j=T[k];if(j.marker.collapsed){var H=j.marker.find(0),st=rt(H.from,p)||bi(j.marker)-bi(g),vt=rt(H.to,d)||La(j.marker)-La(g);if(!(st>=0&&vt<=0||st<=0&&vt>=0)&&(st<=0&&(j.marker.inclusiveRight&&g.inclusiveLeft?rt(H.to,p)>=0:rt(H.to,p)>0)||st>=0&&(j.marker.inclusiveRight&&g.inclusiveLeft?rt(H.from,d)<=0:rt(H.from,d)<0)))return!0}}}function Jr(a){for(var u;u=$o(a);)a=u.find(-1,!0).line;return a}function Go(a){for(var u;u=$i(a);)a=u.find(1,!0).line;return a}function Cs(a){for(var u,p;u=$i(a);)a=u.find(1,!0).line,(p||(p=[])).push(a);return p}function Ao(a,u){var p=be(a,u),d=Jr(p);return p==d?u:We(d)}function bl(a,u){if(u>a.lastLine())return u;var p=be(a,u),d;if(!uo(a,p))return u;for(;d=$i(p);)p=d.find(1,!0).line;return We(p)+1}function uo(a,u){var p=Rr&&u.markedSpans;if(p){for(var d=void 0,g=0;g<p.length;++g)if(d=p[g],!!d.marker.collapsed){if(d.from==null)return!0;if(!d.marker.widgetNode&&d.from==0&&d.marker.inclusiveLeft&&Ko(a,u,d))return!0}}}function Ko(a,u,p){if(p.to==null){var d=p.marker.find(1,!0);return Ko(a,d.line,wi(d.line.markedSpans,p.marker))}if(p.marker.inclusiveRight&&p.to==u.text.length)return!0;for(var g=void 0,b=0;b<u.markedSpans.length;++b)if(g=u.markedSpans[b],g.marker.collapsed&&!g.marker.widgetNode&&g.from==p.to&&(g.to==null||g.to!=p.from)&&(g.marker.inclusiveLeft||p.marker.inclusiveRight)&&Ko(a,u,g))return!0}function Vn(a){a=Jr(a);for(var u=0,p=a.parent,d=0;d<p.lines.length;++d){var g=p.lines[d];if(g==a)break;u+=g.height}for(var b=p.parent;b;p=b,b=p.parent)for(var T=0;T<b.children.length;++T){var k=b.children[T];if(k==p)break;u+=k.height}return u}function Be(a){if(a.height==0)return 0;for(var u=a.text.length,p,d=a;p=$o(d);){var g=p.find(0,!0);d=g.from.line,u+=g.from.ch-g.to.ch}for(d=a;p=$i(d);){var b=p.find(0,!0);u-=d.text.length-b.from.ch,d=b.to.line,u+=d.text.length-b.to.ch}return u}function Gi(a){var u=a.display,p=a.doc;u.maxLine=be(p,p.first),u.maxLineLength=Be(u.maxLine),u.maxLineChanged=!0,p.iter(function(d){var g=Be(d);g>u.maxLineLength&&(u.maxLineLength=g,u.maxLine=d)})}var Wn=function(a,u,p){this.text=a,Ma(this,u),this.height=p?p(this):1};Wn.prototype.lineNo=function(){return We(this)},So(Wn);function xs(a,u,p,d){a.text=u,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),a.order!=null&&(a.order=null),Aa(a),Ma(a,p);var g=d?d(a):1;g!=a.height&&Nr(a,g)}function Ki(a){a.parent=null,Aa(a)}var Cl={},yr={};function Pr(a,u){if(!a||/^\s*$/.test(a))return null;var p=u.addModeClass?yr:Cl;return p[a]||(p[a]=a.replace(/\S+/g,"cm-$&"))}function ja(a,u){var p=dt("span",null,null,O?"padding-right: .1px":null),d={pre:dt("pre",[p],"CodeMirror-line"),content:p,col:0,pos:0,cm:a,trailingSpace:!1,splitSpaces:a.getOption("lineWrapping")};u.measure={};for(var g=0;g<=(u.rest?u.rest.length:0);g++){var b=g?u.rest[g-1]:u.line,T=void 0;d.pos=0,d.addToken=Yi,mi(a.display.measure)&&(T=tn(b,a.doc.direction))&&(d.addToken=cr(d.addToken,T)),d.map=[];var k=u!=a.display.externalMeasured&&We(b);Ia(b,d,yl(a,b,k)),b.styleClasses&&(b.styleClasses.bgClass&&(d.bgClass=kt(b.styleClasses.bgClass,d.bgClass||"")),b.styleClasses.textClass&&(d.textClass=kt(b.styleClasses.textClass,d.textClass||""))),d.map.length==0&&d.map.push(0,0,d.content.appendChild(vr(a.display.measure))),g==0?(u.measure.map=d.map,u.measure.cache={}):((u.measure.maps||(u.measure.maps=[])).push(d.map),(u.measure.caches||(u.measure.caches=[])).push({}))}if(O){var j=d.content.lastChild;(/\bcm-tab\b/.test(j.className)||j.querySelector&&j.querySelector(".cm-tab"))&&(d.content.className="cm-tab-wrap-hack")}return un(a,"renderLine",a,u.line,d.pre),d.pre.className&&(d.textClass=kt(d.pre.className,d.textClass||"")),d}function Na(a){var u=U("span","","cm-invalidchar");return u.title="\\u"+a.charCodeAt(0).toString(16),u.setAttribute("aria-label",u.title),u}function Yi(a,u,p,d,g,b,T){if(u){var k=a.splitSpaces?Bu(u,a.trailingSpace):u,j=a.cm.state.specialChars,H=!1,st;if(!j.test(u))a.col+=u.length,st=document.createTextNode(k),a.map.push(a.pos,a.pos+u.length,st),S&&E<9&&(H=!0),a.pos+=u.length;else{st=document.createDocumentFragment();for(var vt=0;;){j.lastIndex=vt;var Lt=j.exec(u),Ot=Lt?Lt.index-vt:u.length-vt;if(Ot){var Bt=document.createTextNode(k.slice(vt,vt+Ot));S&&E<9?st.appendChild(U("span",[Bt])):st.appendChild(Bt),a.map.push(a.pos,a.pos+Ot,Bt),a.col+=Ot,a.pos+=Ot}if(!Lt)break;vt+=Ot+1;var Yt=void 0;if(Lt[0]=="	"){var ne=a.cm.options.tabSize,ue=ne-a.col%ne;Yt=st.appendChild(U("span",gn(ue),"cm-tab")),Yt.setAttribute("role","presentation"),Yt.setAttribute("cm-text","	"),a.col+=ue}else Lt[0]=="\r"||Lt[0]==`
`?(Yt=st.appendChild(U("span",Lt[0]=="\r"?"":"","cm-invalidchar")),Yt.setAttribute("cm-text",Lt[0]),a.col+=1):(Yt=a.cm.options.specialCharPlaceholder(Lt[0]),Yt.setAttribute("cm-text",Lt[0]),S&&E<9?st.appendChild(U("span",[Yt])):st.appendChild(Yt),a.col+=1);a.map.push(a.pos,a.pos+1,Yt),a.pos++}}if(a.trailingSpace=k.charCodeAt(u.length-1)==32,p||d||g||H||b||T){var me=p||"";d&&(me+=d),g&&(me+=g);var ce=U("span",[st],me,b);if(T)for(var ye in T)T.hasOwnProperty(ye)&&ye!="style"&&ye!="class"&&ce.setAttribute(ye,T[ye]);return a.content.appendChild(ce)}a.content.appendChild(st)}}function Bu(a,u){if(a.length>1&&!/  /.test(a))return a;for(var p=u,d="",g=0;g<a.length;g++){var b=a.charAt(g);b==" "&&p&&(g==a.length-1||a.charCodeAt(g+1)==32)&&(b=""),d+=b,p=b==" "}return d}function cr(a,u){return function(p,d,g,b,T,k,j){g=g?g+" cm-force-border":"cm-force-border";for(var H=p.pos,st=H+d.length;;){for(var vt=void 0,Lt=0;Lt<u.length&&(vt=u[Lt],!(vt.to>H&&vt.from<=H));Lt++);if(vt.to>=st)return a(p,d,g,b,T,k,j);a(p,d.slice(0,vt.to-H),g,b,null,k,j),b=null,d=d.slice(vt.to-H),H=vt.to}}}function xl(a,u,p,d){var g=!d&&p.widgetNode;g&&a.map.push(a.pos,a.pos+u,g),!d&&a.cm.display.input.needsContentAttribute&&(g||(g=a.content.appendChild(document.createElement("span"))),g.setAttribute("cm-marker",p.id)),g&&(a.cm.display.input.setUneditable(g),a.content.appendChild(g)),a.pos+=u,a.trailingSpace=!1}function Ia(a,u,p){var d=a.markedSpans,g=a.text,b=0;if(!d){for(var T=1;T<p.length;T+=2)u.addToken(u,g.slice(b,b=p[T]),Pr(p[T+1],u.cm.options));return}for(var k=g.length,j=0,H=1,st="",vt,Lt,Ot=0,Bt,Yt,ne,ue,me;;){if(Ot==j){Bt=Yt=ne=Lt="",me=null,ue=null,Ot=1/0;for(var ce=[],ye=void 0,ke=0;ke<d.length;++ke){var Pe=d[ke],Ke=Pe.marker;if(Ke.type=="bookmark"&&Pe.from==j&&Ke.widgetNode)ce.push(Ke);else if(Pe.from<=j&&(Pe.to==null||Pe.to>j||Ke.collapsed&&Pe.to==j&&Pe.from==j)){if(Pe.to!=null&&Pe.to!=j&&Ot>Pe.to&&(Ot=Pe.to,Yt=""),Ke.className&&(Bt+=" "+Ke.className),Ke.css&&(Lt=(Lt?Lt+";":"")+Ke.css),Ke.startStyle&&Pe.from==j&&(ne+=" "+Ke.startStyle),Ke.endStyle&&Pe.to==Ot&&(ye||(ye=[])).push(Ke.endStyle,Pe.to),Ke.title&&((me||(me={})).title=Ke.title),Ke.attributes)for(var mn in Ke.attributes)(me||(me={}))[mn]=Ke.attributes[mn];Ke.collapsed&&(!ue||Wi(ue.marker,Ke)<0)&&(ue=Pe)}else Pe.from>j&&Ot>Pe.from&&(Ot=Pe.from)}if(ye)for(var or=0;or<ye.length;or+=2)ye[or+1]==Ot&&(Yt+=" "+ye[or]);if(!ue||ue.from==j)for(var Sn=0;Sn<ce.length;++Sn)xl(u,0,ce[Sn]);if(ue&&(ue.from||0)==j){if(xl(u,(ue.to==null?k+1:ue.to)-j,ue.marker,ue.from==null),ue.to==null)return;ue.to==j&&(ue=!1)}}if(j>=k)break;for(var to=Math.min(k,Ot);;){if(st){var Hr=j+st.length;if(!ue){var $n=Hr>to?st.slice(0,to-j):st;u.addToken(u,$n,vt?vt+Bt:Bt,ne,j+$n.length==Ot?Yt:"",Lt,me)}if(Hr>=to){st=st.slice(to-j),j=to;break}j=Hr,ne=""}st=g.slice(b,b=p[H++]),vt=Pr(p[H++],u.cm.options)}}}function Sl(a,u,p){this.line=u,this.rest=Cs(u),this.size=this.rest?We(ve(this.rest))-p+1:1,this.node=this.text=null,this.hidden=uo(a,u)}function Ra(a,u,p){for(var d=[],g,b=u;b<p;b=g){var T=new Sl(a.doc,be(a.doc,b),b);g=b+T.size,d.push(T)}return d}var ai=null;function Ss(a){ai?ai.ops.push(a):a.ownsGroup=ai={ops:[a],delayedCallbacks:[]}}function Ol(a){var u=a.delayedCallbacks,p=0;do{for(;p<u.length;p++)u[p].call(null);for(var d=0;d<a.ops.length;d++){var g=a.ops[d];if(g.cursorActivityHandlers)for(;g.cursorActivityCalled<g.cursorActivityHandlers.length;)g.cursorActivityHandlers[g.cursorActivityCalled++].call(null,g.cm)}}while(p<u.length)}function qi(a,u){var p=a.ownsGroup;if(p)try{Ol(p)}finally{ai=null,u(p)}}var co=null;function xn(a,u){var p=En(a,u);if(p.length){var d=Array.prototype.slice.call(arguments,2),g;ai?g=ai.delayedCallbacks:co?g=co:(g=co=[],setTimeout(Os,0));for(var b=function(k){g.push(function(){return p[k].apply(null,d)})},T=0;T<p.length;++T)b(T)}}function Os(){var a=co;co=null;for(var u=0;u<a.length;++u)a[u]()}function Tl(a,u,p,d){for(var g=0;g<u.changes.length;g++){var b=u.changes[g];b=="text"?El(a,u):b=="gutter"?si(a,u,p,d):b=="class"?Ts(a,u):b=="widget"&&Wu(a,u,d)}u.changes=null}function Ci(a){return a.node==a.text&&(a.node=U("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),S&&E<8&&(a.node.style.zIndex=2)),a.node}function Uu(a,u){var p=u.bgClass?u.bgClass+" "+(u.line.bgClass||""):u.line.bgClass;if(p&&(p+=" CodeMirror-linebackground"),u.background)p?u.background.className=p:(u.background.parentNode.removeChild(u.background),u.background=null);else if(p){var d=Ci(u);u.background=d.insertBefore(U("div",null,p),d.firstChild),a.display.input.setUneditable(u.background)}}function Yo(a,u){var p=a.display.externalMeasured;return p&&p.line==u.line?(a.display.externalMeasured=null,u.measure=p.measure,p.built):ja(a,u)}function El(a,u){var p=u.text.className,d=Yo(a,u);u.text==u.node&&(u.node=d.pre),u.text.parentNode.replaceChild(d.pre,u.text),u.text=d.pre,d.bgClass!=u.bgClass||d.textClass!=u.textClass?(u.bgClass=d.bgClass,u.textClass=d.textClass,Ts(a,u)):p&&(u.text.className=p)}function Ts(a,u){Uu(a,u),u.line.wrapClass?Ci(u).className=u.line.wrapClass:u.node!=u.text&&(u.node.className="");var p=u.textClass?u.textClass+" "+(u.line.textClass||""):u.line.textClass;u.text.className=p||""}function si(a,u,p,d){if(u.gutter&&(u.node.removeChild(u.gutter),u.gutter=null),u.gutterBackground&&(u.node.removeChild(u.gutterBackground),u.gutterBackground=null),u.line.gutterClass){var g=Ci(u);u.gutterBackground=U("div",null,"CodeMirror-gutter-background "+u.line.gutterClass,"left: "+(a.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px; width: "+d.gutterTotalWidth+"px"),a.display.input.setUneditable(u.gutterBackground),g.insertBefore(u.gutterBackground,u.text)}var b=u.line.gutterMarkers;if(a.options.lineNumbers||b){var T=Ci(u),k=u.gutter=U("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px");if(k.setAttribute("aria-hidden","true"),a.display.input.setUneditable(k),T.insertBefore(k,u.text),u.line.gutterClass&&(k.className+=" "+u.line.gutterClass),a.options.lineNumbers&&(!b||!b["CodeMirror-linenumbers"])&&(u.lineNumber=k.appendChild(U("div",Uo(a.options,p),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+d.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px"))),b)for(var j=0;j<a.display.gutterSpecs.length;++j){var H=a.display.gutterSpecs[j].className,st=b.hasOwnProperty(H)&&b[H];st&&k.appendChild(U("div",[st],"CodeMirror-gutter-elt","left: "+d.gutterLeft[H]+"px; width: "+d.gutterWidth[H]+"px"))}}}function Wu(a,u,p){u.alignable&&(u.alignable=null);for(var d=V("CodeMirror-linewidget"),g=u.node.firstChild,b=void 0;g;g=b)b=g.nextSibling,d.test(g.className)&&u.node.removeChild(g);Pl(a,u,p)}function Fa(a,u,p,d){var g=Yo(a,u);return u.text=u.node=g.pre,g.bgClass&&(u.bgClass=g.bgClass),g.textClass&&(u.textClass=g.textClass),Ts(a,u),si(a,u,p,d),Pl(a,u,d),u.node}function Pl(a,u,p){if(Va(a,u.line,u,p,!0),u.rest)for(var d=0;d<u.rest.length;d++)Va(a,u.rest[d],u,p,!1)}function Va(a,u,p,d,g){if(u.widgets)for(var b=Ci(p),T=0,k=u.widgets;T<k.length;++T){var j=k[T],H=U("div",[j.node],"CodeMirror-linewidget"+(j.className?" "+j.className:""));j.handleMouseEvents||H.setAttribute("cm-ignore-events","true"),kl(j,H,p,d),a.display.input.setUneditable(H),g&&j.above?b.insertBefore(H,p.gutter||p.text):b.appendChild(H),xn(j,"redraw")}}function kl(a,u,p,d){if(a.noHScroll){(p.alignable||(p.alignable=[])).push(u);var g=d.wrapperWidth;u.style.left=d.fixedPos+"px",a.coverGutter||(g-=d.gutterTotalWidth,u.style.paddingLeft=d.gutterTotalWidth+"px"),u.style.width=g+"px"}a.coverGutter&&(u.style.zIndex=5,u.style.position="relative",a.noHScroll||(u.style.marginLeft=-d.gutterTotalWidth+"px"))}function Mo(a){if(a.height!=null)return a.height;var u=a.doc.cm;if(!u)return 0;if(!It(document.body,a.node)){var p="position: relative;";a.coverGutter&&(p+="margin-left: -"+u.display.gutters.offsetWidth+"px;"),a.noHScroll&&(p+="width: "+u.display.wrapper.clientWidth+"px;"),it(u.display.measure,U("div",[a.node],null,p))}return a.height=a.node.parentNode.offsetHeight}function fo(a,u){for(var p=he(u);p!=a.wrapper;p=p.parentNode)if(!p||p.nodeType==1&&p.getAttribute("cm-ignore-events")=="true"||p.parentNode==a.sizer&&p!=a.mover)return!0}function Xi(a){return a.lineSpace.offsetTop}function Al(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function N(a){if(a.cachedPaddingH)return a.cachedPaddingH;var u=it(a.measure,U("pre","x","CodeMirror-line-like")),p=window.getComputedStyle?window.getComputedStyle(u):u.currentStyle,d={left:parseInt(p.paddingLeft),right:parseInt(p.paddingRight)};return!isNaN(d.left)&&!isNaN(d.right)&&(a.cachedPaddingH=d),d}function K(a){return le-a.display.nativeBarWidth}function pt(a){return a.display.scroller.clientWidth-K(a)-a.display.barWidth}function _t(a){return a.display.scroller.clientHeight-K(a)-a.display.barHeight}function jt(a,u,p){var d=a.options.lineWrapping,g=d&&pt(a);if(!u.measure.heights||d&&u.measure.width!=g){var b=u.measure.heights=[];if(d){u.measure.width=g;for(var T=u.text.firstChild.getClientRects(),k=0;k<T.length-1;k++){var j=T[k],H=T[k+1];Math.abs(j.bottom-H.bottom)>2&&b.push((j.bottom+H.top)/2-p.top)}}b.push(p.bottom-p.top)}}function At(a,u,p){if(a.line==u)return{map:a.measure.map,cache:a.measure.cache};if(a.rest){for(var d=0;d<a.rest.length;d++)if(a.rest[d]==u)return{map:a.measure.maps[d],cache:a.measure.caches[d]};for(var g=0;g<a.rest.length;g++)if(We(a.rest[g])>p)return{map:a.measure.maps[g],cache:a.measure.caches[g],before:!0}}}function Gt(a,u){u=Jr(u);var p=We(u),d=a.display.externalMeasured=new Sl(a.doc,u,p);d.lineN=p;var g=d.built=ja(a,d);return d.text=g.pre,it(a.display.lineMeasure,g.pre),d}function fe(a,u,p,d){return fn(a,Le(a,u),p,d)}function ze(a,u){if(u>=a.display.viewFrom&&u<a.display.viewTo)return a.display.view[li(a,u)];var p=a.display.externalMeasured;if(p&&u>=p.lineN&&u<p.lineN+p.size)return p}function Le(a,u){var p=We(u),d=ze(a,p);d&&!d.text?d=null:d&&d.changes&&(Tl(a,d,p,As(a)),a.curOp.forceUpdate=!0),d||(d=Gt(a,u));var g=At(d,u,p);return{line:u,view:d,rect:null,map:g.map,cache:g.cache,before:g.before,hasHeights:!1}}function fn(a,u,p,d,g){u.before&&(p=-1);var b=p+(d||""),T;return u.cache.hasOwnProperty(b)?T=u.cache[b]:(u.rect||(u.rect=u.view.text.getBoundingClientRect()),u.hasHeights||(jt(a,u.view,u.rect),u.hasHeights=!0),T=sg(a,u,p,d),T.bogus||(u.cache[b]=T)),{left:T.left,right:T.right,top:g?T.rtop:T.top,bottom:g?T.rbottom:T.bottom}}var Qn={left:0,right:0,top:0,bottom:0};function Ml(a,u,p){for(var d,g,b,T,k,j,H=0;H<a.length;H+=3)if(k=a[H],j=a[H+1],u<k?(g=0,b=1,T="left"):u<j?(g=u-k,b=g+1):(H==a.length-3||u==j&&a[H+3]>u)&&(b=j-k,g=b-1,u>=j&&(T="right")),g!=null){if(d=a[H+2],k==j&&p==(d.insertLeft?"left":"right")&&(T=p),p=="left"&&g==0)for(;H&&a[H-2]==a[H-3]&&a[H-1].insertLeft;)d=a[(H-=3)+2],T="left";if(p=="right"&&g==j-k)for(;H<a.length-3&&a[H+3]==a[H+4]&&!a[H+5].insertLeft;)d=a[(H+=3)+2],T="right";break}return{node:d,start:g,end:b,collapse:T,coverStart:k,coverEnd:j}}function $u(a,u){var p=Qn;if(u=="left")for(var d=0;d<a.length&&(p=a[d]).left==p.right;d++);else for(var g=a.length-1;g>=0&&(p=a[g]).left==p.right;g--);return p}function sg(a,u,p,d){var g=Ml(u.map,p,d),b=g.node,T=g.start,k=g.end,j=g.collapse,H;if(b.nodeType==3){for(var st=0;st<4;st++){for(;T&&Xe(u.line.text.charAt(g.coverStart+T));)--T;for(;g.coverStart+k<g.coverEnd&&Xe(u.line.text.charAt(g.coverStart+k));)++k;if(S&&E<9&&T==0&&k==g.coverEnd-g.coverStart?H=b.parentNode.getBoundingClientRect():H=$u(B(b,T,k).getClientRects(),d),H.left||H.right||T==0)break;k=T,T=T-1,j="right"}S&&E<11&&(H=Gu(a.display.measure,H))}else{T>0&&(j=d="right");var vt;a.options.lineWrapping&&(vt=b.getClientRects()).length>1?H=vt[d=="right"?vt.length-1:0]:H=b.getBoundingClientRect()}if(S&&E<9&&!T&&(!H||!H.left&&!H.right)){var Lt=b.parentNode.getClientRects()[0];Lt?H={left:Lt.left,right:Lt.left+ks(a.display),top:Lt.top,bottom:Lt.bottom}:H=Qn}for(var Ot=H.top-u.rect.top,Bt=H.bottom-u.rect.top,Yt=(Ot+Bt)/2,ne=u.view.measure.heights,ue=0;ue<ne.length-1&&!(Yt<ne[ue]);ue++);var me=ue?ne[ue-1]:0,ce=ne[ue],ye={left:(j=="right"?H.right:H.left)-u.rect.left,right:(j=="left"?H.left:H.right)-u.rect.left,top:me,bottom:ce};return!H.left&&!H.right&&(ye.bogus=!0),a.options.singleCursorHeightPerLine||(ye.rtop=Ot,ye.rbottom=Bt),ye}function Gu(a,u){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Cn(a))return u;var p=screen.logicalXDPI/screen.deviceXDPI,d=screen.logicalYDPI/screen.deviceYDPI;return{left:u.left*p,right:u.right*p,top:u.top*d,bottom:u.bottom*d}}function Ku(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var u=0;u<a.rest.length;u++)a.measure.caches[u]={}}function sp(a){a.display.externalMeasure=null,Y(a.display.lineMeasure);for(var u=0;u<a.display.view.length;u++)Ku(a.display.view[u])}function Es(a){sp(a),a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function lp(a){return A&&J?-(a.body.getBoundingClientRect().left-parseInt(getComputedStyle(a.body).marginLeft)):a.defaultView.pageXOffset||(a.documentElement||a.body).scrollLeft}function Ll(a){return A&&J?-(a.body.getBoundingClientRect().top-parseInt(getComputedStyle(a.body).marginTop)):a.defaultView.pageYOffset||(a.documentElement||a.body).scrollTop}function lf(a){var u=Jr(a),p=u.widgets,d=0;if(p)for(var g=0;g<p.length;++g)p[g].above&&(d+=Mo(p[g]));return d}function Yu(a,u,p,d,g){if(!g){var b=lf(u);p.top+=b,p.bottom+=b}if(d=="line")return p;d||(d="local");var T=Vn(u);if(d=="local"?T+=Xi(a.display):T-=a.display.viewOffset,d=="page"||d=="window"){var k=a.display.lineSpace.getBoundingClientRect();T+=k.top+(d=="window"?0:Ll(Wt(a)));var j=k.left+(d=="window"?0:lp(Wt(a)));p.left+=j,p.right+=j}return p.top+=T,p.bottom+=T,p}function up(a,u,p){if(p=="div")return u;var d=u.left,g=u.top;if(p=="page")d-=lp(Wt(a)),g-=Ll(Wt(a));else if(p=="local"||!p){var b=a.display.sizer.getBoundingClientRect();d+=b.left,g+=b.top}var T=a.display.lineSpace.getBoundingClientRect();return{left:d-T.left,top:g-T.top}}function Ha(a,u,p,d,g){return d||(d=be(a.doc,u.line)),Yu(a,d,fe(a,d,u.ch,g),p)}function po(a,u,p,d,g,b){d=d||be(a.doc,u.line),g||(g=Le(a,d));function T(Bt,Yt){var ne=fn(a,g,Bt,Yt?"right":"left",b);return Yt?ne.left=ne.right:ne.right=ne.left,Yu(a,d,ne,p)}var k=tn(d,a.doc.direction),j=u.ch,H=u.sticky;if(j>=d.text.length?(j=d.text.length,H="before"):j<=0&&(j=0,H="after"),!k)return T(H=="before"?j-1:j,H=="before");function st(Bt,Yt,ne){var ue=k[Yt],me=ue.level==1;return T(ne?Bt-1:Bt,me!=ne)}var vt=rn(k,j,H),Lt=_e,Ot=st(j,vt,H=="before");return Lt!=null&&(Ot.other=st(j,Lt,H!="before")),Ot}function cp(a,u){var p=0;u=Se(a.doc,u),a.options.lineWrapping||(p=ks(a.display)*u.ch);var d=be(a.doc,u.line),g=Vn(d)+Xi(a.display);return{left:p,right:p,top:g,bottom:g+d.height}}function uf(a,u,p,d,g){var b=I(a,u,p);return b.xRel=g,d&&(b.outside=d),b}function cf(a,u,p){var d=a.doc;if(p+=a.display.viewOffset,p<0)return uf(d.first,0,null,-1,-1);var g=To(d,p),b=d.first+d.size-1;if(g>b)return uf(d.first+d.size-1,be(d,b).text.length,null,1,1);u<0&&(u=0);for(var T=be(d,g);;){var k=df(a,T,g,u,p),j=lo(T,k.ch+(k.xRel>0||k.outside>0?1:0));if(!j)return k;var H=j.find(1);if(H.line==g)return H;T=be(d,g=H.line)}}function Dl(a,u,p,d){d-=lf(u);var g=u.text.length,b=Ge(function(T){return fn(a,p,T-1).bottom<=d},g,0);return g=Ge(function(T){return fn(a,p,T).top>d},b,g),{begin:b,end:g}}function qu(a,u,p,d){p||(p=Le(a,u));var g=Yu(a,u,fn(a,p,d),"line").top;return Dl(a,u,p,g)}function ff(a,u,p,d){return a.bottom<=p?!1:a.top>p?!0:(d?a.left:a.right)>u}function df(a,u,p,d,g){g-=Vn(u);var b=Le(a,u),T=lf(u),k=0,j=u.text.length,H=!0,st=tn(u,a.doc.direction);if(st){var vt=(a.options.lineWrapping?Xu:lg)(a,u,p,b,st,d,g);H=vt.level!=1,k=H?vt.from:vt.to-1,j=H?vt.to:vt.from-1}var Lt=null,Ot=null,Bt=Ge(function(ke){var Pe=fn(a,b,ke);return Pe.top+=T,Pe.bottom+=T,ff(Pe,d,g,!1)?(Pe.top<=g&&Pe.left<=d&&(Lt=ke,Ot=Pe),!0):!1},k,j),Yt,ne,ue=!1;if(Ot){var me=d-Ot.left<Ot.right-d,ce=me==H;Bt=Lt+(ce?0:1),ne=ce?"after":"before",Yt=me?Ot.left:Ot.right}else{!H&&(Bt==j||Bt==k)&&Bt++,ne=Bt==0?"after":Bt==u.text.length?"before":fn(a,b,Bt-(H?1:0)).bottom+T<=g==H?"after":"before";var ye=po(a,I(p,Bt,ne),"line",u,b);Yt=ye.left,ue=g<ye.top?-1:g>=ye.bottom?1:0}return Bt=Ne(u.text,Bt,1),uf(p,Bt,ne,ue,d-Yt)}function lg(a,u,p,d,g,b,T){var k=Ge(function(vt){var Lt=g[vt],Ot=Lt.level!=1;return ff(po(a,I(p,Ot?Lt.to:Lt.from,Ot?"before":"after"),"line",u,d),b,T,!0)},0,g.length-1),j=g[k];if(k>0){var H=j.level!=1,st=po(a,I(p,H?j.from:j.to,H?"after":"before"),"line",u,d);ff(st,b,T,!0)&&st.top>T&&(j=g[k-1])}return j}function Xu(a,u,p,d,g,b,T){var k=Dl(a,u,d,T),j=k.begin,H=k.end;/\s/.test(u.text.charAt(H-1))&&H--;for(var st=null,vt=null,Lt=0;Lt<g.length;Lt++){var Ot=g[Lt];if(!(Ot.from>=H||Ot.to<=j)){var Bt=Ot.level!=1,Yt=fn(a,d,Bt?Math.min(H,Ot.to)-1:Math.max(j,Ot.from)).right,ne=Yt<b?b-Yt+1e9:Yt-b;(!st||vt>ne)&&(st=Ot,vt=ne)}}return st||(st=g[g.length-1]),st.from<j&&(st={from:j,to:st.to,level:st.level}),st.to>H&&(st={from:st.from,to:H,level:st.level}),st}var za;function Ps(a){if(a.cachedTextHeight!=null)return a.cachedTextHeight;if(za==null){za=U("pre",null,"CodeMirror-line-like");for(var u=0;u<49;++u)za.appendChild(document.createTextNode("x")),za.appendChild(U("br"));za.appendChild(document.createTextNode("x"))}it(a.measure,za);var p=za.offsetHeight/50;return p>3&&(a.cachedTextHeight=p),Y(a.measure),p||1}function ks(a){if(a.cachedCharWidth!=null)return a.cachedCharWidth;var u=U("span","xxxxxxxxxx"),p=U("pre",[u],"CodeMirror-line-like");it(a.measure,p);var d=u.getBoundingClientRect(),g=(d.right-d.left)/10;return g>2&&(a.cachedCharWidth=g),g||10}function As(a){for(var u=a.display,p={},d={},g=u.gutters.clientLeft,b=u.gutters.firstChild,T=0;b;b=b.nextSibling,++T){var k=a.display.gutterSpecs[T].className;p[k]=b.offsetLeft+b.clientLeft+g,d[k]=b.clientWidth}return{fixedPos:jl(u),gutterTotalWidth:u.gutters.offsetWidth,gutterLeft:p,gutterWidth:d,wrapperWidth:u.wrapper.clientWidth}}function jl(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function fp(a){var u=Ps(a.display),p=a.options.lineWrapping,d=p&&Math.max(5,a.display.scroller.clientWidth/ks(a.display)-3);return function(g){if(uo(a.doc,g))return 0;var b=0;if(g.widgets)for(var T=0;T<g.widgets.length;T++)g.widgets[T].height&&(b+=g.widgets[T].height);return p?b+(Math.ceil(g.text.length/d)||1)*u:b+u}}function pf(a){var u=a.doc,p=fp(a);u.iter(function(d){var g=p(d);g!=d.height&&Nr(d,g)})}function Ba(a,u,p,d){var g=a.display;if(!p&&he(u).getAttribute("cm-not-content")=="true")return null;var b,T,k=g.lineSpace.getBoundingClientRect();try{b=u.clientX-k.left,T=u.clientY-k.top}catch{return null}var j=cf(a,b,T),H;if(d&&j.xRel>0&&(H=be(a.doc,j.line).text).length==j.ch){var st=St(H,H.length,a.options.tabSize)-H.length;j=I(j.line,Math.max(0,Math.round((b-N(a.display).left)/ks(a.display))-st))}return j}function li(a,u){if(u>=a.display.viewTo||(u-=a.display.viewFrom,u<0))return null;for(var p=a.display.view,d=0;d<p.length;d++)if(u-=p[d].size,u<0)return d}function _r(a,u,p,d){u==null&&(u=a.doc.first),p==null&&(p=a.doc.first+a.doc.size),d||(d=0);var g=a.display;if(d&&p<g.viewTo&&(g.updateLineNumbers==null||g.updateLineNumbers>u)&&(g.updateLineNumbers=u),a.curOp.viewChanged=!0,u>=g.viewTo)Rr&&Ao(a.doc,u)<g.viewTo&&Ji(a);else if(p<=g.viewFrom)Rr&&bl(a.doc,p+d)>g.viewFrom?Ji(a):(g.viewFrom+=d,g.viewTo+=d);else if(u<=g.viewFrom&&p>=g.viewTo)Ji(a);else if(u<=g.viewFrom){var b=Zu(a,p,p+d,1);b?(g.view=g.view.slice(b.index),g.viewFrom=b.lineN,g.viewTo+=d):Ji(a)}else if(p>=g.viewTo){var T=Zu(a,u,u,-1);T?(g.view=g.view.slice(0,T.index),g.viewTo=T.lineN):Ji(a)}else{var k=Zu(a,u,u,-1),j=Zu(a,p,p+d,1);k&&j?(g.view=g.view.slice(0,k.index).concat(Ra(a,k.lineN,j.lineN)).concat(g.view.slice(j.index)),g.viewTo+=d):Ji(a)}var H=g.externalMeasured;H&&(p<H.lineN?H.lineN+=d:u<H.lineN+H.size&&(g.externalMeasured=null))}function Zi(a,u,p){a.curOp.viewChanged=!0;var d=a.display,g=a.display.externalMeasured;if(g&&u>=g.lineN&&u<g.lineN+g.size&&(d.externalMeasured=null),!(u<d.viewFrom||u>=d.viewTo)){var b=d.view[li(a,u)];if(b.node!=null){var T=b.changes||(b.changes=[]);Kt(T,p)==-1&&T.push(p)}}}function Ji(a){a.display.viewFrom=a.display.viewTo=a.doc.first,a.display.view=[],a.display.viewOffset=0}function Zu(a,u,p,d){var g=li(a,u),b,T=a.display.view;if(!Rr||p==a.doc.first+a.doc.size)return{index:g,lineN:p};for(var k=a.display.viewFrom,j=0;j<g;j++)k+=T[j].size;if(k!=u){if(d>0){if(g==T.length-1)return null;b=k+T[g].size-u,g++}else b=k-u;u+=b,p+=b}for(;Ao(a.doc,p)!=p;){if(g==(d<0?0:T.length-1))return null;p+=d*T[g-(d<0?1:0)].size,g+=d}return{index:g,lineN:p}}function Ju(a,u,p){var d=a.display,g=d.view;g.length==0||u>=d.viewTo||p<=d.viewFrom?(d.view=Ra(a,u,p),d.viewFrom=u):(d.viewFrom>u?d.view=Ra(a,u,d.viewFrom).concat(d.view):d.viewFrom<u&&(d.view=d.view.slice(li(a,u))),d.viewFrom=u,d.viewTo<p?d.view=d.view.concat(Ra(a,d.viewTo,p)):d.viewTo>p&&(d.view=d.view.slice(0,li(a,p)))),d.viewTo=p}function hf(a){for(var u=a.display.view,p=0,d=0;d<u.length;d++){var g=u[d];!g.hidden&&(!g.node||g.changes)&&++p}return p}function Nl(a){a.display.input.showSelection(a.display.input.prepareSelection())}function dp(a,u){u===void 0&&(u=!0);var p=a.doc,d={},g=d.cursors=document.createDocumentFragment(),b=d.selection=document.createDocumentFragment(),T=a.options.$customCursor;T&&(u=!0);for(var k=0;k<p.sel.ranges.length;k++)if(!(!u&&k==p.sel.primIndex)){var j=p.sel.ranges[k];if(!(j.from().line>=a.display.viewTo||j.to().line<a.display.viewFrom)){var H=j.empty();if(T){var st=T(a,j);st&&vf(a,st,g)}else(H||a.options.showCursorWhenSelecting)&&vf(a,j.head,g);H||gf(a,j,b)}}return d}function vf(a,u,p){var d=po(a,u,"div",null,null,!a.options.singleCursorHeightPerLine),g=p.appendChild(U("div","","CodeMirror-cursor"));if(g.style.left=d.left+"px",g.style.top=d.top+"px",g.style.height=Math.max(0,d.bottom-d.top)*a.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(a.getWrapperElement().className)){var b=Ha(a,u,"div",null,null),T=b.right-b.left;g.style.width=(T>0?T:a.defaultCharWidth())+"px"}if(d.other){var k=p.appendChild(U("div","","CodeMirror-cursor CodeMirror-secondarycursor"));k.style.display="",k.style.left=d.other.left+"px",k.style.top=d.other.top+"px",k.style.height=(d.other.bottom-d.other.top)*.85+"px"}}function Ua(a,u){return a.top-u.top||a.left-u.left}function gf(a,u,p){var d=a.display,g=a.doc,b=document.createDocumentFragment(),T=N(a.display),k=T.left,j=Math.max(d.sizerWidth,pt(a)-d.sizer.offsetLeft)-T.right,H=g.direction=="ltr";function st(ce,ye,ke,Pe){ye<0&&(ye=0),ye=Math.round(ye),Pe=Math.round(Pe),b.appendChild(U("div",null,"CodeMirror-selected","position: absolute; left: "+ce+`px;
                             top: `+ye+"px; width: "+(ke??j-ce)+`px;
                             height: `+(Pe-ye)+"px"))}function vt(ce,ye,ke){var Pe=be(g,ce),Ke=Pe.text.length,mn,or;function Sn($n,Mr){return Ha(a,I(ce,$n),"div",Pe,Mr)}function to($n,Mr,ir){var Gn=qu(a,Pe,null,$n),zn=Mr=="ltr"==(ir=="after")?"left":"right",kn=ir=="after"?Gn.begin:Gn.end-(/\s/.test(Pe.text.charAt(Gn.end-1))?2:1);return Sn(kn,zn)[zn]}var Hr=tn(Pe,g.direction);return nn(Hr,ye||0,ke??Ke,function($n,Mr,ir,Gn){var zn=ir=="ltr",kn=Sn($n,zn?"left":"right"),zr=Sn(Mr-1,zn?"right":"left"),Us=ye==null&&$n==0,ca=ke==null&&Mr==Ke,Cr=Gn==0,ci=!Hr||Gn==Hr.length-1;if(zr.top-kn.top<=3){var ar=(H?Us:ca)&&Cr,Jf=(H?ca:Us)&&ci,Pi=ar?k:(zn?kn:zr).left,ki=Jf?j:(zn?zr:kn).right;st(Pi,kn.top,ki-Pi,kn.bottom)}else{var Qa,Lr,Ws,Qf;zn?(Qa=H&&Us&&Cr?k:kn.left,Lr=H?j:to($n,ir,"before"),Ws=H?k:to(Mr,ir,"after"),Qf=H&&ca&&ci?j:zr.right):(Qa=H?to($n,ir,"before"):k,Lr=!H&&Us&&Cr?j:kn.right,Ws=!H&&ca&&ci?k:zr.left,Qf=H?to(Mr,ir,"after"):j),st(Qa,kn.top,Lr-Qa,kn.bottom),kn.bottom<zr.top&&st(k,kn.bottom,null,zr.top),st(Ws,zr.top,Qf-Ws,zr.bottom)}(!mn||Ua(kn,mn)<0)&&(mn=kn),Ua(zr,mn)<0&&(mn=zr),(!or||Ua(kn,or)<0)&&(or=kn),Ua(zr,or)<0&&(or=zr)}),{start:mn,end:or}}var Lt=u.from(),Ot=u.to();if(Lt.line==Ot.line)vt(Lt.line,Lt.ch,Ot.ch);else{var Bt=be(g,Lt.line),Yt=be(g,Ot.line),ne=Jr(Bt)==Jr(Yt),ue=vt(Lt.line,Lt.ch,ne?Bt.text.length+1:null).end,me=vt(Ot.line,ne?0:null,Ot.ch).start;ne&&(ue.top<me.top-2?(st(ue.right,ue.top,null,ue.bottom),st(k,me.top,me.left,me.bottom)):st(ue.right,ue.top,me.left-ue.right,ue.bottom)),ue.bottom<me.top&&st(k,ue.bottom,null,me.top)}p.appendChild(b)}function Qi(a){if(a.state.focused){var u=a.display;clearInterval(u.blinker);var p=!0;u.cursorDiv.style.visibility="",a.options.cursorBlinkRate>0?u.blinker=setInterval(function(){a.hasFocus()||ea(a),u.cursorDiv.style.visibility=(p=!p)?"":"hidden"},a.options.cursorBlinkRate):a.options.cursorBlinkRate<0&&(u.cursorDiv.style.visibility="hidden")}}function Wa(a){a.hasFocus()||(a.display.input.focus(),a.state.focused||Qu(a))}function ta(a){a.state.delayingBlurEvent=!0,setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,a.state.focused&&ea(a))},100)}function Qu(a,u){a.state.delayingBlurEvent&&!a.state.draggingText&&(a.state.delayingBlurEvent=!1),a.options.readOnly!="nocursor"&&(a.state.focused||(un(a,"focus",a,u),a.state.focused=!0,lt(a.display.wrapper,"CodeMirror-focused"),!a.curOp&&a.display.selForContextMenu!=a.doc.sel&&(a.display.input.reset(),O&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),Qi(a))}function ea(a,u){a.state.delayingBlurEvent||(a.state.focused&&(un(a,"blur",a,u),a.state.focused=!1,W(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function tc(a){for(var u=a.display,p=u.lineDiv.offsetTop,d=Math.max(0,u.scroller.getBoundingClientRect().top),g=u.lineDiv.getBoundingClientRect().top,b=0,T=0;T<u.view.length;T++){var k=u.view[T],j=a.options.lineWrapping,H=void 0,st=0;if(!k.hidden){if(g+=k.line.height,S&&E<8){var vt=k.node.offsetTop+k.node.offsetHeight;H=vt-p,p=vt}else{var Lt=k.node.getBoundingClientRect();H=Lt.bottom-Lt.top,!j&&k.text.firstChild&&(st=k.text.firstChild.getBoundingClientRect().right-Lt.left-1)}var Ot=k.line.height-H;if((Ot>.005||Ot<-.005)&&(g<d&&(b-=Ot),Nr(k.line,H),pp(k.line),k.rest))for(var Bt=0;Bt<k.rest.length;Bt++)pp(k.rest[Bt]);if(st>a.display.sizerWidth){var Yt=Math.ceil(st/ks(a.display));Yt>a.display.maxLineLength&&(a.display.maxLineLength=Yt,a.display.maxLine=k.line,a.display.maxLineChanged=!0)}}}Math.abs(b)>2&&(u.scroller.scrollTop+=b)}function pp(a){if(a.widgets)for(var u=0;u<a.widgets.length;++u){var p=a.widgets[u],d=p.node.parentNode;d&&(p.height=d.offsetHeight)}}function ec(a,u,p){var d=p&&p.top!=null?Math.max(0,p.top):a.scroller.scrollTop;d=Math.floor(d-Xi(a));var g=p&&p.bottom!=null?p.bottom:d+a.wrapper.clientHeight,b=To(u,d),T=To(u,g);if(p&&p.ensure){var k=p.ensure.from.line,j=p.ensure.to.line;k<b?(b=k,T=To(u,Vn(be(u,k))+a.wrapper.clientHeight)):Math.min(j,u.lastLine())>=T&&(b=To(u,Vn(be(u,j))-a.wrapper.clientHeight),T=j)}return{from:b,to:Math.max(T,b+1)}}function nc(a,u){if(!Ze(a,"scrollCursorIntoView")){var p=a.display,d=p.sizer.getBoundingClientRect(),g=null,b=p.wrapper.ownerDocument;if(u.top+d.top<0?g=!0:u.bottom+d.top>(b.defaultView.innerHeight||b.documentElement.clientHeight)&&(g=!1),g!=null&&!mt){var T=U("div","",null,`position: absolute;
                         top: `+(u.top-p.viewOffset-Xi(a.display))+`px;
                         height: `+(u.bottom-u.top+K(a)+p.barHeight)+`px;
                         left: `+u.left+"px; width: "+Math.max(2,u.right-u.left)+"px;");a.display.lineSpace.appendChild(T),T.scrollIntoView(g),a.display.lineSpace.removeChild(T)}}}function ug(a,u,p,d){d==null&&(d=0);var g;!a.options.lineWrapping&&u==p&&(p=u.sticky=="before"?I(u.line,u.ch+1,"before"):u,u=u.ch?I(u.line,u.sticky=="before"?u.ch-1:u.ch,"after"):u);for(var b=0;b<5;b++){var T=!1,k=po(a,u),j=!p||p==u?k:po(a,p);g={left:Math.min(k.left,j.left),top:Math.min(k.top,j.top)-d,right:Math.max(k.left,j.left),bottom:Math.max(k.bottom,j.bottom)+d};var H=mf(a,g),st=a.doc.scrollTop,vt=a.doc.scrollLeft;if(H.scrollTop!=null&&(Rl(a,H.scrollTop),Math.abs(a.doc.scrollTop-st)>1&&(T=!0)),H.scrollLeft!=null&&(na(a,H.scrollLeft),Math.abs(a.doc.scrollLeft-vt)>1&&(T=!0)),!T)break}return g}function cg(a,u){var p=mf(a,u);p.scrollTop!=null&&Rl(a,p.scrollTop),p.scrollLeft!=null&&na(a,p.scrollLeft)}function mf(a,u){var p=a.display,d=Ps(a.display);u.top<0&&(u.top=0);var g=a.curOp&&a.curOp.scrollTop!=null?a.curOp.scrollTop:p.scroller.scrollTop,b=_t(a),T={};u.bottom-u.top>b&&(u.bottom=u.top+b);var k=a.doc.height+Al(p),j=u.top<d,H=u.bottom>k-d;if(u.top<g)T.scrollTop=j?0:u.top;else if(u.bottom>g+b){var st=Math.min(u.top,(H?k:u.bottom)-b);st!=g&&(T.scrollTop=st)}var vt=a.options.fixedGutter?0:p.gutters.offsetWidth,Lt=a.curOp&&a.curOp.scrollLeft!=null?a.curOp.scrollLeft:p.scroller.scrollLeft-vt,Ot=pt(a)-p.gutters.offsetWidth,Bt=u.right-u.left>Ot;return Bt&&(u.right=u.left+Ot),u.left<10?T.scrollLeft=0:u.left<Lt?T.scrollLeft=Math.max(0,u.left+vt-(Bt?0:10)):u.right>Ot+Lt-3&&(T.scrollLeft=u.right+(Bt?0:10)-Ot),T}function yf(a,u){u!=null&&(rc(a),a.curOp.scrollTop=(a.curOp.scrollTop==null?a.doc.scrollTop:a.curOp.scrollTop)+u)}function $a(a){rc(a);var u=a.getCursor();a.curOp.scrollToPos={from:u,to:u,margin:a.options.cursorScrollMargin}}function Il(a,u,p){(u!=null||p!=null)&&rc(a),u!=null&&(a.curOp.scrollLeft=u),p!=null&&(a.curOp.scrollTop=p)}function xi(a,u){rc(a),a.curOp.scrollToPos=u}function rc(a){var u=a.curOp.scrollToPos;if(u){a.curOp.scrollToPos=null;var p=cp(a,u.from),d=cp(a,u.to);tr(a,p,d,u.margin)}}function tr(a,u,p,d){var g=mf(a,{left:Math.min(u.left,p.left),top:Math.min(u.top,p.top)-d,right:Math.max(u.right,p.right),bottom:Math.max(u.bottom,p.bottom)+d});Il(a,g.scrollLeft,g.scrollTop)}function Rl(a,u){Math.abs(a.doc.scrollTop-u)<2||(v||wf(a,{top:u}),hp(a,u,!0),v&&wf(a),zl(a,100))}function hp(a,u,p){u=Math.max(0,Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,u)),!(a.display.scroller.scrollTop==u&&!p)&&(a.doc.scrollTop=u,a.display.scrollbars.setScrollTop(u),a.display.scroller.scrollTop!=u&&(a.display.scroller.scrollTop=u))}function na(a,u,p,d){u=Math.max(0,Math.min(u,a.display.scroller.scrollWidth-a.display.scroller.clientWidth)),!((p?u==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-u)<2)&&!d)&&(a.doc.scrollLeft=u,bp(a),a.display.scroller.scrollLeft!=u&&(a.display.scroller.scrollLeft=u),a.display.scrollbars.setScrollLeft(u))}function Fl(a){var u=a.display,p=u.gutters.offsetWidth,d=Math.round(a.doc.height+Al(a.display));return{clientHeight:u.scroller.clientHeight,viewHeight:u.wrapper.clientHeight,scrollWidth:u.scroller.scrollWidth,clientWidth:u.scroller.clientWidth,viewWidth:u.wrapper.clientWidth,barLeft:a.options.fixedGutter?p:0,docHeight:d,scrollHeight:d+K(a)+u.barHeight,nativeBarWidth:u.nativeBarWidth,gutterWidth:p}}var Ga=function(a,u,p){this.cm=p;var d=this.vert=U("div",[U("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),g=this.horiz=U("div",[U("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");d.tabIndex=g.tabIndex=-1,a(d),a(g),Ce(d,"scroll",function(){d.clientHeight&&u(d.scrollTop,"vertical")}),Ce(g,"scroll",function(){g.clientWidth&&u(g.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,S&&E<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ga.prototype.update=function(a){var u=a.scrollWidth>a.clientWidth+1,p=a.scrollHeight>a.clientHeight+1,d=a.nativeBarWidth;if(p){this.vert.style.display="block",this.vert.style.bottom=u?d+"px":"0";var g=a.viewHeight-(u?d:0);this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+g)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(u){this.horiz.style.display="block",this.horiz.style.right=p?d+"px":"0",this.horiz.style.left=a.barLeft+"px";var b=a.viewWidth-a.barLeft-(p?d:0);this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+b)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&a.clientHeight>0&&(d==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:p?d:0,bottom:u?d:0}},Ga.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ga.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ga.prototype.zeroWidthHack=function(){var a=X&&!at?"12px":"18px";this.horiz.style.height=this.vert.style.width=a,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new zt,this.disableVert=new zt},Ga.prototype.enableZeroWidthBar=function(a,u,p){a.style.visibility="";function d(){var g=a.getBoundingClientRect(),b=p=="vert"?document.elementFromPoint(g.right-1,(g.top+g.bottom)/2):document.elementFromPoint((g.right+g.left)/2,g.bottom-1);b!=a?a.style.visibility="hidden":u.set(1e3,d)}u.set(1e3,d)},Ga.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz),a.removeChild(this.vert)};var Vl=function(){};Vl.prototype.update=function(){return{bottom:0,right:0}},Vl.prototype.setScrollLeft=function(){},Vl.prototype.setScrollTop=function(){},Vl.prototype.clear=function(){};function Ms(a,u){u||(u=Fl(a));var p=a.display.barWidth,d=a.display.barHeight;vp(a,u);for(var g=0;g<4&&p!=a.display.barWidth||d!=a.display.barHeight;g++)p!=a.display.barWidth&&a.options.lineWrapping&&tc(a),vp(a,Fl(a)),p=a.display.barWidth,d=a.display.barHeight}function vp(a,u){var p=a.display,d=p.scrollbars.update(u);p.sizer.style.paddingRight=(p.barWidth=d.right)+"px",p.sizer.style.paddingBottom=(p.barHeight=d.bottom)+"px",p.heightForcer.style.borderBottom=d.bottom+"px solid transparent",d.right&&d.bottom?(p.scrollbarFiller.style.display="block",p.scrollbarFiller.style.height=d.bottom+"px",p.scrollbarFiller.style.width=d.right+"px"):p.scrollbarFiller.style.display="",d.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(p.gutterFiller.style.display="block",p.gutterFiller.style.height=d.bottom+"px",p.gutterFiller.style.width=u.gutterWidth+"px"):p.gutterFiller.style.display=""}var gp={native:Ga,null:Vl};function mp(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&W(a.display.wrapper,a.display.scrollbars.addClass)),a.display.scrollbars=new gp[a.options.scrollbarStyle](function(u){a.display.wrapper.insertBefore(u,a.display.scrollbarFiller),Ce(u,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)}),u.setAttribute("cm-not-content","true")},function(u,p){p=="horizontal"?na(a,u):Rl(a,u)},a),a.display.scrollbars.addClass&&lt(a.display.wrapper,a.display.scrollbars.addClass)}var fg=0;function Si(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++fg,markArrays:null},Ss(a.curOp)}function Ka(a){var u=a.curOp;u&&qi(u,function(p){for(var d=0;d<p.ops.length;d++)p.ops[d].cm.curOp=null;Hl(p)})}function Hl(a){for(var u=a.ops,p=0;p<u.length;p++)oc(u[p]);for(var d=0;d<u.length;d++)ic(u[d]);for(var g=0;g<u.length;g++)dg(u[g]);for(var b=0;b<u.length;b++)yp(u[b]);for(var T=0;T<u.length;T++)pg(u[T])}function oc(a){var u=a.cm,p=u.display;vg(u),a.updateMaxLine&&Gi(u),a.mustUpdate=a.viewChanged||a.forceUpdate||a.scrollTop!=null||a.scrollToPos&&(a.scrollToPos.from.line<p.viewFrom||a.scrollToPos.to.line>=p.viewTo)||p.maxLineChanged&&u.options.lineWrapping,a.update=a.mustUpdate&&new ac(u,a.mustUpdate&&{top:a.scrollTop,ensure:a.scrollToPos},a.forceUpdate)}function ic(a){a.updatedDisplay=a.mustUpdate&&_f(a.cm,a.update)}function dg(a){var u=a.cm,p=u.display;a.updatedDisplay&&tc(u),a.barMeasure=Fl(u),p.maxLineChanged&&!u.options.lineWrapping&&(a.adjustWidthTo=fe(u,p.maxLine,p.maxLine.text.length).left+3,u.display.sizerWidth=a.adjustWidthTo,a.barMeasure.scrollWidth=Math.max(p.scroller.clientWidth,p.sizer.offsetLeft+a.adjustWidthTo+K(u)+u.display.barWidth),a.maxScrollLeft=Math.max(0,p.sizer.offsetLeft+a.adjustWidthTo-pt(u))),(a.updatedDisplay||a.selectionChanged)&&(a.preparedSelection=p.input.prepareSelection())}function yp(a){var u=a.cm;a.adjustWidthTo!=null&&(u.display.sizer.style.minWidth=a.adjustWidthTo+"px",a.maxScrollLeft<u.doc.scrollLeft&&na(u,Math.min(u.display.scroller.scrollLeft,a.maxScrollLeft),!0),u.display.maxLineChanged=!1);var p=a.focus&&a.focus==gt(Wt(u));a.preparedSelection&&u.display.input.showSelection(a.preparedSelection,p),(a.updatedDisplay||a.startHeight!=u.doc.height)&&Ms(u,a.barMeasure),a.updatedDisplay&&Cf(u,a.barMeasure),a.selectionChanged&&Qi(u),u.state.focused&&a.updateInput&&u.display.input.reset(a.typing),p&&Wa(a.cm)}function pg(a){var u=a.cm,p=u.display,d=u.doc;if(a.updatedDisplay&&_p(u,a.update),p.wheelStartX!=null&&(a.scrollTop!=null||a.scrollLeft!=null||a.scrollToPos)&&(p.wheelStartX=p.wheelStartY=null),a.scrollTop!=null&&hp(u,a.scrollTop,a.forceScroll),a.scrollLeft!=null&&na(u,a.scrollLeft,!0,!0),a.scrollToPos){var g=ug(u,Se(d,a.scrollToPos.from),Se(d,a.scrollToPos.to),a.scrollToPos.margin);nc(u,g)}var b=a.maybeHiddenMarkers,T=a.maybeUnhiddenMarkers;if(b)for(var k=0;k<b.length;++k)b[k].lines.length||un(b[k],"hide");if(T)for(var j=0;j<T.length;++j)T[j].lines.length&&un(T[j],"unhide");p.wrapper.offsetHeight&&(d.scrollTop=u.display.scroller.scrollTop),a.changeObjs&&un(u,"changes",u,a.changeObjs),a.update&&a.update.finish()}function Qr(a,u){if(a.curOp)return u();Si(a);try{return u()}finally{Ka(a)}}function er(a,u){return function(){if(a.curOp)return u.apply(a,arguments);Si(a);try{return u.apply(a,arguments)}finally{Ka(a)}}}function kr(a){return function(){if(this.curOp)return a.apply(this,arguments);Si(this);try{return a.apply(this,arguments)}finally{Ka(this)}}}function rr(a){return function(){var u=this.cm;if(!u||u.curOp)return a.apply(this,arguments);Si(u);try{return a.apply(this,arguments)}finally{Ka(u)}}}function zl(a,u){a.doc.highlightFrontier<a.display.viewTo&&a.state.highlight.set(u,qt(hg,a))}function hg(a){var u=a.doc;if(!(u.highlightFrontier>=a.display.viewTo)){var p=+new Date+a.options.workTime,d=zi(a,u.highlightFrontier),g=[];u.iter(d.line,Math.min(u.first+u.size,a.display.viewTo+500),function(b){if(d.line>=a.display.viewFrom){var T=b.styles,k=b.text.length>a.options.maxHighlightLength?Yr(u.mode,d.state):null,j=Oa(a,b,d,!0);k&&(d.state=k),b.styles=j.styles;var H=b.styleClasses,st=j.classes;st?b.styleClasses=st:H&&(b.styleClasses=null);for(var vt=!T||T.length!=b.styles.length||H!=st&&(!H||!st||H.bgClass!=st.bgClass||H.textClass!=st.textClass),Lt=0;!vt&&Lt<T.length;++Lt)vt=T[Lt]!=b.styles[Lt];vt&&g.push(d.line),b.stateAfter=d.save(),d.nextLine()}else b.text.length<=a.options.maxHighlightLength&&_s(a,b.text,d),b.stateAfter=d.line%5==0?d.save():null,d.nextLine();if(+new Date>p)return zl(a,a.options.workDelay),!0}),u.highlightFrontier=d.line,u.modeFrontier=Math.max(u.modeFrontier,d.line),g.length&&Qr(a,function(){for(var b=0;b<g.length;b++)Zi(a,g[b],"text")})}}var ac=function(a,u,p){var d=a.display;this.viewport=u,this.visible=ec(d,a.doc,u),this.editorIsHidden=!d.wrapper.offsetWidth,this.wrapperHeight=d.wrapper.clientHeight,this.wrapperWidth=d.wrapper.clientWidth,this.oldDisplayWidth=pt(a),this.force=p,this.dims=As(a),this.events=[]};ac.prototype.signal=function(a,u){Nn(a,u)&&this.events.push(arguments)},ac.prototype.finish=function(){for(var a=0;a<this.events.length;a++)un.apply(null,this.events[a])};function vg(a){var u=a.display;!u.scrollbarsClipped&&u.scroller.offsetWidth&&(u.nativeBarWidth=u.scroller.offsetWidth-u.scroller.clientWidth,u.heightForcer.style.height=K(a)+"px",u.sizer.style.marginBottom=-u.nativeBarWidth+"px",u.sizer.style.borderRightWidth=K(a)+"px",u.scrollbarsClipped=!0)}function gg(a){if(a.hasFocus())return null;var u=gt(Wt(a));if(!u||!It(a.display.lineDiv,u))return null;var p={activeElt:u};if(window.getSelection){var d=ie(a).getSelection();d.anchorNode&&d.extend&&It(a.display.lineDiv,d.anchorNode)&&(p.anchorNode=d.anchorNode,p.anchorOffset=d.anchorOffset,p.focusNode=d.focusNode,p.focusOffset=d.focusOffset)}return p}function mg(a){if(!(!a||!a.activeElt||a.activeElt==gt(a.activeElt.ownerDocument))&&(a.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(a.activeElt.nodeName)&&a.anchorNode&&It(document.body,a.anchorNode)&&It(document.body,a.focusNode))){var u=a.activeElt.ownerDocument,p=u.defaultView.getSelection(),d=u.createRange();d.setEnd(a.anchorNode,a.anchorOffset),d.collapse(!1),p.removeAllRanges(),p.addRange(d),p.extend(a.focusNode,a.focusOffset)}}function _f(a,u){var p=a.display,d=a.doc;if(u.editorIsHidden)return Ji(a),!1;if(!u.force&&u.visible.from>=p.viewFrom&&u.visible.to<=p.viewTo&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo)&&p.renderedView==p.view&&hf(a)==0)return!1;Cp(a)&&(Ji(a),u.dims=As(a));var g=d.first+d.size,b=Math.max(u.visible.from-a.options.viewportMargin,d.first),T=Math.min(g,u.visible.to+a.options.viewportMargin);p.viewFrom<b&&b-p.viewFrom<20&&(b=Math.max(d.first,p.viewFrom)),p.viewTo>T&&p.viewTo-T<20&&(T=Math.min(g,p.viewTo)),Rr&&(b=Ao(a.doc,b),T=bl(a.doc,T));var k=b!=p.viewFrom||T!=p.viewTo||p.lastWrapHeight!=u.wrapperHeight||p.lastWrapWidth!=u.wrapperWidth;Ju(a,b,T),p.viewOffset=Vn(be(a.doc,p.viewFrom)),a.display.mover.style.top=p.viewOffset+"px";var j=hf(a);if(!k&&j==0&&!u.force&&p.renderedView==p.view&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo))return!1;var H=gg(a);return j>4&&(p.lineDiv.style.display="none"),wp(a,p.updateLineNumbers,u.dims),j>4&&(p.lineDiv.style.display=""),p.renderedView=p.view,mg(H),Y(p.cursorDiv),Y(p.selectionDiv),p.gutters.style.height=p.sizer.style.minHeight=0,k&&(p.lastWrapHeight=u.wrapperHeight,p.lastWrapWidth=u.wrapperWidth,zl(a,400)),p.updateLineNumbers=null,!0}function _p(a,u){for(var p=u.viewport,d=!0;;d=!1){if(!d||!a.options.lineWrapping||u.oldDisplayWidth==pt(a)){if(p&&p.top!=null&&(p={top:Math.min(a.doc.height+Al(a.display)-_t(a),p.top)}),u.visible=ec(a.display,a.doc,p),u.visible.from>=a.display.viewFrom&&u.visible.to<=a.display.viewTo)break}else d&&(u.visible=ec(a.display,a.doc,p));if(!_f(a,u))break;tc(a);var g=Fl(a);Nl(a),Ms(a,g),Cf(a,g),u.force=!1}u.signal(a,"update",a),(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)&&(u.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo)}function wf(a,u){var p=new ac(a,u);if(_f(a,p)){tc(a),_p(a,p);var d=Fl(a);Nl(a),Ms(a,d),Cf(a,d),p.finish()}}function wp(a,u,p){var d=a.display,g=a.options.lineNumbers,b=d.lineDiv,T=b.firstChild;function k(Bt){var Yt=Bt.nextSibling;return O&&X&&a.display.currentWheelTarget==Bt?Bt.style.display="none":Bt.parentNode.removeChild(Bt),Yt}for(var j=d.view,H=d.viewFrom,st=0;st<j.length;st++){var vt=j[st];if(!vt.hidden)if(!vt.node||vt.node.parentNode!=b){var Lt=Fa(a,vt,H,p);b.insertBefore(Lt,T)}else{for(;T!=vt.node;)T=k(T);var Ot=g&&u!=null&&u<=H&&vt.lineNumber;vt.changes&&(Kt(vt.changes,"gutter")>-1&&(Ot=!1),Tl(a,vt,H,p)),Ot&&(Y(vt.lineNumber),vt.lineNumber.appendChild(document.createTextNode(Uo(a.options,H)))),T=vt.node.nextSibling}H+=vt.size}for(;T;)T=k(T)}function bf(a){var u=a.gutters.offsetWidth;a.sizer.style.marginLeft=u+"px",xn(a,"gutterChanged",a)}function Cf(a,u){a.display.sizer.style.minHeight=u.docHeight+"px",a.display.heightForcer.style.top=u.docHeight+"px",a.display.gutters.style.height=u.docHeight+a.display.barHeight+K(a)+"px"}function bp(a){var u=a.display,p=u.view;if(!(!u.alignWidgets&&(!u.gutters.firstChild||!a.options.fixedGutter))){for(var d=jl(u)-u.scroller.scrollLeft+a.doc.scrollLeft,g=u.gutters.offsetWidth,b=d+"px",T=0;T<p.length;T++)if(!p[T].hidden){a.options.fixedGutter&&(p[T].gutter&&(p[T].gutter.style.left=b),p[T].gutterBackground&&(p[T].gutterBackground.style.left=b));var k=p[T].alignable;if(k)for(var j=0;j<k.length;j++)k[j].style.left=b}a.options.fixedGutter&&(u.gutters.style.left=d+g+"px")}}function Cp(a){if(!a.options.lineNumbers)return!1;var u=a.doc,p=Uo(a.options,u.first+u.size-1),d=a.display;if(p.length!=d.lineNumChars){var g=d.measure.appendChild(U("div",[U("div",p)],"CodeMirror-linenumber CodeMirror-gutter-elt")),b=g.firstChild.offsetWidth,T=g.offsetWidth-b;return d.lineGutter.style.width="",d.lineNumInnerWidth=Math.max(b,d.lineGutter.offsetWidth-T)+1,d.lineNumWidth=d.lineNumInnerWidth+T,d.lineNumChars=d.lineNumInnerWidth?p.length:-1,d.lineGutter.style.width=d.lineNumWidth+"px",bf(a.display),!0}return!1}function xf(a,u){for(var p=[],d=!1,g=0;g<a.length;g++){var b=a[g],T=null;if(typeof b!="string"&&(T=b.style,b=b.className),b=="CodeMirror-linenumbers")if(u)d=!0;else continue;p.push({className:b,style:T})}return u&&!d&&p.push({className:"CodeMirror-linenumbers",style:null}),p}function xp(a){var u=a.gutters,p=a.gutterSpecs;Y(u),a.lineGutter=null;for(var d=0;d<p.length;++d){var g=p[d],b=g.className,T=g.style,k=u.appendChild(U("div",null,"CodeMirror-gutter "+b));T&&(k.style.cssText=T),b=="CodeMirror-linenumbers"&&(a.lineGutter=k,k.style.width=(a.lineNumWidth||1)+"px")}u.style.display=p.length?"":"none",bf(a)}function Bl(a){xp(a.display),_r(a),bp(a)}function yg(a,u,p,d){var g=this;this.input=p,g.scrollbarFiller=U("div",null,"CodeMirror-scrollbar-filler"),g.scrollbarFiller.setAttribute("cm-not-content","true"),g.gutterFiller=U("div",null,"CodeMirror-gutter-filler"),g.gutterFiller.setAttribute("cm-not-content","true"),g.lineDiv=dt("div",null,"CodeMirror-code"),g.selectionDiv=U("div",null,null,"position: relative; z-index: 1"),g.cursorDiv=U("div",null,"CodeMirror-cursors"),g.measure=U("div",null,"CodeMirror-measure"),g.lineMeasure=U("div",null,"CodeMirror-measure"),g.lineSpace=dt("div",[g.measure,g.lineMeasure,g.selectionDiv,g.cursorDiv,g.lineDiv],null,"position: relative; outline: none");var b=dt("div",[g.lineSpace],"CodeMirror-lines");g.mover=U("div",[b],null,"position: relative"),g.sizer=U("div",[g.mover],"CodeMirror-sizer"),g.sizerWidth=null,g.heightForcer=U("div",null,null,"position: absolute; height: "+le+"px; width: 1px;"),g.gutters=U("div",null,"CodeMirror-gutters"),g.lineGutter=null,g.scroller=U("div",[g.sizer,g.heightForcer,g.gutters],"CodeMirror-scroll"),g.scroller.setAttribute("tabIndex","-1"),g.wrapper=U("div",[g.scrollbarFiller,g.gutterFiller,g.scroller],"CodeMirror"),A&&L>=105&&(g.wrapper.style.clipPath="inset(0px)"),g.wrapper.setAttribute("translate","no"),S&&E<8&&(g.gutters.style.zIndex=-1,g.scroller.style.paddingRight=0),!O&&!(v&&G)&&(g.scroller.draggable=!0),a&&(a.appendChild?a.appendChild(g.wrapper):a(g.wrapper)),g.viewFrom=g.viewTo=u.first,g.reportedViewFrom=g.reportedViewTo=u.first,g.view=[],g.renderedView=null,g.externalMeasured=null,g.viewOffset=0,g.lastWrapHeight=g.lastWrapWidth=0,g.updateLineNumbers=null,g.nativeBarWidth=g.barHeight=g.barWidth=0,g.scrollbarsClipped=!1,g.lineNumWidth=g.lineNumInnerWidth=g.lineNumChars=null,g.alignWidgets=!1,g.cachedCharWidth=g.cachedTextHeight=g.cachedPaddingH=null,g.maxLine=null,g.maxLineLength=0,g.maxLineChanged=!1,g.wheelDX=g.wheelDY=g.wheelStartX=g.wheelStartY=null,g.shift=!1,g.selForContextMenu=null,g.activeTouch=null,g.gutterSpecs=xf(d.gutters,d.lineNumbers),xp(g),p.init(g)}var sc=0,Oi=null;S?Oi=-.53:v?Oi=15:A?Oi=-.7:$&&(Oi=-1/3);function Sp(a){var u=a.wheelDeltaX,p=a.wheelDeltaY;return u==null&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(u=a.detail),p==null&&a.detail&&a.axis==a.VERTICAL_AXIS?p=a.detail:p==null&&(p=a.wheelDelta),{x:u,y:p}}function _g(a){var u=Sp(a);return u.x*=Oi,u.y*=Oi,u}function Op(a,u){A&&L==102&&(a.display.chromeScrollHack==null?a.display.sizer.style.pointerEvents="none":clearTimeout(a.display.chromeScrollHack),a.display.chromeScrollHack=setTimeout(function(){a.display.chromeScrollHack=null,a.display.sizer.style.pointerEvents=""},100));var p=Sp(u),d=p.x,g=p.y,b=Oi;u.deltaMode===0&&(d=u.deltaX,g=u.deltaY,b=1);var T=a.display,k=T.scroller,j=k.scrollWidth>k.clientWidth,H=k.scrollHeight>k.clientHeight;if(d&&j||g&&H){if(g&&X&&O){t:for(var st=u.target,vt=T.view;st!=k;st=st.parentNode)for(var Lt=0;Lt<vt.length;Lt++)if(vt[Lt].node==st){a.display.currentWheelTarget=st;break t}}if(d&&!v&&!R&&b!=null){g&&H&&Rl(a,Math.max(0,k.scrollTop+g*b)),na(a,Math.max(0,k.scrollLeft+d*b)),(!g||g&&H)&&tt(u),T.wheelStartX=null;return}if(g&&b!=null){var Ot=g*b,Bt=a.doc.scrollTop,Yt=Bt+T.wrapper.clientHeight;Ot<0?Bt=Math.max(0,Bt+Ot-50):Yt=Math.min(a.doc.height,Yt+Ot+50),wf(a,{top:Bt,bottom:Yt})}sc<20&&u.deltaMode!==0&&(T.wheelStartX==null?(T.wheelStartX=k.scrollLeft,T.wheelStartY=k.scrollTop,T.wheelDX=d,T.wheelDY=g,setTimeout(function(){if(T.wheelStartX!=null){var ne=k.scrollLeft-T.wheelStartX,ue=k.scrollTop-T.wheelStartY,me=ue&&T.wheelDY&&ue/T.wheelDY||ne&&T.wheelDX&&ne/T.wheelDX;T.wheelStartX=T.wheelStartY=null,me&&(Oi=(Oi*sc+me)/(sc+1),++sc)}},200)):(T.wheelDX+=d,T.wheelDY+=g))}}var ho=function(a,u){this.ranges=a,this.primIndex=u};ho.prototype.primary=function(){return this.ranges[this.primIndex]},ho.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var u=0;u<this.ranges.length;u++){var p=this.ranges[u],d=a.ranges[u];if(!Ut(p.anchor,d.anchor)||!Ut(p.head,d.head))return!1}return!0},ho.prototype.deepCopy=function(){for(var a=[],u=0;u<this.ranges.length;u++)a[u]=new dn(te(this.ranges[u].anchor),te(this.ranges[u].head));return new ho(a,this.primIndex)},ho.prototype.somethingSelected=function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},ho.prototype.contains=function(a,u){u||(u=a);for(var p=0;p<this.ranges.length;p++){var d=this.ranges[p];if(rt(u,d.from())>=0&&rt(a,d.to())<=0)return p}return-1};var dn=function(a,u){this.anchor=a,this.head=u};dn.prototype.from=function(){return Qe(this.anchor,this.head)},dn.prototype.to=function(){return Ee(this.anchor,this.head)},dn.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function qo(a,u,p){var d=a&&a.options.selectionsMayTouch,g=u[p];u.sort(function(Lt,Ot){return rt(Lt.from(),Ot.from())}),p=Kt(u,g);for(var b=1;b<u.length;b++){var T=u[b],k=u[b-1],j=rt(k.to(),T.from());if(d&&!T.empty()?j>0:j>=0){var H=Qe(k.from(),T.from()),st=Ee(k.to(),T.to()),vt=k.empty()?T.from()==T.head:k.from()==k.head;b<=p&&--p,u.splice(--b,2,new dn(vt?st:H,vt?H:st))}}return new ho(u,p)}function ra(a,u){return new ho([new dn(a,u||a)],0)}function oa(a){return a.text?I(a.from.line+a.text.length-1,ve(a.text).length+(a.text.length==1?a.from.ch:0)):a.to}function Tp(a,u){if(rt(a,u.from)<0)return a;if(rt(a,u.to)<=0)return oa(u);var p=a.line+u.text.length-(u.to.line-u.from.line)-1,d=a.ch;return a.line==u.to.line&&(d+=oa(u).ch-u.to.ch),I(p,d)}function Sf(a,u){for(var p=[],d=0;d<a.sel.ranges.length;d++){var g=a.sel.ranges[d];p.push(new dn(Tp(g.anchor,u),Tp(g.head,u)))}return qo(a.cm,p,a.sel.primIndex)}function Ep(a,u,p){return a.line==u.line?I(p.line,a.ch-u.ch+p.ch):I(p.line+(a.line-u.line),a.ch)}function wg(a,u,p){for(var d=[],g=I(a.first,0),b=g,T=0;T<u.length;T++){var k=u[T],j=Ep(k.from,g,b),H=Ep(oa(k),g,b);if(g=k.to,b=H,p=="around"){var st=a.sel.ranges[T],vt=rt(st.head,st.anchor)<0;d[T]=new dn(vt?H:j,vt?j:H)}else d[T]=new dn(j,j)}return new ho(d,a.sel.primIndex)}function Of(a){a.doc.mode=mr(a.options,a.doc.modeOption),Ul(a)}function Ul(a){a.doc.iter(function(u){u.stateAfter&&(u.stateAfter=null),u.styles&&(u.styles=null)}),a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first,zl(a,100),a.state.modeGen++,a.curOp&&_r(a)}function Pp(a,u){return u.from.ch==0&&u.to.ch==0&&ve(u.text)==""&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function Ar(a,u,p,d){function g(me){return p?p[me]:null}function b(me,ce,ye){xs(me,ce,ye,d),xn(me,"change",me,u)}function T(me,ce){for(var ye=[],ke=me;ke<ce;++ke)ye.push(new Wn(H[ke],g(ke),d));return ye}var k=u.from,j=u.to,H=u.text,st=be(a,k.line),vt=be(a,j.line),Lt=ve(H),Ot=g(H.length-1),Bt=j.line-k.line;if(u.full)a.insert(0,T(0,H.length)),a.remove(H.length,a.size-H.length);else if(Pp(a,u)){var Yt=T(0,H.length-1);b(vt,vt.text,Ot),Bt&&a.remove(k.line,Bt),Yt.length&&a.insert(k.line,Yt)}else if(st==vt)if(H.length==1)b(st,st.text.slice(0,k.ch)+Lt+st.text.slice(j.ch),Ot);else{var ne=T(1,H.length-1);ne.push(new Wn(Lt+st.text.slice(j.ch),Ot,d)),b(st,st.text.slice(0,k.ch)+H[0],g(0)),a.insert(k.line+1,ne)}else if(H.length==1)b(st,st.text.slice(0,k.ch)+H[0]+vt.text.slice(j.ch),g(0)),a.remove(k.line+1,Bt);else{b(st,st.text.slice(0,k.ch)+H[0],g(0)),b(vt,Lt+vt.text.slice(j.ch),Ot);var ue=T(1,H.length-1);Bt>1&&a.remove(k.line+1,Bt-1),a.insert(k.line+1,ue)}xn(a,"change",a,u)}function ia(a,u,p){function d(g,b,T){if(g.linked)for(var k=0;k<g.linked.length;++k){var j=g.linked[k];if(j.doc!=b){var H=T&&j.sharedHist;p&&!H||(u(j.doc,H),d(j.doc,g,H))}}}d(a,null,!0)}function Ls(a,u){if(u.cm)throw new Error("This document is already in use.");a.doc=u,u.cm=a,pf(a),Of(a),kp(a),a.options.direction=u.direction,a.options.lineWrapping||Gi(a),a.options.mode=u.modeOption,_r(a)}function kp(a){(a.doc.direction=="rtl"?lt:W)(a.display.lineDiv,"CodeMirror-rtl")}function bg(a){Qr(a,function(){kp(a),_r(a)})}function lc(a){this.done=[],this.undone=[],this.undoDepth=a?a.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=a?a.maxGeneration:1}function Tf(a,u){var p={from:te(u.from),to:oa(u),text:Xr(a,u.from,u.to)};return Ds(a,p,u.from.line,u.to.line+1),ia(a,function(d){return Ds(d,p,u.from.line,u.to.line+1)},!0),p}function Ap(a){for(;a.length;){var u=ve(a);if(u.ranges)a.pop();else break}}function Cg(a,u){if(u)return Ap(a.done),ve(a.done);if(a.done.length&&!ve(a.done).ranges)return ve(a.done);if(a.done.length>1&&!a.done[a.done.length-2].ranges)return a.done.pop(),ve(a.done)}function Mp(a,u,p,d){var g=a.history;g.undone.length=0;var b=+new Date,T,k;if((g.lastOp==d||g.lastOrigin==u.origin&&u.origin&&(u.origin.charAt(0)=="+"&&g.lastModTime>b-(a.cm?a.cm.options.historyEventDelay:500)||u.origin.charAt(0)=="*"))&&(T=Cg(g,g.lastOp==d)))k=ve(T.changes),rt(u.from,u.to)==0&&rt(u.from,k.to)==0?k.to=oa(u):T.changes.push(Tf(a,u));else{var j=ve(g.done);for((!j||!j.ranges)&&uc(a.sel,g.done),T={changes:[Tf(a,u)],generation:g.generation},g.done.push(T);g.done.length>g.undoDepth;)g.done.shift(),g.done[0].ranges||g.done.shift()}g.done.push(p),g.generation=++g.maxGeneration,g.lastModTime=g.lastSelTime=b,g.lastOp=g.lastSelOp=d,g.lastOrigin=g.lastSelOrigin=u.origin,k||un(a,"historyAdded")}function xg(a,u,p,d){var g=u.charAt(0);return g=="*"||g=="+"&&p.ranges.length==d.ranges.length&&p.somethingSelected()==d.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}function Sg(a,u,p,d){var g=a.history,b=d&&d.origin;p==g.lastSelOp||b&&g.lastSelOrigin==b&&(g.lastModTime==g.lastSelTime&&g.lastOrigin==b||xg(a,b,ve(g.done),u))?g.done[g.done.length-1]=u:uc(u,g.done),g.lastSelTime=+new Date,g.lastSelOrigin=b,g.lastSelOp=p,d&&d.clearRedo!==!1&&Ap(g.undone)}function uc(a,u){var p=ve(u);p&&p.ranges&&p.equals(a)||u.push(a)}function Ds(a,u,p,d){var g=u["spans_"+a.id],b=0;a.iter(Math.max(a.first,p),Math.min(a.first+a.size,d),function(T){T.markedSpans&&((g||(g=u["spans_"+a.id]={}))[b]=T.markedSpans),++b})}function Og(a){if(!a)return null;for(var u,p=0;p<a.length;++p)a[p].marker.explicitlyCleared?u||(u=a.slice(0,p)):u&&u.push(a[p]);return u?u.length?u:null:a}function Ef(a,u){var p=u["spans_"+a.id];if(!p)return null;for(var d=[],g=0;g<u.text.length;++g)d.push(Og(p[g]));return d}function Lp(a,u){var p=Ef(a,u),d=bs(a,u);if(!p)return d;if(!d)return p;for(var g=0;g<p.length;++g){var b=p[g],T=d[g];if(b&&T)t:for(var k=0;k<T.length;++k){for(var j=T[k],H=0;H<b.length;++H)if(b[H].marker==j.marker)continue t;b.push(j)}else T&&(p[g]=T)}return p}function Ya(a,u,p){for(var d=[],g=0;g<a.length;++g){var b=a[g];if(b.ranges){d.push(p?ho.prototype.deepCopy.call(b):b);continue}var T=b.changes,k=[];d.push({changes:k});for(var j=0;j<T.length;++j){var H=T[j],st=void 0;if(k.push({from:H.from,to:H.to,text:H.text}),u)for(var vt in H)(st=vt.match(/^spans_(\d+)$/))&&Kt(u,Number(st[1]))>-1&&(ve(k)[vt]=H[vt],delete H[vt])}}return d}function Pf(a,u,p,d){if(d){var g=a.anchor;if(p){var b=rt(u,g)<0;b!=rt(p,g)<0?(g=u,u=p):b!=rt(u,p)<0&&(u=p)}return new dn(g,u)}else return new dn(p||u,u)}function Wl(a,u,p,d,g){g==null&&(g=a.cm&&(a.cm.display.shift||a.extend)),wr(a,new ho([Pf(a.sel.primary(),u,p,g)],0),d)}function Dp(a,u,p){for(var d=[],g=a.cm&&(a.cm.display.shift||a.extend),b=0;b<a.sel.ranges.length;b++)d[b]=Pf(a.sel.ranges[b],u[b],null,g);var T=qo(a.cm,d,a.sel.primIndex);wr(a,T,p)}function kf(a,u,p,d){var g=a.sel.ranges.slice(0);g[u]=p,wr(a,qo(a.cm,g,a.sel.primIndex),d)}function aa(a,u,p,d){wr(a,ra(u,p),d)}function Tg(a,u,p){var d={ranges:u.ranges,update:function(g){this.ranges=[];for(var b=0;b<g.length;b++)this.ranges[b]=new dn(Se(a,g[b].anchor),Se(a,g[b].head))},origin:p&&p.origin};return un(a,"beforeSelectionChange",a,d),a.cm&&un(a.cm,"beforeSelectionChange",a.cm,d),d.ranges!=u.ranges?qo(a.cm,d.ranges,d.ranges.length-1):u}function jp(a,u,p){var d=a.history.done,g=ve(d);g&&g.ranges?(d[d.length-1]=u,cc(a,u,p)):wr(a,u,p)}function wr(a,u,p){cc(a,u,p),Sg(a,a.sel,a.cm?a.cm.curOp.id:NaN,p)}function cc(a,u,p){(Nn(a,"beforeSelectionChange")||a.cm&&Nn(a.cm,"beforeSelectionChange"))&&(u=Tg(a,u,p));var d=p&&p.bias||(rt(u.primary().head,a.sel.primary().head)<0?-1:1);Np(a,Rp(a,u,d,!0)),!(p&&p.scroll===!1)&&a.cm&&a.cm.getOption("readOnly")!="nocursor"&&$a(a.cm)}function Np(a,u){u.equals(a.sel)||(a.sel=u,a.cm&&(a.cm.curOp.updateInput=1,a.cm.curOp.selectionChanged=!0,ee(a.cm)),xn(a,"cursorActivity",a))}function Ip(a){Np(a,Rp(a,a.sel,null,!1))}function Rp(a,u,p,d){for(var g,b=0;b<u.ranges.length;b++){var T=u.ranges[b],k=u.ranges.length==a.sel.ranges.length&&a.sel.ranges[b],j=fc(a,T.anchor,k&&k.anchor,p,d),H=T.head==T.anchor?j:fc(a,T.head,k&&k.head,p,d);(g||j!=T.anchor||H!=T.head)&&(g||(g=u.ranges.slice(0,b)),g[b]=new dn(j,H))}return g?qo(a.cm,g,u.primIndex):u}function qa(a,u,p,d,g){var b=be(a,u.line);if(b.markedSpans)for(var T=0;T<b.markedSpans.length;++T){var k=b.markedSpans[T],j=k.marker,H="selectLeft"in j?!j.selectLeft:j.inclusiveLeft,st="selectRight"in j?!j.selectRight:j.inclusiveRight;if((k.from==null||(H?k.from<=u.ch:k.from<u.ch))&&(k.to==null||(st?k.to>=u.ch:k.to>u.ch))){if(g&&(un(j,"beforeCursorEnter"),j.explicitlyCleared))if(b.markedSpans){--T;continue}else break;if(!j.atomic)continue;if(p){var vt=j.find(d<0?1:-1),Lt=void 0;if((d<0?st:H)&&(vt=Af(a,vt,-d,vt&&vt.line==u.line?b:null)),vt&&vt.line==u.line&&(Lt=rt(vt,p))&&(d<0?Lt<0:Lt>0))return qa(a,vt,u,d,g)}var Ot=j.find(d<0?-1:1);return(d<0?H:st)&&(Ot=Af(a,Ot,d,Ot.line==u.line?b:null)),Ot?qa(a,Ot,u,d,g):null}}return u}function fc(a,u,p,d,g){var b=d||1,T=qa(a,u,p,b,g)||!g&&qa(a,u,p,b,!0)||qa(a,u,p,-b,g)||!g&&qa(a,u,p,-b,!0);return T||(a.cantEdit=!0,I(a.first,0))}function Af(a,u,p,d){return p<0&&u.ch==0?u.line>a.first?Se(a,I(u.line-1)):null:p>0&&u.ch==(d||be(a,u.line)).text.length?u.line<a.first+a.size-1?I(u.line+1,0):null:new I(u.line,u.ch+p)}function $l(a){a.setSelection(I(a.firstLine(),0),I(a.lastLine()),Jt)}function Gl(a,u,p){var d={canceled:!1,from:u.from,to:u.to,text:u.text,origin:u.origin,cancel:function(){return d.canceled=!0}};return p&&(d.update=function(g,b,T,k){g&&(d.from=Se(a,g)),b&&(d.to=Se(a,b)),T&&(d.text=T),k!==void 0&&(d.origin=k)}),un(a,"beforeChange",a,d),a.cm&&un(a.cm,"beforeChange",a.cm,d),d.canceled?(a.cm&&(a.cm.curOp.updateInput=2),null):{from:d.from,to:d.to,text:d.text,origin:d.origin}}function js(a,u,p){if(a.cm){if(!a.cm.curOp)return er(a.cm,js)(a,u,p);if(a.cm.state.suppressEdits)return}if(!((Nn(a,"beforeChange")||a.cm&&Nn(a.cm,"beforeChange"))&&(u=Gl(a,u,!0),!u))){var d=Ui&&!p&&wl(a,u.from,u.to);if(d)for(var g=d.length-1;g>=0;--g)Fp(a,{from:d[g].from,to:d[g].to,text:g?[""]:u.text,origin:u.origin});else Fp(a,u)}}function Fp(a,u){if(!(u.text.length==1&&u.text[0]==""&&rt(u.from,u.to)==0)){var p=Sf(a,u);Mp(a,u,p,a.cm?a.cm.curOp.id:NaN),Kl(a,u,p,bs(a,u));var d=[];ia(a,function(g,b){!b&&Kt(d,g.history)==-1&&(Yl(g.history,u),d.push(g.history)),Kl(g,u,null,bs(g,u))})}}function dc(a,u,p){var d=a.cm&&a.cm.state.suppressEdits;if(!(d&&!p)){for(var g=a.history,b,T=a.sel,k=u=="undo"?g.done:g.undone,j=u=="undo"?g.undone:g.done,H=0;H<k.length&&(b=k[H],!(p?b.ranges&&!b.equals(a.sel):!b.ranges));H++);if(H!=k.length){for(g.lastOrigin=g.lastSelOrigin=null;;)if(b=k.pop(),b.ranges){if(uc(b,j),p&&!b.equals(a.sel)){wr(a,b,{clearRedo:!1});return}T=b}else if(d){k.push(b);return}else break;var st=[];uc(T,j),j.push({changes:st,generation:g.generation}),g.generation=b.generation||++g.maxGeneration;for(var vt=Nn(a,"beforeChange")||a.cm&&Nn(a.cm,"beforeChange"),Lt=function(Yt){var ne=b.changes[Yt];if(ne.origin=u,vt&&!Gl(a,ne,!1))return k.length=0,{};st.push(Tf(a,ne));var ue=Yt?Sf(a,ne):ve(k);Kl(a,ne,ue,Lp(a,ne)),!Yt&&a.cm&&a.cm.scrollIntoView({from:ne.from,to:oa(ne)});var me=[];ia(a,function(ce,ye){!ye&&Kt(me,ce.history)==-1&&(Yl(ce.history,ne),me.push(ce.history)),Kl(ce,ne,null,Lp(ce,ne))})},Ot=b.changes.length-1;Ot>=0;--Ot){var Bt=Lt(Ot);if(Bt)return Bt.v}}}}function Vp(a,u){if(u!=0&&(a.first+=u,a.sel=new ho(F(a.sel.ranges,function(g){return new dn(I(g.anchor.line+u,g.anchor.ch),I(g.head.line+u,g.head.ch))}),a.sel.primIndex),a.cm)){_r(a.cm,a.first,a.first-u,u);for(var p=a.cm.display,d=p.viewFrom;d<p.viewTo;d++)Zi(a.cm,d,"gutter")}}function Kl(a,u,p,d){if(a.cm&&!a.cm.curOp)return er(a.cm,Kl)(a,u,p,d);if(u.to.line<a.first){Vp(a,u.text.length-1-(u.to.line-u.from.line));return}if(!(u.from.line>a.lastLine())){if(u.from.line<a.first){var g=u.text.length-1-(a.first-u.from.line);Vp(a,g),u={from:I(a.first,0),to:I(u.to.line+g,u.to.ch),text:[ve(u.text)],origin:u.origin}}var b=a.lastLine();u.to.line>b&&(u={from:u.from,to:I(b,be(a,b).text.length),text:[u.text[0]],origin:u.origin}),u.removed=Xr(a,u.from,u.to),p||(p=Sf(a,u)),a.cm?Eg(a.cm,u,d):Ar(a,u,d),cc(a,p,Jt),a.cantEdit&&fc(a,I(a.firstLine(),0))&&(a.cantEdit=!1)}}function Eg(a,u,p){var d=a.doc,g=a.display,b=u.from,T=u.to,k=!1,j=b.line;a.options.lineWrapping||(j=We(Jr(be(d,b.line))),d.iter(j,T.line+1,function(Ot){if(Ot==g.maxLine)return k=!0,!0})),d.sel.contains(u.from,u.to)>-1&&ee(a),Ar(d,u,p,fp(a)),a.options.lineWrapping||(d.iter(j,b.line+u.text.length,function(Ot){var Bt=Be(Ot);Bt>g.maxLineLength&&(g.maxLine=Ot,g.maxLineLength=Bt,g.maxLineChanged=!0,k=!1)}),k&&(a.curOp.updateMaxLine=!0)),Hu(d,b.line),zl(a,400);var H=u.text.length-(T.line-b.line)-1;u.full?_r(a):b.line==T.line&&u.text.length==1&&!Pp(a.doc,u)?Zi(a,b.line,"text"):_r(a,b.line,T.line+1,H);var st=Nn(a,"changes"),vt=Nn(a,"change");if(vt||st){var Lt={from:b,to:T,text:u.text,removed:u.removed,origin:u.origin};vt&&xn(a,"change",a,Lt),st&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(Lt)}a.display.selForContextMenu=null}function Xa(a,u,p,d,g){var b;d||(d=p),rt(d,p)<0&&(b=[d,p],p=b[0],d=b[1]),typeof u=="string"&&(u=a.splitLines(u)),js(a,{from:p,to:d,text:u,origin:g})}function Mf(a,u,p,d){p<a.line?a.line+=d:u<a.line&&(a.line=u,a.ch=0)}function Hp(a,u,p,d){for(var g=0;g<a.length;++g){var b=a[g],T=!0;if(b.ranges){b.copied||(b=a[g]=b.deepCopy(),b.copied=!0);for(var k=0;k<b.ranges.length;k++)Mf(b.ranges[k].anchor,u,p,d),Mf(b.ranges[k].head,u,p,d);continue}for(var j=0;j<b.changes.length;++j){var H=b.changes[j];if(p<H.from.line)H.from=I(H.from.line+d,H.from.ch),H.to=I(H.to.line+d,H.to.ch);else if(u<=H.to.line){T=!1;break}}T||(a.splice(0,g+1),g=0)}}function Yl(a,u){var p=u.from.line,d=u.to.line,g=u.text.length-(d-p)-1;Hp(a.done,p,d,g),Hp(a.undone,p,d,g)}function ql(a,u,p,d){var g=u,b=u;return typeof u=="number"?b=be(a,on(a,u)):g=We(u),g==null?null:(d(b,g)&&a.cm&&Zi(a.cm,g,p),b)}function Ns(a){this.lines=a,this.parent=null;for(var u=0,p=0;p<a.length;++p)a[p].parent=this,u+=a[p].height;this.height=u}Ns.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,u){for(var p=a,d=a+u;p<d;++p){var g=this.lines[p];this.height-=g.height,Ki(g),xn(g,"delete")}this.lines.splice(a,u)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,u,p){this.height+=p,this.lines=this.lines.slice(0,a).concat(u).concat(this.lines.slice(a));for(var d=0;d<u.length;++d)u[d].parent=this},iterN:function(a,u,p){for(var d=a+u;a<d;++a)if(p(this.lines[a]))return!0}};function Xl(a){this.children=a;for(var u=0,p=0,d=0;d<a.length;++d){var g=a[d];u+=g.chunkSize(),p+=g.height,g.parent=this}this.size=u,this.height=p,this.parent=null}Xl.prototype={chunkSize:function(){return this.size},removeInner:function(a,u){this.size-=u;for(var p=0;p<this.children.length;++p){var d=this.children[p],g=d.chunkSize();if(a<g){var b=Math.min(u,g-a),T=d.height;if(d.removeInner(a,b),this.height-=T-d.height,g==b&&(this.children.splice(p--,1),d.parent=null),(u-=b)==0)break;a=0}else a-=g}if(this.size-u<25&&(this.children.length>1||!(this.children[0]instanceof Ns))){var k=[];this.collapse(k),this.children=[new Ns(k)],this.children[0].parent=this}},collapse:function(a){for(var u=0;u<this.children.length;++u)this.children[u].collapse(a)},insertInner:function(a,u,p){this.size+=u.length,this.height+=p;for(var d=0;d<this.children.length;++d){var g=this.children[d],b=g.chunkSize();if(a<=b){if(g.insertInner(a,u,p),g.lines&&g.lines.length>50){for(var T=g.lines.length%25+25,k=T;k<g.lines.length;){var j=new Ns(g.lines.slice(k,k+=25));g.height-=j.height,this.children.splice(++d,0,j),j.parent=this}g.lines=g.lines.slice(0,T),this.maybeSpill()}break}a-=b}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var u=a.children.splice(a.children.length-5,5),p=new Xl(u);if(a.parent){a.size-=p.size,a.height-=p.height;var g=Kt(a.parent.children,a);a.parent.children.splice(g+1,0,p)}else{var d=new Xl(a.children);d.parent=a,a.children=[d,p],a=d}p.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iterN:function(a,u,p){for(var d=0;d<this.children.length;++d){var g=this.children[d],b=g.chunkSize();if(a<b){var T=Math.min(u,b-a);if(g.iterN(a,T,p))return!0;if((u-=T)==0)break;a=0}else a-=b}}};var Lo=function(a,u,p){if(p)for(var d in p)p.hasOwnProperty(d)&&(this[d]=p[d]);this.doc=a,this.node=u};Lo.prototype.clear=function(){var a=this.doc.cm,u=this.line.widgets,p=this.line,d=We(p);if(!(d==null||!u)){for(var g=0;g<u.length;++g)u[g]==this&&u.splice(g--,1);u.length||(p.widgets=null);var b=Mo(this);Nr(p,Math.max(0,p.height-b)),a&&(Qr(a,function(){zp(a,p,-b),Zi(a,d,"widget")}),xn(a,"lineWidgetCleared",a,this,d))}},Lo.prototype.changed=function(){var a=this,u=this.height,p=this.doc.cm,d=this.line;this.height=null;var g=Mo(this)-u;g&&(uo(this.doc,d)||Nr(d,d.height+g),p&&Qr(p,function(){p.curOp.forceUpdate=!0,zp(p,d,g),xn(p,"lineWidgetChanged",p,a,We(d))}))},So(Lo);function zp(a,u,p){Vn(u)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&yf(a,p)}function Pg(a,u,p,d){var g=new Lo(a,p,d),b=a.cm;return b&&g.noHScroll&&(b.display.alignWidgets=!0),ql(a,u,"widget",function(T){var k=T.widgets||(T.widgets=[]);if(g.insertAt==null?k.push(g):k.splice(Math.min(k.length,Math.max(0,g.insertAt)),0,g),g.line=T,b&&!uo(a,T)){var j=Vn(T)<a.scrollTop;Nr(T,T.height+Mo(g)),j&&yf(b,g.height),b.curOp.forceUpdate=!0}return!0}),b&&xn(b,"lineWidgetAdded",b,g,typeof u=="number"?u:We(u)),g}var Bp=0,sa=function(a,u){this.lines=[],this.type=u,this.doc=a,this.id=++Bp};sa.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,u=a&&!a.curOp;if(u&&Si(a),Nn(this,"clear")){var p=this.find();p&&xn(this,"clear",p.from,p.to)}for(var d=null,g=null,b=0;b<this.lines.length;++b){var T=this.lines[b],k=wi(T.markedSpans,this);a&&!this.collapsed?Zi(a,We(T),"text"):a&&(k.to!=null&&(g=We(T)),k.from!=null&&(d=We(T))),T.markedSpans=ka(T.markedSpans,k),k.from==null&&this.collapsed&&!uo(this.doc,T)&&a&&Nr(T,Ps(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(var j=0;j<this.lines.length;++j){var H=Jr(this.lines[j]),st=Be(H);st>a.display.maxLineLength&&(a.display.maxLine=H,a.display.maxLineLength=st,a.display.maxLineChanged=!0)}d!=null&&a&&this.collapsed&&_r(a,d,g+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&Ip(a.doc)),a&&xn(a,"markerCleared",a,this,d,g),u&&Ka(a),this.parent&&this.parent.clear()}},sa.prototype.find=function(a,u){a==null&&this.type=="bookmark"&&(a=1);for(var p,d,g=0;g<this.lines.length;++g){var b=this.lines[g],T=wi(b.markedSpans,this);if(T.from!=null&&(p=I(u?b:We(b),T.from),a==-1))return p;if(T.to!=null&&(d=I(u?b:We(b),T.to),a==1))return d}return p&&{from:p,to:d}},sa.prototype.changed=function(){var a=this,u=this.find(-1,!0),p=this,d=this.doc.cm;!u||!d||Qr(d,function(){var g=u.line,b=We(u.line),T=ze(d,b);if(T&&(Ku(T),d.curOp.selectionChanged=d.curOp.forceUpdate=!0),d.curOp.updateMaxLine=!0,!uo(p.doc,g)&&p.height!=null){var k=p.height;p.height=null;var j=Mo(p)-k;j&&Nr(g,g.height+j)}xn(d,"markerChanged",d,a)})},sa.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var u=this.doc.cm.curOp;(!u.maybeHiddenMarkers||Kt(u.maybeHiddenMarkers,this)==-1)&&(u.maybeUnhiddenMarkers||(u.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},sa.prototype.detachLine=function(a){if(this.lines.splice(Kt(this.lines,a),1),!this.lines.length&&this.doc.cm){var u=this.doc.cm.curOp;(u.maybeHiddenMarkers||(u.maybeHiddenMarkers=[])).push(this)}},So(sa);function Is(a,u,p,d,g){if(d&&d.shared)return Lf(a,u,p,d,g);if(a.cm&&!a.cm.curOp)return er(a.cm,Is)(a,u,p,d,g);var b=new sa(a,g),T=rt(u,p);if(d&&Zt(d,b,!1),T>0||T==0&&b.clearWhenEmpty!==!1)return b;if(b.replacedWith&&(b.collapsed=!0,b.widgetNode=dt("span",[b.replacedWith],"CodeMirror-widget"),d.handleMouseEvents||b.widgetNode.setAttribute("cm-ignore-events","true"),d.insertLeft&&(b.widgetNode.insertLeft=!0)),b.collapsed){if(Fr(a,u.line,u,p,b)||u.line!=p.line&&Fr(a,p.line,u,p,b))throw new Error("Inserting collapsed marker partially overlapping an existing one");ur()}b.addToHistory&&Mp(a,{from:u,to:p,origin:"markText"},a.sel,NaN);var k=u.line,j=a.cm,H;if(a.iter(k,p.line+1,function(vt){j&&b.collapsed&&!j.options.lineWrapping&&Jr(vt)==j.display.maxLine&&(H=!0),b.collapsed&&k!=u.line&&Nr(vt,0),Wo(vt,new Pa(b,k==u.line?u.ch:null,k==p.line?p.ch:null),a.cm&&a.cm.curOp),++k}),b.collapsed&&a.iter(u.line,p.line+1,function(vt){uo(a,vt)&&Nr(vt,0)}),b.clearOnEnter&&Ce(b,"beforeCursorEnter",function(){return b.clear()}),b.readOnly&&(_l(),(a.history.done.length||a.history.undone.length)&&a.clearHistory()),b.collapsed&&(b.id=++Bp,b.atomic=!0),j){if(H&&(j.curOp.updateMaxLine=!0),b.collapsed)_r(j,u.line,p.line+1);else if(b.className||b.startStyle||b.endStyle||b.css||b.attributes||b.title)for(var st=u.line;st<=p.line;st++)Zi(j,st,"text");b.atomic&&Ip(j.doc),xn(j,"markerAdded",j,b)}return b}var Rs=function(a,u){this.markers=a,this.primary=u;for(var p=0;p<a.length;++p)a[p].parent=this};Rs.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();xn(this,"clear")}},Rs.prototype.find=function(a,u){return this.primary.find(a,u)},So(Rs);function Lf(a,u,p,d,g){d=Zt(d),d.shared=!1;var b=[Is(a,u,p,d,g)],T=b[0],k=d.widgetNode;return ia(a,function(j){k&&(d.widgetNode=k.cloneNode(!0)),b.push(Is(j,Se(j,u),Se(j,p),d,g));for(var H=0;H<j.linked.length;++H)if(j.linked[H].isParent)return;T=ve(b)}),new Rs(b,T)}function Up(a){return a.findMarks(I(a.first,0),a.clipPos(I(a.lastLine())),function(u){return u.parent})}function kg(a,u){for(var p=0;p<u.length;p++){var d=u[p],g=d.find(),b=a.clipPos(g.from),T=a.clipPos(g.to);if(rt(b,T)){var k=Is(a,b,T,d.primary,d.primary.type);d.markers.push(k),k.parent=d}}}function Wp(a){for(var u=function(d){var g=a[d],b=[g.primary.doc];ia(g.primary.doc,function(j){return b.push(j)});for(var T=0;T<g.markers.length;T++){var k=g.markers[T];Kt(b,k.doc)==-1&&(k.parent=null,g.markers.splice(T--,1))}},p=0;p<a.length;p++)u(p)}var Ag=0,Vr=function(a,u,p,d,g){if(!(this instanceof Vr))return new Vr(a,u,p,d,g);p==null&&(p=0),Xl.call(this,[new Ns([new Wn("",null)])]),this.first=p,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=p;var b=I(p,0);this.sel=ra(b),this.history=new lc(null),this.id=++Ag,this.modeOption=u,this.lineSep=d,this.direction=g=="rtl"?"rtl":"ltr",this.extend=!1,typeof a=="string"&&(a=this.splitLines(a)),Ar(this,{from:b,to:b,text:a}),wr(this,ra(b),Jt)};Vr.prototype=Et(Xl.prototype,{constructor:Vr,iter:function(a,u,p){p?this.iterN(a-this.first,u-a,p):this.iterN(this.first,this.first+this.size,a)},insert:function(a,u){for(var p=0,d=0;d<u.length;++d)p+=u[d].height;this.insertInner(a-this.first,u,p)},remove:function(a,u){this.removeInner(a-this.first,u)},getValue:function(a){var u=Fn(this,this.first,this.first+this.size);return a===!1?u:u.join(a||this.lineSeparator())},setValue:rr(function(a){var u=I(this.first,0),p=this.first+this.size-1;js(this,{from:u,to:I(p,be(this,p).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0),this.cm&&Il(this.cm,0,0),wr(this,ra(u),Jt)}),replaceRange:function(a,u,p,d){u=Se(this,u),p=p?Se(this,p):u,Xa(this,a,u,p,d)},getRange:function(a,u,p){var d=Xr(this,Se(this,a),Se(this,u));return p===!1?d:p===""?d.join(""):d.join(p||this.lineSeparator())},getLine:function(a){var u=this.getLineHandle(a);return u&&u.text},getLineHandle:function(a){if(oi(this,a))return be(this,a)},getLineNumber:function(a){return We(a)},getLineHandleVisualStart:function(a){return typeof a=="number"&&(a=be(this,a)),Jr(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return Se(this,a)},getCursor:function(a){var u=this.sel.primary(),p;return a==null||a=="head"?p=u.head:a=="anchor"?p=u.anchor:a=="end"||a=="to"||a===!1?p=u.to():p=u.from(),p},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:rr(function(a,u,p){aa(this,Se(this,typeof a=="number"?I(a,u||0):a),null,p)}),setSelection:rr(function(a,u,p){aa(this,Se(this,a),Se(this,u||a),p)}),extendSelection:rr(function(a,u,p){Wl(this,Se(this,a),u&&Se(this,u),p)}),extendSelections:rr(function(a,u){Dp(this,ys(this,a),u)}),extendSelectionsBy:rr(function(a,u){var p=F(this.sel.ranges,a);Dp(this,ys(this,p),u)}),setSelections:rr(function(a,u,p){if(a.length){for(var d=[],g=0;g<a.length;g++)d[g]=new dn(Se(this,a[g].anchor),Se(this,a[g].head||a[g].anchor));u==null&&(u=Math.min(a.length-1,this.sel.primIndex)),wr(this,qo(this.cm,d,u),p)}}),addSelection:rr(function(a,u,p){var d=this.sel.ranges.slice(0);d.push(new dn(Se(this,a),Se(this,u||a))),wr(this,qo(this.cm,d,d.length-1),p)}),getSelection:function(a){for(var u=this.sel.ranges,p,d=0;d<u.length;d++){var g=Xr(this,u[d].from(),u[d].to());p=p?p.concat(g):g}return a===!1?p:p.join(a||this.lineSeparator())},getSelections:function(a){for(var u=[],p=this.sel.ranges,d=0;d<p.length;d++){var g=Xr(this,p[d].from(),p[d].to());a!==!1&&(g=g.join(a||this.lineSeparator())),u[d]=g}return u},replaceSelection:function(a,u,p){for(var d=[],g=0;g<this.sel.ranges.length;g++)d[g]=a;this.replaceSelections(d,u,p||"+input")},replaceSelections:rr(function(a,u,p){for(var d=[],g=this.sel,b=0;b<g.ranges.length;b++){var T=g.ranges[b];d[b]={from:T.from(),to:T.to(),text:this.splitLines(a[b]),origin:p}}for(var k=u&&u!="end"&&wg(this,d,u),j=d.length-1;j>=0;j--)js(this,d[j]);k?jp(this,k):this.cm&&$a(this.cm)}),undo:rr(function(){dc(this,"undo")}),redo:rr(function(){dc(this,"redo")}),undoSelection:rr(function(){dc(this,"undo",!0)}),redoSelection:rr(function(){dc(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,u=0,p=0,d=0;d<a.done.length;d++)a.done[d].ranges||++u;for(var g=0;g<a.undone.length;g++)a.undone[g].ranges||++p;return{undo:u,redo:p}},clearHistory:function(){var a=this;this.history=new lc(this.history),ia(this,function(u){return u.history=a.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){return a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:Ya(this.history.done),undone:Ya(this.history.undone)}},setHistory:function(a){var u=this.history=new lc(this.history);u.done=Ya(a.done.slice(0),null,!0),u.undone=Ya(a.undone.slice(0),null,!0)},setGutterMarker:rr(function(a,u,p){return ql(this,a,"gutter",function(d){var g=d.gutterMarkers||(d.gutterMarkers={});return g[u]=p,!p&&Pt(g)&&(d.gutterMarkers=null),!0})}),clearGutter:rr(function(a){var u=this;this.iter(function(p){p.gutterMarkers&&p.gutterMarkers[a]&&ql(u,p,"gutter",function(){return p.gutterMarkers[a]=null,Pt(p.gutterMarkers)&&(p.gutterMarkers=null),!0})})}),lineInfo:function(a){var u;if(typeof a=="number"){if(!oi(this,a)||(u=a,a=be(this,a),!a))return null}else if(u=We(a),u==null)return null;return{line:u,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:rr(function(a,u,p){return ql(this,a,u=="gutter"?"gutter":"class",function(d){var g=u=="text"?"textClass":u=="background"?"bgClass":u=="gutter"?"gutterClass":"wrapClass";if(!d[g])d[g]=p;else{if(V(p).test(d[g]))return!1;d[g]+=" "+p}return!0})}),removeLineClass:rr(function(a,u,p){return ql(this,a,u=="gutter"?"gutter":"class",function(d){var g=u=="text"?"textClass":u=="background"?"bgClass":u=="gutter"?"gutterClass":"wrapClass",b=d[g];if(b)if(p==null)d[g]=null;else{var T=b.match(V(p));if(!T)return!1;var k=T.index+T[0].length;d[g]=b.slice(0,T.index)+(!T.index||k==b.length?"":" ")+b.slice(k)||null}else return!1;return!0})}),addLineWidget:rr(function(a,u,p){return Pg(this,a,u,p)}),removeLineWidget:function(a){a.clear()},markText:function(a,u,p){return Is(this,Se(this,a),Se(this,u),p,p&&p.type||"range")},setBookmark:function(a,u){var p={replacedWith:u&&(u.nodeType==null?u.widget:u),insertLeft:u&&u.insertLeft,clearWhenEmpty:!1,shared:u&&u.shared,handleMouseEvents:u&&u.handleMouseEvents};return a=Se(this,a),Is(this,a,a,p,"bookmark")},findMarksAt:function(a){a=Se(this,a);var u=[],p=be(this,a.line).markedSpans;if(p)for(var d=0;d<p.length;++d){var g=p[d];(g.from==null||g.from<=a.ch)&&(g.to==null||g.to>=a.ch)&&u.push(g.marker.parent||g.marker)}return u},findMarks:function(a,u,p){a=Se(this,a),u=Se(this,u);var d=[],g=a.line;return this.iter(a.line,u.line+1,function(b){var T=b.markedSpans;if(T)for(var k=0;k<T.length;k++){var j=T[k];!(j.to!=null&&g==a.line&&a.ch>=j.to||j.from==null&&g!=a.line||j.from!=null&&g==u.line&&j.from>=u.ch)&&(!p||p(j.marker))&&d.push(j.marker.parent||j.marker)}++g}),d},getAllMarks:function(){var a=[];return this.iter(function(u){var p=u.markedSpans;if(p)for(var d=0;d<p.length;++d)p[d].from!=null&&a.push(p[d].marker)}),a},posFromIndex:function(a){var u,p=this.first,d=this.lineSeparator().length;return this.iter(function(g){var b=g.text.length+d;if(b>a)return u=a,!0;a-=b,++p}),Se(this,I(p,u))},indexFromPos:function(a){a=Se(this,a);var u=a.ch;if(a.line<this.first||a.ch<0)return 0;var p=this.lineSeparator().length;return this.iter(this.first,a.line,function(d){u+=d.text.length+p}),u},copy:function(a){var u=new Vr(Fn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return u.scrollTop=this.scrollTop,u.scrollLeft=this.scrollLeft,u.sel=this.sel,u.extend=!1,a&&(u.history.undoDepth=this.history.undoDepth,u.setHistory(this.getHistory())),u},linkedDoc:function(a){a||(a={});var u=this.first,p=this.first+this.size;a.from!=null&&a.from>u&&(u=a.from),a.to!=null&&a.to<p&&(p=a.to);var d=new Vr(Fn(this,u,p),a.mode||this.modeOption,u,this.lineSep,this.direction);return a.sharedHist&&(d.history=this.history),(this.linked||(this.linked=[])).push({doc:d,sharedHist:a.sharedHist}),d.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],kg(d,Up(this)),d},unlinkDoc:function(a){if(a instanceof wn&&(a=a.doc),this.linked)for(var u=0;u<this.linked.length;++u){var p=this.linked[u];if(p.doc==a){this.linked.splice(u,1),a.unlinkDoc(this),Wp(Up(this));break}}if(a.history==this.history){var d=[a.id];ia(a,function(g){return d.push(g.id)},!0),a.history=new lc(null),a.history.done=Ya(this.history.done,d),a.history.undone=Ya(this.history.undone,d)}},iterLinkedDocs:function(a){ia(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):gr(a)},lineSeparator:function(){return this.lineSep||`
`},setDirection:rr(function(a){a!="rtl"&&(a="ltr"),a!=this.direction&&(this.direction=a,this.iter(function(u){return u.order=null}),this.cm&&bg(this.cm))})}),Vr.prototype.eachLine=Vr.prototype.iter;var Df=0;function Mg(a){var u=this;if($p(u),!(Ze(u,a)||fo(u.display,a))){tt(a),S&&(Df=+new Date);var p=Ba(u,a,!0),d=a.dataTransfer.files;if(!(!p||u.isReadOnly()))if(d&&d.length&&window.FileReader&&window.File)for(var g=d.length,b=Array(g),T=0,k=function(){++T==g&&er(u,function(){p=Se(u.doc,p);var Ot={from:p,to:p,text:u.doc.splitLines(b.filter(function(Bt){return Bt!=null}).join(u.doc.lineSeparator())),origin:"paste"};js(u.doc,Ot),jp(u.doc,ra(Se(u.doc,p),Se(u.doc,oa(Ot))))})()},j=function(Ot,Bt){if(u.options.allowDropFileTypes&&Kt(u.options.allowDropFileTypes,Ot.type)==-1){k();return}var Yt=new FileReader;Yt.onerror=function(){return k()},Yt.onload=function(){var ne=Yt.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(ne)){k();return}b[Bt]=ne,k()},Yt.readAsText(Ot)},H=0;H<d.length;H++)j(d[H],H);else{if(u.state.draggingText&&u.doc.sel.contains(p)>-1){u.state.draggingText(a),setTimeout(function(){return u.display.input.focus()},20);return}try{var st=a.dataTransfer.getData("Text");if(st){var vt;if(u.state.draggingText&&!u.state.draggingText.copy&&(vt=u.listSelections()),cc(u.doc,ra(p,p)),vt)for(var Lt=0;Lt<vt.length;++Lt)Xa(u.doc,"",vt[Lt].anchor,vt[Lt].head,"drag");u.replaceSelection(st,"around","paste"),u.display.input.focus()}}catch{}}}}function Zl(a,u){if(S&&(!a.state.draggingText||+new Date-Df<100)){$t(u);return}if(!(Ze(a,u)||fo(a.display,u))&&(u.dataTransfer.setData("Text",a.getSelection()),u.dataTransfer.effectAllowed="copyMove",u.dataTransfer.setDragImage&&!$)){var p=U("img",null,null,"position: fixed; left: 0; top: 0;");p.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",R&&(p.width=p.height=1,a.display.wrapper.appendChild(p),p._top=p.offsetTop),u.dataTransfer.setDragImage(p,0,0),R&&p.parentNode.removeChild(p)}}function Lg(a,u){var p=Ba(a,u);if(p){var d=document.createDocumentFragment();vf(a,p,d),a.display.dragCursor||(a.display.dragCursor=U("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv)),it(a.display.dragCursor,d)}}function $p(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function jf(a){if(document.getElementsByClassName){for(var u=document.getElementsByClassName("CodeMirror"),p=[],d=0;d<u.length;d++){var g=u[d].CodeMirror;g&&p.push(g)}p.length&&p[0].operation(function(){for(var b=0;b<p.length;b++)a(p[b])})}}var Nf=!1;function Gp(){Nf||(Kp(),Nf=!0)}function Kp(){var a;Ce(window,"resize",function(){a==null&&(a=setTimeout(function(){a=null,jf(Yp)},100))}),Ce(window,"blur",function(){return jf(ea)})}function Yp(a){var u=a.display;u.cachedCharWidth=u.cachedTextHeight=u.cachedPaddingH=null,u.scrollbarsClipped=!1,a.setSize()}for(var la={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ti=0;Ti<10;Ti++)la[Ti+48]=la[Ti+96]=String(Ti);for(var Fs=65;Fs<=90;Fs++)la[Fs]=String.fromCharCode(Fs);for(var Vs=1;Vs<=12;Vs++)la[Vs+111]=la[Vs+63235]="F"+Vs;var ui={};ui.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},ui.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},ui.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},ui.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},ui.default=X?ui.macDefault:ui.pcDefault;function qp(a){var u=a.split(/-(?!$)/);a=u[u.length-1];for(var p,d,g,b,T=0;T<u.length-1;T++){var k=u[T];if(/^(cmd|meta|m)$/i.test(k))b=!0;else if(/^a(lt)?$/i.test(k))p=!0;else if(/^(c|ctrl|control)$/i.test(k))d=!0;else if(/^s(hift)?$/i.test(k))g=!0;else throw new Error("Unrecognized modifier name: "+k)}return p&&(a="Alt-"+a),d&&(a="Ctrl-"+a),b&&(a="Cmd-"+a),g&&(a="Shift-"+a),a}function Jl(a){var u={};for(var p in a)if(a.hasOwnProperty(p)){var d=a[p];if(/^(name|fallthrough|(de|at)tach)$/.test(p))continue;if(d=="..."){delete a[p];continue}for(var g=F(p.split(" "),qp),b=0;b<g.length;b++){var T=void 0,k=void 0;b==g.length-1?(k=g.join(" "),T=d):(k=g.slice(0,b+1).join(" "),T="...");var j=u[k];if(!j)u[k]=T;else if(j!=T)throw new Error("Inconsistent bindings for "+k)}delete a[p]}for(var H in u)a[H]=u[H];return a}function Hs(a,u,p,d){u=pc(u);var g=u.call?u.call(a,d):u[a];if(g===!1)return"nothing";if(g==="...")return"multi";if(g!=null&&p(g))return"handled";if(u.fallthrough){if(Object.prototype.toString.call(u.fallthrough)!="[object Array]")return Hs(a,u.fallthrough,p,d);for(var b=0;b<u.fallthrough.length;b++){var T=Hs(a,u.fallthrough[b],p,d);if(T)return T}}}function Xp(a){var u=typeof a=="string"?a:la[a.keyCode];return u=="Ctrl"||u=="Alt"||u=="Shift"||u=="Mod"}function If(a,u,p){var d=a;return u.altKey&&d!="Alt"&&(a="Alt-"+a),(Ct?u.metaKey:u.ctrlKey)&&d!="Ctrl"&&(a="Ctrl-"+a),(Ct?u.ctrlKey:u.metaKey)&&d!="Mod"&&(a="Cmd-"+a),!p&&u.shiftKey&&d!="Shift"&&(a="Shift-"+a),a}function Zp(a,u){if(R&&a.keyCode==34&&a.char)return!1;var p=la[a.keyCode];return p==null||a.altGraphKey?!1:(a.keyCode==3&&a.code&&(p=a.code),If(p,a,u))}function pc(a){return typeof a=="string"?ui[a]:a}function Za(a,u){for(var p=a.doc.sel.ranges,d=[],g=0;g<p.length;g++){for(var b=u(p[g]);d.length&&rt(b.from,ve(d).to)<=0;){var T=d.pop();if(rt(T.from,b.from)<0){b.from=T.from;break}}d.push(b)}Qr(a,function(){for(var k=d.length-1;k>=0;k--)Xa(a.doc,"",d[k].from,d[k].to,"+delete");$a(a)})}function Rf(a,u,p){var d=Ne(a.text,u+p,p);return d<0||d>a.text.length?null:d}function Ff(a,u,p){var d=Rf(a,u.ch,p);return d==null?null:new I(u.line,d,p<0?"after":"before")}function Vf(a,u,p,d,g){if(a){u.doc.direction=="rtl"&&(g=-g);var b=tn(p,u.doc.direction);if(b){var T=g<0?ve(b):b[0],k=g<0==(T.level==1),j=k?"after":"before",H;if(T.level>0||u.doc.direction=="rtl"){var st=Le(u,p);H=g<0?p.text.length-1:0;var vt=fn(u,st,H).top;H=Ge(function(Lt){return fn(u,st,Lt).top==vt},g<0==(T.level==1)?T.from:T.to-1,H),j=="before"&&(H=Rf(p,H,1))}else H=g<0?T.to:T.from;return new I(d,H,j)}}return new I(d,g<0?p.text.length:0,g<0?"before":"after")}function Dg(a,u,p,d){var g=tn(u,a.doc.direction);if(!g)return Ff(u,p,d);p.ch>=u.text.length?(p.ch=u.text.length,p.sticky="before"):p.ch<=0&&(p.ch=0,p.sticky="after");var b=rn(g,p.ch,p.sticky),T=g[b];if(a.doc.direction=="ltr"&&T.level%2==0&&(d>0?T.to>p.ch:T.from<p.ch))return Ff(u,p,d);var k=function(ue,me){return Rf(u,ue instanceof I?ue.ch:ue,me)},j,H=function(ue){return a.options.lineWrapping?(j=j||Le(a,u),qu(a,u,j,ue)):{begin:0,end:u.text.length}},st=H(p.sticky=="before"?k(p,-1):p.ch);if(a.doc.direction=="rtl"||T.level==1){var vt=T.level==1==d<0,Lt=k(p,vt?1:-1);if(Lt!=null&&(vt?Lt<=T.to&&Lt<=st.end:Lt>=T.from&&Lt>=st.begin)){var Ot=vt?"before":"after";return new I(p.line,Lt,Ot)}}var Bt=function(ue,me,ce){for(var ye=function(mn,or){return or?new I(p.line,k(mn,1),"before"):new I(p.line,mn,"after")};ue>=0&&ue<g.length;ue+=me){var ke=g[ue],Pe=me>0==(ke.level!=1),Ke=Pe?ce.begin:k(ce.end,-1);if(ke.from<=Ke&&Ke<ke.to||(Ke=Pe?ke.from:k(ke.to,-1),ce.begin<=Ke&&Ke<ce.end))return ye(Ke,Pe)}},Yt=Bt(b+d,d,st);if(Yt)return Yt;var ne=d>0?st.end:k(st.begin,-1);return ne!=null&&!(d>0&&ne==u.text.length)&&(Yt=Bt(d>0?0:g.length-1,d,H(ne)),Yt)?Yt:null}var Ql={selectAll:$l,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),Jt)},killLine:function(a){return Za(a,function(u){if(u.empty()){var p=be(a.doc,u.head.line).text.length;return u.head.ch==p&&u.head.line<a.lastLine()?{from:u.head,to:I(u.head.line+1,0)}:{from:u.head,to:I(u.head.line,p)}}else return{from:u.from(),to:u.to()}})},deleteLine:function(a){return Za(a,function(u){return{from:I(u.from().line,0),to:Se(a.doc,I(u.to().line+1,0))}})},delLineLeft:function(a){return Za(a,function(u){return{from:I(u.from().line,0),to:u.from()}})},delWrappedLineLeft:function(a){return Za(a,function(u){var p=a.charCoords(u.head,"div").top+5,d=a.coordsChar({left:0,top:p},"div");return{from:d,to:u.from()}})},delWrappedLineRight:function(a){return Za(a,function(u){var p=a.charCoords(u.head,"div").top+5,d=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:p},"div");return{from:u.from(),to:d}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(I(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(I(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(u){return Do(a,u.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(u){return Ja(a,u.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(u){return vo(a,u.head.line)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(u){var p=a.cursorCoords(u.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:p},"div")},He)},goLineLeft:function(a){return a.extendSelectionsBy(function(u){var p=a.cursorCoords(u.head,"div").top+5;return a.coordsChar({left:0,top:p},"div")},He)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(u){var p=a.cursorCoords(u.head,"div").top+5,d=a.coordsChar({left:0,top:p},"div");return d.ch<a.getLine(d.line).search(/\S/)?Ja(a,u.head):d},He)},goLineUp:function(a){return a.moveV(-1,"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,"codepoint")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("	")},insertSoftTab:function(a){for(var u=[],p=a.listSelections(),d=a.options.tabSize,g=0;g<p.length;g++){var b=p[g].from(),T=St(a.getLine(b.line),b.ch,d);u.push(gn(d-T%d))}a.replaceSelections(u)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return Qr(a,function(){for(var u=a.listSelections(),p=[],d=0;d<u.length;d++)if(u[d].empty()){var g=u[d].head,b=be(a.doc,g.line).text;if(b){if(g.ch==b.length&&(g=new I(g.line,g.ch-1)),g.ch>0)g=new I(g.line,g.ch+1),a.replaceRange(b.charAt(g.ch-1)+b.charAt(g.ch-2),I(g.line,g.ch-2),g,"+transpose");else if(g.line>a.doc.first){var T=be(a.doc,g.line-1).text;T&&(g=new I(g.line,1),a.replaceRange(b.charAt(0)+a.doc.lineSeparator()+T.charAt(T.length-1),I(g.line-1,T.length-1),g,"+transpose"))}}p.push(new dn(g,g))}a.setSelections(p)})},newlineAndIndent:function(a){return Qr(a,function(){for(var u=a.listSelections(),p=u.length-1;p>=0;p--)a.replaceRange(a.doc.lineSeparator(),u[p].anchor,u[p].head,"+input");u=a.listSelections();for(var d=0;d<u.length;d++)a.indentLine(u[d].from().line,null,!0);$a(a)})},openLine:function(a){return a.replaceSelection(`
`,"start")},toggleOverwrite:function(a){return a.toggleOverwrite()}};function Do(a,u){var p=be(a.doc,u),d=Jr(p);return d!=p&&(u=We(d)),Vf(!0,a,d,u,1)}function vo(a,u){var p=be(a.doc,u),d=Go(p);return d!=p&&(u=We(d)),Vf(!0,a,p,u,-1)}function Ja(a,u){var p=Do(a,u.line),d=be(a.doc,p.line),g=tn(d,a.doc.direction);if(!g||g[0].level==0){var b=Math.max(p.ch,d.text.search(/\S/)),T=u.line==p.line&&u.ch<=b&&u.ch;return I(p.line,T?0:b,p.sticky)}return p}function tu(a,u,p){if(typeof u=="string"&&(u=Ql[u],!u))return!1;a.display.input.ensurePolled();var d=a.display.shift,g=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),p&&(a.display.shift=!1),g=u(a)!=ae}finally{a.display.shift=d,a.state.suppressEdits=!1}return g}function Hf(a,u,p){for(var d=0;d<a.state.keyMaps.length;d++){var g=Hs(u,a.state.keyMaps[d],p,a);if(g)return g}return a.options.extraKeys&&Hs(u,a.options.extraKeys,p,a)||Hs(u,a.options.keyMap,p,a)}var jg=new zt;function eu(a,u,p,d){var g=a.state.keySeq;if(g){if(Xp(u))return"handled";if(/\'$/.test(u)?a.state.keySeq=null:jg.set(50,function(){a.state.keySeq==g&&(a.state.keySeq=null,a.display.input.reset())}),zf(a,g+" "+u,p,d))return!0}return zf(a,u,p,d)}function zf(a,u,p,d){var g=Hf(a,u,d);return g=="multi"&&(a.state.keySeq=u),g=="handled"&&xn(a,"keyHandled",a,u,p),(g=="handled"||g=="multi")&&(tt(p),Qi(a)),!!g}function Jp(a,u){var p=Zp(u,!0);return p?u.shiftKey&&!a.state.keySeq?eu(a,"Shift-"+p,u,function(d){return tu(a,d,!0)})||eu(a,p,u,function(d){if(typeof d=="string"?/^go[A-Z]/.test(d):d.motion)return tu(a,d)}):eu(a,p,u,function(d){return tu(a,d)}):!1}function Qp(a,u,p){return eu(a,"'"+p+"'",u,function(d){return tu(a,d,!0)})}var nu=null;function Bf(a){var u=this;if(!(a.target&&a.target!=u.display.input.getField())&&(u.curOp.focus=gt(Wt(u)),!Ze(u,a))){S&&E<11&&a.keyCode==27&&(a.returnValue=!1);var p=a.keyCode;u.display.shift=p==16||a.shiftKey;var d=Jp(u,a);R&&(nu=d?p:null,!d&&p==88&&!yi&&(X?a.metaKey:a.ctrlKey)&&u.replaceSelection("",null,"cut")),v&&!X&&!d&&p==46&&a.shiftKey&&!a.ctrlKey&&document.execCommand&&document.execCommand("cut"),p==18&&!/\bCodeMirror-crosshair\b/.test(u.display.lineDiv.className)&&th(u)}}function th(a){var u=a.display.lineDiv;lt(u,"CodeMirror-crosshair");function p(d){(d.keyCode==18||!d.altKey)&&(W(u,"CodeMirror-crosshair"),Re(document,"keyup",p),Re(document,"mouseover",p))}Ce(document,"keyup",p),Ce(document,"mouseover",p)}function eh(a){a.keyCode==16&&(this.doc.sel.shift=!1),Ze(this,a)}function nh(a){var u=this;if(!(a.target&&a.target!=u.display.input.getField())&&!(fo(u.display,a)||Ze(u,a)||a.ctrlKey&&!a.altKey||X&&a.metaKey)){var p=a.keyCode,d=a.charCode;if(R&&p==nu){nu=null,tt(a);return}if(!(R&&(!a.which||a.which<10)&&Jp(u,a))){var g=String.fromCharCode(d??p);g!="\b"&&(Qp(u,a,g)||u.display.input.onKeyPress(a))}}}var Ng=400,Uf=function(a,u,p){this.time=a,this.pos=u,this.button=p};Uf.prototype.compare=function(a,u,p){return this.time+Ng>a&&rt(u,this.pos)==0&&p==this.button};var ru,ou;function Ig(a,u){var p=+new Date;return ou&&ou.compare(p,a,u)?(ru=ou=null,"triple"):ru&&ru.compare(p,a,u)?(ou=new Uf(p,a,u),ru=null,"double"):(ru=new Uf(p,a,u),ou=null,"single")}function rh(a){var u=this,p=u.display;if(!(Ze(u,a)||p.activeTouch&&p.input.supportsTouch())){if(p.input.ensurePolled(),p.shift=a.shiftKey,fo(p,a)){O||(p.scroller.draggable=!1,setTimeout(function(){return p.scroller.draggable=!0},100));return}if(!Wf(u,a)){var d=Ba(u,a),g=Me(a),b=d?Ig(d,g):"single";ie(u).focus(),g==1&&u.state.selectingText&&u.state.selectingText(a),!(d&&oh(u,g,d,b,a))&&(g==1?d?Rg(u,d,b,a):he(a)==p.scroller&&tt(a):g==2?(d&&Wl(u.doc,d),setTimeout(function(){return p.input.focus()},20)):g==3&&(Q?u.display.input.onContextMenu(a):ta(u)))}}}function oh(a,u,p,d,g){var b="Click";return d=="double"?b="Double"+b:d=="triple"&&(b="Triple"+b),b=(u==1?"Left":u==2?"Middle":"Right")+b,eu(a,If(b,g),g,function(T){if(typeof T=="string"&&(T=Ql[T]),!T)return!1;var k=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),k=T(a,p)!=ae}finally{a.state.suppressEdits=!1}return k})}function ih(a,u,p){var d=a.getOption("configureMouse"),g=d?d(a,u,p):{};if(g.unit==null){var b=yt?p.shiftKey&&p.metaKey:p.altKey;g.unit=b?"rectangle":u=="single"?"char":u=="double"?"word":"line"}return(g.extend==null||a.doc.extend)&&(g.extend=a.doc.extend||p.shiftKey),g.addNew==null&&(g.addNew=X?p.metaKey:p.ctrlKey),g.moveOnDrag==null&&(g.moveOnDrag=!(X?p.altKey:p.ctrlKey)),g}function Rg(a,u,p,d){S?setTimeout(qt(Wa,a),0):a.curOp.focus=gt(Wt(a));var g=ih(a,p,d),b=a.doc.sel,T;a.options.dragDrop&&Je&&!a.isReadOnly()&&p=="single"&&(T=b.contains(u))>-1&&(rt((T=b.ranges[T]).from(),u)<0||u.xRel>0)&&(rt(T.to(),u)>0||u.xRel<0)?Fg(a,d,u,g):Vg(a,d,u,g)}function Fg(a,u,p,d){var g=a.display,b=!1,T=er(a,function(H){O&&(g.scroller.draggable=!1),a.state.draggingText=!1,a.state.delayingBlurEvent&&(a.hasFocus()?a.state.delayingBlurEvent=!1:ta(a)),Re(g.wrapper.ownerDocument,"mouseup",T),Re(g.wrapper.ownerDocument,"mousemove",k),Re(g.scroller,"dragstart",j),Re(g.scroller,"drop",T),b||(tt(H),d.addNew||Wl(a.doc,p,null,null,d.extend),O&&!$||S&&E==9?setTimeout(function(){g.wrapper.ownerDocument.body.focus({preventScroll:!0}),g.input.focus()},20):g.input.focus())}),k=function(H){b=b||Math.abs(u.clientX-H.clientX)+Math.abs(u.clientY-H.clientY)>=10},j=function(){return b=!0};O&&(g.scroller.draggable=!0),a.state.draggingText=T,T.copy=!d.moveOnDrag,Ce(g.wrapper.ownerDocument,"mouseup",T),Ce(g.wrapper.ownerDocument,"mousemove",k),Ce(g.scroller,"dragstart",j),Ce(g.scroller,"drop",T),a.state.delayingBlurEvent=!0,setTimeout(function(){return g.input.focus()},20),g.scroller.dragDrop&&g.scroller.dragDrop()}function ua(a,u,p){if(p=="char")return new dn(u,u);if(p=="word")return a.findWordAt(u);if(p=="line")return new dn(I(u.line,0),Se(a.doc,I(u.line+1,0)));var d=p(a,u);return new dn(d.from,d.to)}function Vg(a,u,p,d){S&&ta(a);var g=a.display,b=a.doc;tt(u);var T,k,j=b.sel,H=j.ranges;if(d.addNew&&!d.extend?(k=b.sel.contains(p),k>-1?T=H[k]:T=new dn(p,p)):(T=b.sel.primary(),k=b.sel.primIndex),d.unit=="rectangle")d.addNew||(T=new dn(p,p)),p=Ba(a,u,!0,!0),k=-1;else{var st=ua(a,p,d.unit);d.extend?T=Pf(T,st.anchor,st.head,d.extend):T=st}d.addNew?k==-1?(k=H.length,wr(b,qo(a,H.concat([T]),k),{scroll:!1,origin:"*mouse"})):H.length>1&&H[k].empty()&&d.unit=="char"&&!d.extend?(wr(b,qo(a,H.slice(0,k).concat(H.slice(k+1)),0),{scroll:!1,origin:"*mouse"}),j=b.sel):kf(b,k,T,ge):(k=0,wr(b,new ho([T],0),ge),j=b.sel);var vt=p;function Lt(ce){if(rt(vt,ce)!=0)if(vt=ce,d.unit=="rectangle"){for(var ye=[],ke=a.options.tabSize,Pe=St(be(b,p.line).text,p.ch,ke),Ke=St(be(b,ce.line).text,ce.ch,ke),mn=Math.min(Pe,Ke),or=Math.max(Pe,Ke),Sn=Math.min(p.line,ce.line),to=Math.min(a.lastLine(),Math.max(p.line,ce.line));Sn<=to;Sn++){var Hr=be(b,Sn).text,$n=pn(Hr,mn,ke);mn==or?ye.push(new dn(I(Sn,$n),I(Sn,$n))):Hr.length>$n&&ye.push(new dn(I(Sn,$n),I(Sn,pn(Hr,or,ke))))}ye.length||ye.push(new dn(p,p)),wr(b,qo(a,j.ranges.slice(0,k).concat(ye),k),{origin:"*mouse",scroll:!1}),a.scrollIntoView(ce)}else{var Mr=T,ir=ua(a,ce,d.unit),Gn=Mr.anchor,zn;rt(ir.anchor,Gn)>0?(zn=ir.head,Gn=Qe(Mr.from(),ir.anchor)):(zn=ir.anchor,Gn=Ee(Mr.to(),ir.head));var kn=j.ranges.slice(0);kn[k]=Hg(a,new dn(Se(b,Gn),zn)),wr(b,qo(a,kn,k),ge)}}var Ot=g.wrapper.getBoundingClientRect(),Bt=0;function Yt(ce){var ye=++Bt,ke=Ba(a,ce,!0,d.unit=="rectangle");if(ke)if(rt(ke,vt)!=0){a.curOp.focus=gt(Wt(a)),Lt(ke);var Pe=ec(g,b);(ke.line>=Pe.to||ke.line<Pe.from)&&setTimeout(er(a,function(){Bt==ye&&Yt(ce)}),150)}else{var Ke=ce.clientY<Ot.top?-20:ce.clientY>Ot.bottom?20:0;Ke&&setTimeout(er(a,function(){Bt==ye&&(g.scroller.scrollTop+=Ke,Yt(ce))}),50)}}function ne(ce){a.state.selectingText=!1,Bt=1/0,ce&&(tt(ce),g.input.focus()),Re(g.wrapper.ownerDocument,"mousemove",ue),Re(g.wrapper.ownerDocument,"mouseup",me),b.history.lastSelOrigin=null}var ue=er(a,function(ce){ce.buttons===0||!Me(ce)?ne(ce):Yt(ce)}),me=er(a,ne);a.state.selectingText=me,Ce(g.wrapper.ownerDocument,"mousemove",ue),Ce(g.wrapper.ownerDocument,"mouseup",me)}function Hg(a,u){var p=u.anchor,d=u.head,g=be(a.doc,p.line);if(rt(p,d)==0&&p.sticky==d.sticky)return u;var b=tn(g);if(!b)return u;var T=rn(b,p.ch,p.sticky),k=b[T];if(k.from!=p.ch&&k.to!=p.ch)return u;var j=T+(k.from==p.ch==(k.level!=1)?0:1);if(j==0||j==b.length)return u;var H;if(d.line!=p.line)H=(d.line-p.line)*(a.doc.direction=="ltr"?1:-1)>0;else{var st=rn(b,d.ch,d.sticky),vt=st-T||(d.ch-p.ch)*(k.level==1?-1:1);st==j-1||st==j?H=vt<0:H=vt>0}var Lt=b[j+(H?-1:0)],Ot=H==(Lt.level==1),Bt=Ot?Lt.from:Lt.to,Yt=Ot?"after":"before";return p.ch==Bt&&p.sticky==Yt?u:new dn(new I(p.line,Bt,Yt),d)}function ah(a,u,p,d){var g,b;if(u.touches)g=u.touches[0].clientX,b=u.touches[0].clientY;else try{g=u.clientX,b=u.clientY}catch{return!1}if(g>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;d&&tt(u);var T=a.display,k=T.lineDiv.getBoundingClientRect();if(b>k.bottom||!Nn(a,p))return Mt(u);b-=k.top-T.viewOffset;for(var j=0;j<a.display.gutterSpecs.length;++j){var H=T.gutters.childNodes[j];if(H&&H.getBoundingClientRect().right>=g){var st=To(a.doc,b),vt=a.display.gutterSpecs[j];return un(a,p,a,st,vt.className,u),Mt(u)}}}function Wf(a,u){return ah(a,u,"gutterClick",!0)}function $f(a,u){fo(a.display,u)||zg(a,u)||Ze(a,u,"contextmenu")||Q||a.display.input.onContextMenu(u)}function zg(a,u){return Nn(a,"gutterContextMenu")?ah(a,u,"gutterContextMenu",!1):!1}function sh(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Es(a)}var zs={toString:function(){return"CodeMirror.Init"}},Gf={},hc={};function Bg(a){var u=a.optionHandlers;function p(d,g,b,T){a.defaults[d]=g,b&&(u[d]=T?function(k,j,H){H!=zs&&b(k,j,H)}:b)}a.defineOption=p,a.Init=zs,p("value","",function(d,g){return d.setValue(g)},!0),p("mode",null,function(d,g){d.doc.modeOption=g,Of(d)},!0),p("indentUnit",2,Of,!0),p("indentWithTabs",!1),p("smartIndent",!0),p("tabSize",4,function(d){Ul(d),Es(d),_r(d)},!0),p("lineSeparator",null,function(d,g){if(d.doc.lineSep=g,!!g){var b=[],T=d.doc.first;d.doc.iter(function(j){for(var H=0;;){var st=j.text.indexOf(g,H);if(st==-1)break;H=st+g.length,b.push(I(T,st))}T++});for(var k=b.length-1;k>=0;k--)Xa(d.doc,g,b[k],I(b[k].line,b[k].ch+g.length))}}),p("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(d,g,b){d.state.specialChars=new RegExp(g.source+(g.test("	")?"":"|	"),"g"),b!=zs&&d.refresh()}),p("specialCharPlaceholder",Na,function(d){return d.refresh()},!0),p("electricChars",!0),p("inputStyle",G?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),p("spellcheck",!1,function(d,g){return d.getInputField().spellcheck=g},!0),p("autocorrect",!1,function(d,g){return d.getInputField().autocorrect=g},!0),p("autocapitalize",!1,function(d,g){return d.getInputField().autocapitalize=g},!0),p("rtlMoveVisually",!bt),p("wholeLineUpdateBefore",!0),p("theme","default",function(d){sh(d),Bl(d)},!0),p("keyMap","default",function(d,g,b){var T=pc(g),k=b!=zs&&pc(b);k&&k.detach&&k.detach(d,T),T.attach&&T.attach(d,k||null)}),p("extraKeys",null),p("configureMouse",null),p("lineWrapping",!1,lh,!0),p("gutters",[],function(d,g){d.display.gutterSpecs=xf(g,d.options.lineNumbers),Bl(d)},!0),p("fixedGutter",!0,function(d,g){d.display.gutters.style.left=g?jl(d.display)+"px":"0",d.refresh()},!0),p("coverGutterNextToScrollbar",!1,function(d){return Ms(d)},!0),p("scrollbarStyle","native",function(d){mp(d),Ms(d),d.display.scrollbars.setScrollTop(d.doc.scrollTop),d.display.scrollbars.setScrollLeft(d.doc.scrollLeft)},!0),p("lineNumbers",!1,function(d,g){d.display.gutterSpecs=xf(d.options.gutters,g),Bl(d)},!0),p("firstLineNumber",1,Bl,!0),p("lineNumberFormatter",function(d){return d},Bl,!0),p("showCursorWhenSelecting",!1,Nl,!0),p("resetSelectionOnContextMenu",!0),p("lineWiseCopyCut",!0),p("pasteLinesPerSelection",!0),p("selectionsMayTouch",!1),p("readOnly",!1,function(d,g){g=="nocursor"&&(ea(d),d.display.input.blur()),d.display.input.readOnlyChanged(g)}),p("screenReaderLabel",null,function(d,g){g=g===""?null:g,d.display.input.screenReaderLabelChanged(g)}),p("disableInput",!1,function(d,g){g||d.display.input.reset()},!0),p("dragDrop",!0,Pn),p("allowDropFileTypes",null),p("cursorBlinkRate",530),p("cursorScrollMargin",0),p("cursorHeight",1,Nl,!0),p("singleCursorHeightPerLine",!0,Nl,!0),p("workTime",100),p("workDelay",100),p("flattenSpans",!0,Ul,!0),p("addModeClass",!1,Ul,!0),p("pollInterval",100),p("undoDepth",200,function(d,g){return d.doc.history.undoDepth=g}),p("historyEventDelay",1250),p("viewportMargin",10,function(d){return d.refresh()},!0),p("maxHighlightLength",1e4,Ul,!0),p("moveInputWithCursor",!0,function(d,g){g||d.display.input.resetPosition()}),p("tabindex",null,function(d,g){return d.display.input.getField().tabIndex=g||""}),p("autofocus",null),p("direction","ltr",function(d,g){return d.doc.setDirection(g)},!0),p("phrases",null)}function Pn(a,u,p){var d=p&&p!=zs;if(!u!=!d){var g=a.display.dragFunctions,b=u?Ce:Re;b(a.display.scroller,"dragstart",g.start),b(a.display.scroller,"dragenter",g.enter),b(a.display.scroller,"dragover",g.over),b(a.display.scroller,"dragleave",g.leave),b(a.display.scroller,"drop",g.drop)}}function lh(a){a.options.lineWrapping?(lt(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(W(a.display.wrapper,"CodeMirror-wrap"),Gi(a)),pf(a),_r(a),Es(a),setTimeout(function(){return Ms(a)},100)}function wn(a,u){var p=this;if(!(this instanceof wn))return new wn(a,u);this.options=u=u?Zt(u):{},Zt(Gf,u,!1);var d=u.value;typeof d=="string"?d=new Vr(d,u.mode,null,u.lineSeparator,u.direction):u.mode&&(d.modeOption=u.mode),this.doc=d;var g=new wn.inputStyles[u.inputStyle](this),b=this.display=new yg(a,d,g,u);b.wrapper.CodeMirror=this,sh(this),u.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),mp(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new zt,keySeq:null,specialChars:null},u.autofocus&&!G&&b.input.focus(),S&&E<11&&setTimeout(function(){return p.display.input.reset(!0)},20),iu(this),Gp(),Si(this),this.curOp.forceUpdate=!0,Ls(this,d),u.autofocus&&!G||this.hasFocus()?setTimeout(function(){p.hasFocus()&&!p.state.focused&&Qu(p)},20):ea(this);for(var T in hc)hc.hasOwnProperty(T)&&hc[T](this,u[T],zs);Cp(this),u.finishInit&&u.finishInit(this);for(var k=0;k<au.length;++k)au[k](this);Ka(this),O&&u.lineWrapping&&getComputedStyle(b.lineDiv).textRendering=="optimizelegibility"&&(b.lineDiv.style.textRendering="auto")}wn.defaults=Gf,wn.optionHandlers=hc;function iu(a){var u=a.display;Ce(u.scroller,"mousedown",er(a,rh)),S&&E<11?Ce(u.scroller,"dblclick",er(a,function(j){if(!Ze(a,j)){var H=Ba(a,j);if(!(!H||Wf(a,j)||fo(a.display,j))){tt(j);var st=a.findWordAt(H);Wl(a.doc,st.anchor,st.head)}}})):Ce(u.scroller,"dblclick",function(j){return Ze(a,j)||tt(j)}),Ce(u.scroller,"contextmenu",function(j){return $f(a,j)}),Ce(u.input.getField(),"contextmenu",function(j){u.scroller.contains(j.target)||$f(a,j)});var p,d={end:0};function g(){u.activeTouch&&(p=setTimeout(function(){return u.activeTouch=null},1e3),d=u.activeTouch,d.end=+new Date)}function b(j){if(j.touches.length!=1)return!1;var H=j.touches[0];return H.radiusX<=1&&H.radiusY<=1}function T(j,H){if(H.left==null)return!0;var st=H.left-j.left,vt=H.top-j.top;return st*st+vt*vt>20*20}Ce(u.scroller,"touchstart",function(j){if(!Ze(a,j)&&!b(j)&&!Wf(a,j)){u.input.ensurePolled(),clearTimeout(p);var H=+new Date;u.activeTouch={start:H,moved:!1,prev:H-d.end<=300?d:null},j.touches.length==1&&(u.activeTouch.left=j.touches[0].pageX,u.activeTouch.top=j.touches[0].pageY)}}),Ce(u.scroller,"touchmove",function(){u.activeTouch&&(u.activeTouch.moved=!0)}),Ce(u.scroller,"touchend",function(j){var H=u.activeTouch;if(H&&!fo(u,j)&&H.left!=null&&!H.moved&&new Date-H.start<300){var st=a.coordsChar(u.activeTouch,"page"),vt;!H.prev||T(H,H.prev)?vt=new dn(st,st):!H.prev.prev||T(H,H.prev.prev)?vt=a.findWordAt(st):vt=new dn(I(st.line,0),Se(a.doc,I(st.line+1,0))),a.setSelection(vt.anchor,vt.head),a.focus(),tt(j)}g()}),Ce(u.scroller,"touchcancel",g),Ce(u.scroller,"scroll",function(){u.scroller.clientHeight&&(Rl(a,u.scroller.scrollTop),na(a,u.scroller.scrollLeft,!0),un(a,"scroll",a))}),Ce(u.scroller,"mousewheel",function(j){return Op(a,j)}),Ce(u.scroller,"DOMMouseScroll",function(j){return Op(a,j)}),Ce(u.wrapper,"scroll",function(){return u.wrapper.scrollTop=u.wrapper.scrollLeft=0}),u.dragFunctions={enter:function(j){Ze(a,j)||$t(j)},over:function(j){Ze(a,j)||(Lg(a,j),$t(j))},start:function(j){return Zl(a,j)},drop:er(a,Mg),leave:function(j){Ze(a,j)||$p(a)}};var k=u.input.getField();Ce(k,"keyup",function(j){return eh.call(a,j)}),Ce(k,"keydown",er(a,Bf)),Ce(k,"keypress",er(a,nh)),Ce(k,"focus",function(j){return Qu(a,j)}),Ce(k,"blur",function(j){return ea(a,j)})}var au=[];wn.defineInitHook=function(a){return au.push(a)};function su(a,u,p,d){var g=a.doc,b;p==null&&(p="add"),p=="smart"&&(g.mode.indent?b=zi(a,u).state:p="prev");var T=a.options.tabSize,k=be(g,u),j=St(k.text,null,T);k.stateAfter&&(k.stateAfter=null);var H=k.text.match(/^\s*/)[0],st;if(!d&&!/\S/.test(k.text))st=0,p="not";else if(p=="smart"&&(st=g.mode.indent(b,k.text.slice(H.length),k.text),st==ae||st>150)){if(!d)return;p="prev"}p=="prev"?u>g.first?st=St(be(g,u-1).text,null,T):st=0:p=="add"?st=j+a.options.indentUnit:p=="subtract"?st=j-a.options.indentUnit:typeof p=="number"&&(st=j+p),st=Math.max(0,st);var vt="",Lt=0;if(a.options.indentWithTabs)for(var Ot=Math.floor(st/T);Ot;--Ot)Lt+=T,vt+="	";if(Lt<st&&(vt+=gn(st-Lt)),vt!=H)return Xa(g,vt,I(u,0),I(u,H.length),"+input"),k.stateAfter=null,!0;for(var Bt=0;Bt<g.sel.ranges.length;Bt++){var Yt=g.sel.ranges[Bt];if(Yt.head.line==u&&Yt.head.ch<H.length){var ne=I(u,H.length);kf(g,Bt,new dn(ne,ne));break}}}var jo=null;function Bs(a){jo=a}function vc(a,u,p,d,g){var b=a.doc;a.display.shift=!1,d||(d=b.sel);var T=+new Date-200,k=g=="paste"||a.state.pasteIncoming>T,j=gr(u),H=null;if(k&&d.ranges.length>1)if(jo&&jo.text.join(`
`)==u){if(d.ranges.length%jo.text.length==0){H=[];for(var st=0;st<jo.text.length;st++)H.push(b.splitLines(jo.text[st]))}}else j.length==d.ranges.length&&a.options.pasteLinesPerSelection&&(H=F(j,function(ue){return[ue]}));for(var vt=a.curOp.updateInput,Lt=d.ranges.length-1;Lt>=0;Lt--){var Ot=d.ranges[Lt],Bt=Ot.from(),Yt=Ot.to();Ot.empty()&&(p&&p>0?Bt=I(Bt.line,Bt.ch-p):a.state.overwrite&&!k?Yt=I(Yt.line,Math.min(be(b,Yt.line).text.length,Yt.ch+ve(j).length)):k&&jo&&jo.lineWise&&jo.text.join(`
`)==j.join(`
`)&&(Bt=Yt=I(Bt.line,0)));var ne={from:Bt,to:Yt,text:H?H[Lt%H.length]:j,origin:g||(k?"paste":a.state.cutIncoming>T?"cut":"+input")};js(a.doc,ne),xn(a,"inputRead",a,ne)}u&&!k&&Kf(a,u),$a(a),a.curOp.updateInput<2&&(a.curOp.updateInput=vt),a.curOp.typing=!0,a.state.pasteIncoming=a.state.cutIncoming=-1}function lu(a,u){var p=a.clipboardData&&a.clipboardData.getData("Text");if(p)return a.preventDefault(),!u.isReadOnly()&&!u.options.disableInput&&u.hasFocus()&&Qr(u,function(){return vc(u,p,0,null,"paste")}),!0}function Kf(a,u){if(!(!a.options.electricChars||!a.options.smartIndent))for(var p=a.doc.sel,d=p.ranges.length-1;d>=0;d--){var g=p.ranges[d];if(!(g.head.ch>100||d&&p.ranges[d-1].head.line==g.head.line)){var b=a.getModeAt(g.head),T=!1;if(b.electricChars){for(var k=0;k<b.electricChars.length;k++)if(u.indexOf(b.electricChars.charAt(k))>-1){T=su(a,g.head.line,"smart");break}}else b.electricInput&&b.electricInput.test(be(a.doc,g.head.line).text.slice(0,g.head.ch))&&(T=su(a,g.head.line,"smart"));T&&xn(a,"electricInput",a,g.head.line)}}}function Yf(a){for(var u=[],p=[],d=0;d<a.doc.sel.ranges.length;d++){var g=a.doc.sel.ranges[d].head.line,b={anchor:I(g,0),head:I(g+1,0)};p.push(b),u.push(a.getRange(b.anchor,b.head))}return{text:u,ranges:p}}function qf(a,u,p,d){a.setAttribute("autocorrect",p?"on":"off"),a.setAttribute("autocapitalize",d?"on":"off"),a.setAttribute("spellcheck",!!u)}function uh(){var a=U("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),u=U("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return O?a.style.width="1000px":a.setAttribute("wrap","off"),Z&&(a.style.border="1px solid black"),u}function Xf(a){var u=a.optionHandlers,p=a.helpers={};a.prototype={constructor:a,focus:function(){ie(this).focus(),this.display.input.focus()},setOption:function(d,g){var b=this.options,T=b[d];b[d]==g&&d!="mode"||(b[d]=g,u.hasOwnProperty(d)&&er(this,u[d])(this,g,T),un(this,"optionChange",this,d))},getOption:function(d){return this.options[d]},getDoc:function(){return this.doc},addKeyMap:function(d,g){this.state.keyMaps[g?"push":"unshift"](pc(d))},removeKeyMap:function(d){for(var g=this.state.keyMaps,b=0;b<g.length;++b)if(g[b]==d||g[b].name==d)return g.splice(b,1),!0},addOverlay:kr(function(d,g){var b=d.token?d:a.getMode(this.options,d);if(b.startState)throw new Error("Overlays may not be stateful.");et(this.state.overlays,{mode:b,modeSpec:d,opaque:g&&g.opaque,priority:g&&g.priority||0},function(T){return T.priority}),this.state.modeGen++,_r(this)}),removeOverlay:kr(function(d){for(var g=this.state.overlays,b=0;b<g.length;++b){var T=g[b].modeSpec;if(T==d||typeof d=="string"&&T.name==d){g.splice(b,1),this.state.modeGen++,_r(this);return}}}),indentLine:kr(function(d,g,b){typeof g!="string"&&typeof g!="number"&&(g==null?g=this.options.smartIndent?"smart":"prev":g=g?"add":"subtract"),oi(this.doc,d)&&su(this,d,g,b)}),indentSelection:kr(function(d){for(var g=this.doc.sel.ranges,b=-1,T=0;T<g.length;T++){var k=g[T];if(k.empty())k.head.line>b&&(su(this,k.head.line,d,!0),b=k.head.line,T==this.doc.sel.primIndex&&$a(this));else{var j=k.from(),H=k.to(),st=Math.max(b,j.line);b=Math.min(this.lastLine(),H.line-(H.ch?0:1))+1;for(var vt=st;vt<b;++vt)su(this,vt,d);var Lt=this.doc.sel.ranges;j.ch==0&&g.length==Lt.length&&Lt[T].from().ch>0&&kf(this.doc,T,new dn(j,Lt[T].to()),Jt)}}}),getTokenAt:function(d,g){return so(this,d,g)},getLineTokens:function(d,g){return so(this,I(d),g,!0)},getTokenTypeAt:function(d){d=Se(this.doc,d);var g=yl(this,be(this.doc,d.line)),b=0,T=(g.length-1)/2,k=d.ch,j;if(k==0)j=g[2];else for(;;){var H=b+T>>1;if((H?g[H*2-1]:0)>=k)T=H;else if(g[H*2+1]<k)b=H+1;else{j=g[H*2+2];break}}var st=j?j.indexOf("overlay "):-1;return st<0?j:st==0?null:j.slice(0,st-1)},getModeAt:function(d){var g=this.doc.mode;return g.innerMode?a.innerMode(g,this.getTokenAt(d).state).mode:g},getHelper:function(d,g){return this.getHelpers(d,g)[0]},getHelpers:function(d,g){var b=[];if(!p.hasOwnProperty(g))return b;var T=p[g],k=this.getModeAt(d);if(typeof k[g]=="string")T[k[g]]&&b.push(T[k[g]]);else if(k[g])for(var j=0;j<k[g].length;j++){var H=T[k[g][j]];H&&b.push(H)}else k.helperType&&T[k.helperType]?b.push(T[k.helperType]):T[k.name]&&b.push(T[k.name]);for(var st=0;st<T._global.length;st++){var vt=T._global[st];vt.pred(k,this)&&Kt(b,vt.val)==-1&&b.push(vt.val)}return b},getStateAfter:function(d,g){var b=this.doc;return d=on(b,d??b.first+b.size-1),zi(this,d+1,g).state},cursorCoords:function(d,g){var b,T=this.doc.sel.primary();return d==null?b=T.head:typeof d=="object"?b=Se(this.doc,d):b=d?T.from():T.to(),po(this,b,g||"page")},charCoords:function(d,g){return Ha(this,Se(this.doc,d),g||"page")},coordsChar:function(d,g){return d=up(this,d,g||"page"),cf(this,d.left,d.top)},lineAtHeight:function(d,g){return d=up(this,{top:d,left:0},g||"page").top,To(this.doc,d+this.display.viewOffset)},heightAtLine:function(d,g,b){var T=!1,k;if(typeof d=="number"){var j=this.doc.first+this.doc.size-1;d<this.doc.first?d=this.doc.first:d>j&&(d=j,T=!0),k=be(this.doc,d)}else k=d;return Yu(this,k,{top:0,left:0},g||"page",b||T).top+(T?this.doc.height-Vn(k):0)},defaultTextHeight:function(){return Ps(this.display)},defaultCharWidth:function(){return ks(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(d,g,b,T,k){var j=this.display;d=po(this,Se(this.doc,d));var H=d.bottom,st=d.left;if(g.style.position="absolute",g.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(g),j.sizer.appendChild(g),T=="over")H=d.top;else if(T=="above"||T=="near"){var vt=Math.max(j.wrapper.clientHeight,this.doc.height),Lt=Math.max(j.sizer.clientWidth,j.lineSpace.clientWidth);(T=="above"||d.bottom+g.offsetHeight>vt)&&d.top>g.offsetHeight?H=d.top-g.offsetHeight:d.bottom+g.offsetHeight<=vt&&(H=d.bottom),st+g.offsetWidth>Lt&&(st=Lt-g.offsetWidth)}g.style.top=H+"px",g.style.left=g.style.right="",k=="right"?(st=j.sizer.clientWidth-g.offsetWidth,g.style.right="0px"):(k=="left"?st=0:k=="middle"&&(st=(j.sizer.clientWidth-g.offsetWidth)/2),g.style.left=st+"px"),b&&cg(this,{left:st,top:H,right:st+g.offsetWidth,bottom:H+g.offsetHeight})},triggerOnKeyDown:kr(Bf),triggerOnKeyPress:kr(nh),triggerOnKeyUp:eh,triggerOnMouseDown:kr(rh),execCommand:function(d){if(Ql.hasOwnProperty(d))return Ql[d].call(null,this)},triggerElectric:kr(function(d){Kf(this,d)}),findPosH:function(d,g,b,T){var k=1;g<0&&(k=-1,g=-g);for(var j=Se(this.doc,d),H=0;H<g&&(j=br(this.doc,j,k,b,T),!j.hitSide);++H);return j},moveH:kr(function(d,g){var b=this;this.extendSelectionsBy(function(T){return b.display.shift||b.doc.extend||T.empty()?br(b.doc,T.head,d,g,b.options.rtlMoveVisually):d<0?T.from():T.to()},He)}),deleteH:kr(function(d,g){var b=this.doc.sel,T=this.doc;b.somethingSelected()?T.replaceSelection("",null,"+delete"):Za(this,function(k){var j=br(T,k.head,d,g,!1);return d<0?{from:j,to:k.head}:{from:k.head,to:j}})}),findPosV:function(d,g,b,T){var k=1,j=T;g<0&&(k=-1,g=-g);for(var H=Se(this.doc,d),st=0;st<g;++st){var vt=po(this,H,"div");if(j==null?j=vt.left:vt.left=j,H=ch(this,vt,k,b),H.hitSide)break}return H},moveV:kr(function(d,g){var b=this,T=this.doc,k=[],j=!this.display.shift&&!T.extend&&T.sel.somethingSelected();if(T.extendSelectionsBy(function(st){if(j)return d<0?st.from():st.to();var vt=po(b,st.head,"div");st.goalColumn!=null&&(vt.left=st.goalColumn),k.push(vt.left);var Lt=ch(b,vt,d,g);return g=="page"&&st==T.sel.primary()&&yf(b,Ha(b,Lt,"div").top-vt.top),Lt},He),k.length)for(var H=0;H<T.sel.ranges.length;H++)T.sel.ranges[H].goalColumn=k[H]}),findWordAt:function(d){var g=this.doc,b=be(g,d.line).text,T=d.ch,k=d.ch;if(b){var j=this.getHelper(d,"wordChars");(d.sticky=="before"||k==b.length)&&T?--T:++k;for(var H=b.charAt(T),st=Nt(H,j)?function(vt){return Nt(vt,j)}:/\s/.test(H)?function(vt){return/\s/.test(vt)}:function(vt){return!/\s/.test(vt)&&!Nt(vt)};T>0&&st(b.charAt(T-1));)--T;for(;k<b.length&&st(b.charAt(k));)++k}return new dn(I(d.line,T),I(d.line,k))},toggleOverwrite:function(d){d!=null&&d==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?lt(this.display.cursorDiv,"CodeMirror-overwrite"):W(this.display.cursorDiv,"CodeMirror-overwrite"),un(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==gt(Wt(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:kr(function(d,g){Il(this,d,g)}),getScrollInfo:function(){var d=this.display.scroller;return{left:d.scrollLeft,top:d.scrollTop,height:d.scrollHeight-K(this)-this.display.barHeight,width:d.scrollWidth-K(this)-this.display.barWidth,clientHeight:_t(this),clientWidth:pt(this)}},scrollIntoView:kr(function(d,g){d==null?(d={from:this.doc.sel.primary().head,to:null},g==null&&(g=this.options.cursorScrollMargin)):typeof d=="number"?d={from:I(d,0),to:null}:d.from==null&&(d={from:d,to:null}),d.to||(d.to=d.from),d.margin=g||0,d.from.line!=null?xi(this,d):tr(this,d.from,d.to,d.margin)}),setSize:kr(function(d,g){var b=this,T=function(j){return typeof j=="number"||/^\d+$/.test(String(j))?j+"px":j};d!=null&&(this.display.wrapper.style.width=T(d)),g!=null&&(this.display.wrapper.style.height=T(g)),this.options.lineWrapping&&sp(this);var k=this.display.viewFrom;this.doc.iter(k,this.display.viewTo,function(j){if(j.widgets){for(var H=0;H<j.widgets.length;H++)if(j.widgets[H].noHScroll){Zi(b,k,"widget");break}}++k}),this.curOp.forceUpdate=!0,un(this,"refresh",this)}),operation:function(d){return Qr(this,d)},startOperation:function(){return Si(this)},endOperation:function(){return Ka(this)},refresh:kr(function(){var d=this.display.cachedTextHeight;_r(this),this.curOp.forceUpdate=!0,Es(this),Il(this,this.doc.scrollLeft,this.doc.scrollTop),bf(this.display),(d==null||Math.abs(d-Ps(this.display))>.5||this.options.lineWrapping)&&pf(this),un(this,"refresh",this)}),swapDoc:kr(function(d){var g=this.doc;return g.cm=null,this.state.selectingText&&this.state.selectingText(),Ls(this,d),Es(this),this.display.input.reset(),Il(this,d.scrollLeft,d.scrollTop),this.curOp.forceScroll=!0,xn(this,"swapDoc",this,g),g}),phrase:function(d){var g=this.options.phrases;return g&&Object.prototype.hasOwnProperty.call(g,d)?g[d]:d},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},So(a),a.registerHelper=function(d,g,b){p.hasOwnProperty(d)||(p[d]=a[d]={_global:[]}),p[d][g]=b},a.registerGlobalHelper=function(d,g,b,T){a.registerHelper(d,g,T),p[d]._global.push({pred:b,val:T})}}function br(a,u,p,d,g){var b=u,T=p,k=be(a,u.line),j=g&&a.direction=="rtl"?-p:p;function H(){var me=u.line+j;return me<a.first||me>=a.first+a.size?!1:(u=new I(me,u.ch,u.sticky),k=be(a,me))}function st(me){var ce;if(d=="codepoint"){var ye=k.text.charCodeAt(u.ch+(p>0?0:-1));if(isNaN(ye))ce=null;else{var ke=p>0?ye>=55296&&ye<56320:ye>=56320&&ye<57343;ce=new I(u.line,Math.max(0,Math.min(k.text.length,u.ch+p*(ke?2:1))),-p)}}else g?ce=Dg(a.cm,k,u,p):ce=Ff(k,u,p);if(ce==null)if(!me&&H())u=Vf(g,a.cm,k,u.line,j);else return!1;else u=ce;return!0}if(d=="char"||d=="codepoint")st();else if(d=="column")st(!0);else if(d=="word"||d=="group")for(var vt=null,Lt=d=="group",Ot=a.cm&&a.cm.getHelper(u,"wordChars"),Bt=!0;!(p<0&&!st(!Bt));Bt=!1){var Yt=k.text.charAt(u.ch)||`
`,ne=Nt(Yt,Ot)?"w":Lt&&Yt==`
`?"n":!Lt||/\s/.test(Yt)?null:"p";if(Lt&&!Bt&&!ne&&(ne="s"),vt&&vt!=ne){p<0&&(p=1,st(),u.sticky="after");break}if(ne&&(vt=ne),p>0&&!st(!Bt))break}var ue=fc(a,u,b,T,!0);return Ut(b,ue)&&(ue.hitSide=!0),ue}function ch(a,u,p,d){var g=a.doc,b=u.left,T;if(d=="page"){var k=Math.min(a.display.wrapper.clientHeight,ie(a).innerHeight||g(a).documentElement.clientHeight),j=Math.max(k-.5*Ps(a.display),3);T=(p>0?u.bottom:u.top)+p*j}else d=="line"&&(T=p>0?u.bottom+3:u.top-3);for(var H;H=cf(a,b,T),!!H.outside;){if(p<0?T<=0:T>=g.height){H.hitSide=!0;break}T+=p*5}return H}var an=function(a){this.cm=a,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new zt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};an.prototype.init=function(a){var u=this,p=this,d=p.cm,g=p.div=a.lineDiv;g.contentEditable=!0,qf(g,d.options.spellcheck,d.options.autocorrect,d.options.autocapitalize);function b(k){for(var j=k.target;j;j=j.parentNode){if(j==g)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(j.className))break}return!1}Ce(g,"paste",function(k){!b(k)||Ze(d,k)||lu(k,d)||E<=11&&setTimeout(er(d,function(){return u.updateFromDOM()}),20)}),Ce(g,"compositionstart",function(k){u.composing={data:k.data,done:!1}}),Ce(g,"compositionupdate",function(k){u.composing||(u.composing={data:k.data,done:!1})}),Ce(g,"compositionend",function(k){u.composing&&(k.data!=u.composing.data&&u.readFromDOMSoon(),u.composing.done=!0)}),Ce(g,"touchstart",function(){return p.forceCompositionEnd()}),Ce(g,"input",function(){u.composing||u.readFromDOMSoon()});function T(k){if(!(!b(k)||Ze(d,k))){if(d.somethingSelected())Bs({lineWise:!1,text:d.getSelections()}),k.type=="cut"&&d.replaceSelection("",null,"cut");else if(d.options.lineWiseCopyCut){var j=Yf(d);Bs({lineWise:!0,text:j.text}),k.type=="cut"&&d.operation(function(){d.setSelections(j.ranges,0,Jt),d.replaceSelection("",null,"cut")})}else return;if(k.clipboardData){k.clipboardData.clearData();var H=jo.text.join(`
`);if(k.clipboardData.setData("Text",H),k.clipboardData.getData("Text")==H){k.preventDefault();return}}var st=uh(),vt=st.firstChild;qf(vt),d.display.lineSpace.insertBefore(st,d.display.lineSpace.firstChild),vt.value=jo.text.join(`
`);var Lt=gt(g.ownerDocument);Ht(vt),setTimeout(function(){d.display.lineSpace.removeChild(st),Lt.focus(),Lt==g&&p.showPrimarySelection()},50)}}Ce(g,"copy",T),Ce(g,"cut",T)},an.prototype.screenReaderLabelChanged=function(a){a?this.div.setAttribute("aria-label",a):this.div.removeAttribute("aria-label")},an.prototype.prepareSelection=function(){var a=dp(this.cm,!1);return a.focus=gt(this.div.ownerDocument)==this.div,a},an.prototype.showSelection=function(a,u){!a||!this.cm.display.view.length||((a.focus||u)&&this.showPrimarySelection(),this.showMultipleSelections(a))},an.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},an.prototype.showPrimarySelection=function(){var a=this.getSelection(),u=this.cm,p=u.doc.sel.primary(),d=p.from(),g=p.to();if(u.display.viewTo==u.display.viewFrom||d.line>=u.display.viewTo||g.line<u.display.viewFrom){a.removeAllRanges();return}var b=mc(u,a.anchorNode,a.anchorOffset),T=mc(u,a.focusNode,a.focusOffset);if(!(b&&!b.bad&&T&&!T.bad&&rt(Qe(b,T),d)==0&&rt(Ee(b,T),g)==0)){var k=u.display.view,j=d.line>=u.display.viewFrom&&gc(u,d)||{node:k[0].measure.map[2],offset:0},H=g.line<u.display.viewTo&&gc(u,g);if(!H){var st=k[k.length-1].measure,vt=st.maps?st.maps[st.maps.length-1]:st.map;H={node:vt[vt.length-1],offset:vt[vt.length-2]-vt[vt.length-3]}}if(!j||!H){a.removeAllRanges();return}var Lt=a.rangeCount&&a.getRangeAt(0),Ot;try{Ot=B(j.node,j.offset,H.offset,H.node)}catch{}Ot&&(!v&&u.state.focused?(a.collapse(j.node,j.offset),Ot.collapsed||(a.removeAllRanges(),a.addRange(Ot))):(a.removeAllRanges(),a.addRange(Ot)),Lt&&a.anchorNode==null?a.addRange(Lt):v&&this.startGracePeriod()),this.rememberSelection()}},an.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){a.gracePeriod=!1,a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})},20)},an.prototype.showMultipleSelections=function(a){it(this.cm.display.cursorDiv,a.cursors),it(this.cm.display.selectionDiv,a.selection)},an.prototype.rememberSelection=function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode,this.lastAnchorOffset=a.anchorOffset,this.lastFocusNode=a.focusNode,this.lastFocusOffset=a.focusOffset},an.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount)return!1;var u=a.getRangeAt(0).commonAncestorContainer;return It(this.div,u)},an.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||gt(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},an.prototype.blur=function(){this.div.blur()},an.prototype.getField=function(){return this.div},an.prototype.supportsTouch=function(){return!0},an.prototype.receivedFocus=function(){var a=this,u=this;this.selectionInEditor()?setTimeout(function(){return a.pollSelection()},20):Qr(this.cm,function(){return u.cm.curOp.selectionChanged=!0});function p(){u.cm.state.focused&&(u.pollSelection(),u.polling.set(u.cm.options.pollInterval,p))}this.polling.set(this.cm.options.pollInterval,p)},an.prototype.selectionChanged=function(){var a=this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset},an.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var a=this.getSelection(),u=this.cm;if(J&&A&&this.cm.display.gutterSpecs.length&&Zf(a.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var p=mc(u,a.anchorNode,a.anchorOffset),d=mc(u,a.focusNode,a.focusOffset);p&&d&&Qr(u,function(){wr(u.doc,ra(p,d),Jt),(p.bad||d.bad)&&(u.curOp.selectionChanged=!0)})}}},an.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var a=this.cm,u=a.display,p=a.doc.sel.primary(),d=p.from(),g=p.to();if(d.ch==0&&d.line>a.firstLine()&&(d=I(d.line-1,be(a.doc,d.line-1).length)),g.ch==be(a.doc,g.line).text.length&&g.line<a.lastLine()&&(g=I(g.line+1,0)),d.line<u.viewFrom||g.line>u.viewTo-1)return!1;var b,T,k;d.line==u.viewFrom||(b=li(a,d.line))==0?(T=We(u.view[0].line),k=u.view[0].node):(T=We(u.view[b].line),k=u.view[b-1].node.nextSibling);var j=li(a,g.line),H,st;if(j==u.view.length-1?(H=u.viewTo-1,st=u.lineDiv.lastChild):(H=We(u.view[j+1].line)-1,st=u.view[j+1].node.previousSibling),!k)return!1;for(var vt=a.doc.splitLines(fh(a,k,st,T,H)),Lt=Xr(a.doc,I(T,0),I(H,be(a.doc,H).text.length));vt.length>1&&Lt.length>1;)if(ve(vt)==ve(Lt))vt.pop(),Lt.pop(),H--;else if(vt[0]==Lt[0])vt.shift(),Lt.shift(),T++;else break;for(var Ot=0,Bt=0,Yt=vt[0],ne=Lt[0],ue=Math.min(Yt.length,ne.length);Ot<ue&&Yt.charCodeAt(Ot)==ne.charCodeAt(Ot);)++Ot;for(var me=ve(vt),ce=ve(Lt),ye=Math.min(me.length-(vt.length==1?Ot:0),ce.length-(Lt.length==1?Ot:0));Bt<ye&&me.charCodeAt(me.length-Bt-1)==ce.charCodeAt(ce.length-Bt-1);)++Bt;if(vt.length==1&&Lt.length==1&&T==d.line)for(;Ot&&Ot>d.ch&&me.charCodeAt(me.length-Bt-1)==ce.charCodeAt(ce.length-Bt-1);)Ot--,Bt++;vt[vt.length-1]=me.slice(0,me.length-Bt).replace(/^\u200b+/,""),vt[0]=vt[0].slice(Ot).replace(/\u200b+$/,"");var ke=I(T,Ot),Pe=I(H,Lt.length?ve(Lt).length-Bt:0);if(vt.length>1||vt[0]||rt(ke,Pe))return Xa(a.doc,vt,ke,Pe,"+input"),!0},an.prototype.ensurePolled=function(){this.forceCompositionEnd()},an.prototype.reset=function(){this.forceCompositionEnd()},an.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},an.prototype.readFromDOMSoon=function(){var a=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(a.readDOMTimeout=null,a.composing)if(a.composing.done)a.composing=null;else return;a.updateFromDOM()},80))},an.prototype.updateFromDOM=function(){var a=this;(this.cm.isReadOnly()||!this.pollContent())&&Qr(this.cm,function(){return _r(a.cm)})},an.prototype.setUneditable=function(a){a.contentEditable="false"},an.prototype.onKeyPress=function(a){a.charCode==0||this.composing||(a.preventDefault(),this.cm.isReadOnly()||er(this.cm,vc)(this.cm,String.fromCharCode(a.charCode==null?a.keyCode:a.charCode),0))},an.prototype.readOnlyChanged=function(a){this.div.contentEditable=String(a!="nocursor")},an.prototype.onContextMenu=function(){},an.prototype.resetPosition=function(){},an.prototype.needsContentAttribute=!0;function gc(a,u){var p=ze(a,u.line);if(!p||p.hidden)return null;var d=be(a.doc,u.line),g=At(p,d,u.line),b=tn(d,a.doc.direction),T="left";if(b){var k=rn(b,u.ch);T=k%2?"right":"left"}var j=Ml(g.map,u.ch,T);return j.offset=j.collapse=="right"?j.end:j.start,j}function Zf(a){for(var u=a;u;u=u.parentNode)if(/CodeMirror-gutter-wrapper/.test(u.className))return!0;return!1}function Ei(a,u){return u&&(a.bad=!0),a}function fh(a,u,p,d,g){var b="",T=!1,k=a.doc.lineSeparator(),j=!1;function H(Ot){return function(Bt){return Bt.id==Ot}}function st(){T&&(b+=k,j&&(b+=k),T=j=!1)}function vt(Ot){Ot&&(st(),b+=Ot)}function Lt(Ot){if(Ot.nodeType==1){var Bt=Ot.getAttribute("cm-text");if(Bt){vt(Bt);return}var Yt=Ot.getAttribute("cm-marker"),ne;if(Yt){var ue=a.findMarks(I(d,0),I(g+1,0),H(+Yt));ue.length&&(ne=ue[0].find(0))&&vt(Xr(a.doc,ne.from,ne.to).join(k));return}if(Ot.getAttribute("contenteditable")=="false")return;var me=/^(pre|div|p|li|table|br)$/i.test(Ot.nodeName);if(!/^br$/i.test(Ot.nodeName)&&Ot.textContent.length==0)return;me&&st();for(var ce=0;ce<Ot.childNodes.length;ce++)Lt(Ot.childNodes[ce]);/^(pre|p)$/i.test(Ot.nodeName)&&(j=!0),me&&(T=!0)}else Ot.nodeType==3&&vt(Ot.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Lt(u),u!=p;)u=u.nextSibling,j=!1;return b}function mc(a,u,p){var d;if(u==a.display.lineDiv){if(d=a.display.lineDiv.childNodes[p],!d)return Ei(a.clipPos(I(a.display.viewTo-1)),!0);u=null,p=0}else for(d=u;;d=d.parentNode){if(!d||d==a.display.lineDiv)return null;if(d.parentNode&&d.parentNode==a.display.lineDiv)break}for(var g=0;g<a.display.view.length;g++){var b=a.display.view[g];if(b.node==d)return Ug(b,u,p)}}function Ug(a,u,p){var d=a.text.firstChild,g=!1;if(!u||!It(d,u))return Ei(I(We(a.line),0),!0);if(u==d&&(g=!0,u=d.childNodes[p],p=0,!u)){var b=a.rest?ve(a.rest):a.line;return Ei(I(We(b),b.text.length),g)}var T=u.nodeType==3?u:null,k=u;for(!T&&u.childNodes.length==1&&u.firstChild.nodeType==3&&(T=u.firstChild,p&&(p=T.nodeValue.length));k.parentNode!=d;)k=k.parentNode;var j=a.measure,H=j.maps;function st(ne,ue,me){for(var ce=-1;ce<(H?H.length:0);ce++)for(var ye=ce<0?j.map:H[ce],ke=0;ke<ye.length;ke+=3){var Pe=ye[ke+2];if(Pe==ne||Pe==ue){var Ke=We(ce<0?a.line:a.rest[ce]),mn=ye[ke]+me;return(me<0||Pe!=ne)&&(mn=ye[ke+(me?1:0)]),I(Ke,mn)}}}var vt=st(T,k,p);if(vt)return Ei(vt,g);for(var Lt=k.nextSibling,Ot=T?T.nodeValue.length-p:0;Lt;Lt=Lt.nextSibling){if(vt=st(Lt,Lt.firstChild,0),vt)return Ei(I(vt.line,vt.ch-Ot),g);Ot+=Lt.textContent.length}for(var Bt=k.previousSibling,Yt=p;Bt;Bt=Bt.previousSibling){if(vt=st(Bt,Bt.firstChild,-1),vt)return Ei(I(vt.line,vt.ch+Yt),g);Yt+=Bt.textContent.length}}var Hn=function(a){this.cm=a,this.prevInput="",this.pollingFast=!1,this.polling=new zt,this.hasSelection=!1,this.composing=null,this.resetting=!1};Hn.prototype.init=function(a){var u=this,p=this,d=this.cm;this.createField(a);var g=this.textarea;a.wrapper.insertBefore(this.wrapper,a.wrapper.firstChild),Z&&(g.style.width="0px"),Ce(g,"input",function(){S&&E>=9&&u.hasSelection&&(u.hasSelection=null),p.poll()}),Ce(g,"paste",function(T){Ze(d,T)||lu(T,d)||(d.state.pasteIncoming=+new Date,p.fastPoll())});function b(T){if(!Ze(d,T)){if(d.somethingSelected())Bs({lineWise:!1,text:d.getSelections()});else if(d.options.lineWiseCopyCut){var k=Yf(d);Bs({lineWise:!0,text:k.text}),T.type=="cut"?d.setSelections(k.ranges,null,Jt):(p.prevInput="",g.value=k.text.join(`
`),Ht(g))}else return;T.type=="cut"&&(d.state.cutIncoming=+new Date)}}Ce(g,"cut",b),Ce(g,"copy",b),Ce(a.scroller,"paste",function(T){if(!(fo(a,T)||Ze(d,T))){if(!g.dispatchEvent){d.state.pasteIncoming=+new Date,p.focus();return}var k=new Event("paste");k.clipboardData=T.clipboardData,g.dispatchEvent(k)}}),Ce(a.lineSpace,"selectstart",function(T){fo(a,T)||tt(T)}),Ce(g,"compositionstart",function(){var T=d.getCursor("from");p.composing&&p.composing.range.clear(),p.composing={start:T,range:d.markText(T,d.getCursor("to"),{className:"CodeMirror-composing"})}}),Ce(g,"compositionend",function(){p.composing&&(p.poll(),p.composing.range.clear(),p.composing=null)})},Hn.prototype.createField=function(a){this.wrapper=uh(),this.textarea=this.wrapper.firstChild;var u=this.cm.options;qf(this.textarea,u.spellcheck,u.autocorrect,u.autocapitalize)},Hn.prototype.screenReaderLabelChanged=function(a){a?this.textarea.setAttribute("aria-label",a):this.textarea.removeAttribute("aria-label")},Hn.prototype.prepareSelection=function(){var a=this.cm,u=a.display,p=a.doc,d=dp(a);if(a.options.moveInputWithCursor){var g=po(a,p.sel.primary().head,"div"),b=u.wrapper.getBoundingClientRect(),T=u.lineDiv.getBoundingClientRect();d.teTop=Math.max(0,Math.min(u.wrapper.clientHeight-10,g.top+T.top-b.top)),d.teLeft=Math.max(0,Math.min(u.wrapper.clientWidth-10,g.left+T.left-b.left))}return d},Hn.prototype.showSelection=function(a){var u=this.cm,p=u.display;it(p.cursorDiv,a.cursors),it(p.selectionDiv,a.selection),a.teTop!=null&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")},Hn.prototype.reset=function(a){if(!(this.contextMenuPending||this.composing&&a)){var u=this.cm;if(this.resetting=!0,u.somethingSelected()){this.prevInput="";var p=u.getSelection();this.textarea.value=p,u.state.focused&&Ht(this.textarea),S&&E>=9&&(this.hasSelection=p)}else a||(this.prevInput=this.textarea.value="",S&&E>=9&&(this.hasSelection=null));this.resetting=!1}},Hn.prototype.getField=function(){return this.textarea},Hn.prototype.supportsTouch=function(){return!1},Hn.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!G||gt(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},Hn.prototype.blur=function(){this.textarea.blur()},Hn.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Hn.prototype.receivedFocus=function(){this.slowPoll()},Hn.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){a.poll(),a.cm.state.focused&&a.slowPoll()})},Hn.prototype.fastPoll=function(){var a=!1,u=this;u.pollingFast=!0;function p(){var d=u.poll();!d&&!a?(a=!0,u.polling.set(60,p)):(u.pollingFast=!1,u.slowPoll())}u.polling.set(20,p)},Hn.prototype.poll=function(){var a=this,u=this.cm,p=this.textarea,d=this.prevInput;if(this.contextMenuPending||this.resetting||!u.state.focused||Gr(p)&&!d&&!this.composing||u.isReadOnly()||u.options.disableInput||u.state.keySeq)return!1;var g=p.value;if(g==d&&!u.somethingSelected())return!1;if(S&&E>=9&&this.hasSelection===g||X&&/[\uf700-\uf7ff]/.test(g))return u.display.input.reset(),!1;if(u.doc.sel==u.display.selForContextMenu){var b=g.charCodeAt(0);if(b==8203&&!d&&(d=""),b==8666)return this.reset(),this.cm.execCommand("undo")}for(var T=0,k=Math.min(d.length,g.length);T<k&&d.charCodeAt(T)==g.charCodeAt(T);)++T;return Qr(u,function(){vc(u,g.slice(T),d.length-T,null,a.composing?"*compose":null),g.length>1e3||g.indexOf(`
`)>-1?p.value=a.prevInput="":a.prevInput=g,a.composing&&(a.composing.range.clear(),a.composing.range=u.markText(a.composing.start,u.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Hn.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Hn.prototype.onKeyPress=function(){S&&E>=9&&(this.hasSelection=null),this.fastPoll()},Hn.prototype.onContextMenu=function(a){var u=this,p=u.cm,d=p.display,g=u.textarea;u.contextMenuPending&&u.contextMenuPending();var b=Ba(p,a),T=d.scroller.scrollTop;if(!b||R)return;var k=p.options.resetSelectionOnContextMenu;k&&p.doc.sel.contains(b)==-1&&er(p,wr)(p.doc,ra(b),Jt);var j=g.style.cssText,H=u.wrapper.style.cssText,st=u.wrapper.offsetParent.getBoundingClientRect();u.wrapper.style.cssText="position: static",g.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(a.clientY-st.top-5)+"px; left: "+(a.clientX-st.left-5)+`px;
      z-index: 1000; background: `+(S?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var vt;O&&(vt=g.ownerDocument.defaultView.scrollY),d.input.focus(),O&&g.ownerDocument.defaultView.scrollTo(null,vt),d.input.reset(),p.somethingSelected()||(g.value=u.prevInput=" "),u.contextMenuPending=Ot,d.selForContextMenu=p.doc.sel,clearTimeout(d.detectingSelectAll);function Lt(){if(g.selectionStart!=null){var Yt=p.somethingSelected(),ne=""+(Yt?g.value:"");g.value="",g.value=ne,u.prevInput=Yt?"":"",g.selectionStart=1,g.selectionEnd=ne.length,d.selForContextMenu=p.doc.sel}}function Ot(){if(u.contextMenuPending==Ot&&(u.contextMenuPending=!1,u.wrapper.style.cssText=H,g.style.cssText=j,S&&E<9&&d.scrollbars.setScrollTop(d.scroller.scrollTop=T),g.selectionStart!=null)){(!S||S&&E<9)&&Lt();var Yt=0,ne=function(){d.selForContextMenu==p.doc.sel&&g.selectionStart==0&&g.selectionEnd>0&&u.prevInput==""?er(p,$l)(p):Yt++<10?d.detectingSelectAll=setTimeout(ne,500):(d.selForContextMenu=null,d.input.reset())};d.detectingSelectAll=setTimeout(ne,200)}}if(S&&E>=9&&Lt(),Q){$t(a);var Bt=function(){Re(window,"mouseup",Bt),setTimeout(Ot,20)};Ce(window,"mouseup",Bt)}else setTimeout(Ot,50)},Hn.prototype.readOnlyChanged=function(a){a||this.reset(),this.textarea.disabled=a=="nocursor",this.textarea.readOnly=!!a},Hn.prototype.setUneditable=function(){},Hn.prototype.needsContentAttribute=!1;function Wg(a,u){if(u=u?Zt(u):{},u.value=a.value,!u.tabindex&&a.tabIndex&&(u.tabindex=a.tabIndex),!u.placeholder&&a.placeholder&&(u.placeholder=a.placeholder),u.autofocus==null){var p=gt(a.ownerDocument);u.autofocus=p==a||a.getAttribute("autofocus")!=null&&p==document.body}function d(){a.value=k.getValue()}var g;if(a.form&&(Ce(a.form,"submit",d),!u.leaveSubmitMethodAlone)){var b=a.form;g=b.submit;try{var T=b.submit=function(){d(),b.submit=g,b.submit(),b.submit=T}}catch{}}u.finishInit=function(j){j.save=d,j.getTextArea=function(){return a},j.toTextArea=function(){j.toTextArea=isNaN,d(),a.parentNode.removeChild(j.getWrapperElement()),a.style.display="",a.form&&(Re(a.form,"submit",d),!u.leaveSubmitMethodAlone&&typeof a.form.submit=="function"&&(a.form.submit=g))}},a.style.display="none";var k=wn(function(j){return a.parentNode.insertBefore(j,a.nextSibling)},u);return k}function $g(a){a.off=Re,a.on=Ce,a.wheelEventPixels=_g,a.Doc=Vr,a.splitLines=gr,a.countColumn=St,a.findColumn=pn,a.isWordChar=ct,a.Pass=ae,a.signal=un,a.Line=Wn,a.changeEnd=oa,a.scrollbarModel=gp,a.Pos=I,a.cmpPos=rt,a.modes=Zn,a.mimeModes=Kr,a.resolveMode=ao,a.getMode=mr,a.modeExtensions=Jn,a.extendMode=ri,a.copyState=Yr,a.startState=_i,a.innerMode=qr,a.commands=Ql,a.keyMap=ui,a.keyName=Zp,a.isModifierKey=Xp,a.lookupKey=Hs,a.normalizeKeyMap=Jl,a.StringStream=cn,a.SharedTextMarker=Rs,a.TextMarker=sa,a.LineWidget=Lo,a.e_preventDefault=tt,a.e_stopPropagation=wt,a.e_stop=$t,a.addClass=lt,a.contains=It,a.rmClass=W,a.keyNames=la}Bg(wn),Xf(wn);var uu="iter insert remove copy getEditor constructor".split(" ");for(var cu in Vr.prototype)Vr.prototype.hasOwnProperty(cu)&&Kt(uu,cu)<0&&(wn.prototype[cu]=function(a){return function(){return a.apply(this.doc,arguments)}}(Vr.prototype[cu]));return So(Vr),wn.inputStyles={textarea:Hn,contenteditable:an},wn.defineMode=function(a){!wn.defaults.mode&&a!="null"&&(wn.defaults.mode=a),Oo.apply(this,arguments)},wn.defineMIME=Hi,wn.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}}),wn.defineMIME("text/plain","null"),wn.defineExtension=function(a,u){wn.prototype[a]=u},wn.defineDocExtension=function(a,u){Vr.prototype[a]=u},wn.fromTextArea=Wg,$g(wn),wn.version="5.65.15",wn})},629:(i,s,f)=>{(function(v){v(f(631))})(function(v){v.defineMode("css",function(W,Y){var it=Y.inline;Y.propertyKeywords||(Y=v.resolveMode("text/css"));var U=W.indentUnit,dt=Y.tokenHooks,B=Y.documentTypes||{},It=Y.mediaTypes||{},gt=Y.mediaFeatures||{},lt=Y.mediaValueKeywords||{},kt=Y.propertyKeywords||{},Ht=Y.nonStandardPropertyKeywords||{},Wt=Y.fontProperties||{},ie=Y.counterDescriptors||{},qt=Y.colorKeywords||{},Zt=Y.valueKeywords||{},St=Y.allowNested,zt=Y.lineComment,Kt=Y.supportsAtComponent===!0,le=W.highlightNonStandardPropertyKeywords!==!1,ae,Jt;function ge(ct,Nt){return ae=Nt,ct}function He(ct,Nt){var Pt=ct.next();if(dt[Pt]){var xe=dt[Pt](ct,Nt);if(xe!==!1)return xe}if(Pt=="@")return ct.eatWhile(/[\w\\\-]/),ge("def",ct.current());if(Pt=="="||(Pt=="~"||Pt=="|")&&ct.eat("="))return ge(null,"compare");if(Pt=='"'||Pt=="'")return Nt.tokenize=pn(Pt),Nt.tokenize(ct,Nt);if(Pt=="#")return ct.eatWhile(/[\w\\\-]/),ge("atom","hash");if(Pt=="!")return ct.match(/^\s*\w*/),ge("keyword","important");if(/\d/.test(Pt)||Pt=="."&&ct.eat(/\d/))return ct.eatWhile(/[\w.%]/),ge("number","unit");if(Pt==="-"){if(/[\d.]/.test(ct.peek()))return ct.eatWhile(/[\w.%]/),ge("number","unit");if(ct.match(/^-[\w\\\-]*/))return ct.eatWhile(/[\w\\\-]/),ct.match(/^\s*:/,!1)?ge("variable-2","variable-definition"):ge("variable-2","variable");if(ct.match(/^\w+-/))return ge("meta","meta")}else return/[,+>*\/]/.test(Pt)?ge(null,"select-op"):Pt=="."&&ct.match(/^-?[_a-z][_a-z0-9-]*/i)?ge("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(Pt)?ge(null,Pt):ct.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(ct.current())&&(Nt.tokenize=jn),ge("variable callee","variable")):/[\w\\\-]/.test(Pt)?(ct.eatWhile(/[\w\\\-]/),ge("property","word")):ge(null,null)}function pn(ct){return function(Nt,Pt){for(var xe=!1,Xe;(Xe=Nt.next())!=null;){if(Xe==ct&&!xe){ct==")"&&Nt.backUp(1);break}xe=!xe&&Xe=="\\"}return(Xe==ct||!xe&&ct!=")")&&(Pt.tokenize=null),ge("string","string")}}function jn(ct,Nt){return ct.next(),ct.match(/^\s*[\"\')]/,!1)?Nt.tokenize=null:Nt.tokenize=pn(")"),ge(null,"(")}function gn(ct,Nt,Pt){this.type=ct,this.indent=Nt,this.prev=Pt}function ve(ct,Nt,Pt,xe){return ct.context=new gn(Pt,Nt.indentation()+(xe===!1?0:U),ct.context),Pt}function F(ct){return ct.context.prev&&(ct.context=ct.context.prev),ct.context.type}function et(ct,Nt,Pt){return Vt[Pt.context.type](ct,Nt,Pt)}function ht(ct,Nt,Pt,xe){for(var Xe=xe||1;Xe>0;Xe--)Pt.context=Pt.context.prev;return et(ct,Nt,Pt)}function Et(ct){var Nt=ct.current().toLowerCase();Zt.hasOwnProperty(Nt)?Jt="atom":qt.hasOwnProperty(Nt)?Jt="keyword":Jt="variable"}var Vt={};return Vt.top=function(ct,Nt,Pt){if(ct=="{")return ve(Pt,Nt,"block");if(ct=="}"&&Pt.context.prev)return F(Pt);if(Kt&&/@component/i.test(ct))return ve(Pt,Nt,"atComponentBlock");if(/^@(-moz-)?document$/i.test(ct))return ve(Pt,Nt,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(ct))return ve(Pt,Nt,"atBlock");if(/^@(font-face|counter-style)/i.test(ct))return Pt.stateArg=ct,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(ct))return"keyframes";if(ct&&ct.charAt(0)=="@")return ve(Pt,Nt,"at");if(ct=="hash")Jt="builtin";else if(ct=="word")Jt="tag";else{if(ct=="variable-definition")return"maybeprop";if(ct=="interpolation")return ve(Pt,Nt,"interpolation");if(ct==":")return"pseudo";if(St&&ct=="(")return ve(Pt,Nt,"parens")}return Pt.context.type},Vt.block=function(ct,Nt,Pt){if(ct=="word"){var xe=Nt.current().toLowerCase();return kt.hasOwnProperty(xe)?(Jt="property","maybeprop"):Ht.hasOwnProperty(xe)?(Jt=le?"string-2":"property","maybeprop"):St?(Jt=Nt.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(Jt+=" error","maybeprop")}else return ct=="meta"?"block":!St&&(ct=="hash"||ct=="qualifier")?(Jt="error","block"):Vt.top(ct,Nt,Pt)},Vt.maybeprop=function(ct,Nt,Pt){return ct==":"?ve(Pt,Nt,"prop"):et(ct,Nt,Pt)},Vt.prop=function(ct,Nt,Pt){if(ct==";")return F(Pt);if(ct=="{"&&St)return ve(Pt,Nt,"propBlock");if(ct=="}"||ct=="{")return ht(ct,Nt,Pt);if(ct=="(")return ve(Pt,Nt,"parens");if(ct=="hash"&&!/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(Nt.current()))Jt+=" error";else if(ct=="word")Et(Nt);else if(ct=="interpolation")return ve(Pt,Nt,"interpolation");return"prop"},Vt.propBlock=function(ct,Nt,Pt){return ct=="}"?F(Pt):ct=="word"?(Jt="property","maybeprop"):Pt.context.type},Vt.parens=function(ct,Nt,Pt){return ct=="{"||ct=="}"?ht(ct,Nt,Pt):ct==")"?F(Pt):ct=="("?ve(Pt,Nt,"parens"):ct=="interpolation"?ve(Pt,Nt,"interpolation"):(ct=="word"&&Et(Nt),"parens")},Vt.pseudo=function(ct,Nt,Pt){return ct=="meta"?"pseudo":ct=="word"?(Jt="variable-3",Pt.context.type):et(ct,Nt,Pt)},Vt.documentTypes=function(ct,Nt,Pt){return ct=="word"&&B.hasOwnProperty(Nt.current())?(Jt="tag",Pt.context.type):Vt.atBlock(ct,Nt,Pt)},Vt.atBlock=function(ct,Nt,Pt){if(ct=="(")return ve(Pt,Nt,"atBlock_parens");if(ct=="}"||ct==";")return ht(ct,Nt,Pt);if(ct=="{")return F(Pt)&&ve(Pt,Nt,St?"block":"top");if(ct=="interpolation")return ve(Pt,Nt,"interpolation");if(ct=="word"){var xe=Nt.current().toLowerCase();xe=="only"||xe=="not"||xe=="and"||xe=="or"?Jt="keyword":It.hasOwnProperty(xe)?Jt="attribute":gt.hasOwnProperty(xe)?Jt="property":lt.hasOwnProperty(xe)?Jt="keyword":kt.hasOwnProperty(xe)?Jt="property":Ht.hasOwnProperty(xe)?Jt=le?"string-2":"property":Zt.hasOwnProperty(xe)?Jt="atom":qt.hasOwnProperty(xe)?Jt="keyword":Jt="error"}return Pt.context.type},Vt.atComponentBlock=function(ct,Nt,Pt){return ct=="}"?ht(ct,Nt,Pt):ct=="{"?F(Pt)&&ve(Pt,Nt,St?"block":"top",!1):(ct=="word"&&(Jt="error"),Pt.context.type)},Vt.atBlock_parens=function(ct,Nt,Pt){return ct==")"?F(Pt):ct=="{"||ct=="}"?ht(ct,Nt,Pt,2):Vt.atBlock(ct,Nt,Pt)},Vt.restricted_atBlock_before=function(ct,Nt,Pt){return ct=="{"?ve(Pt,Nt,"restricted_atBlock"):ct=="word"&&Pt.stateArg=="@counter-style"?(Jt="variable","restricted_atBlock_before"):et(ct,Nt,Pt)},Vt.restricted_atBlock=function(ct,Nt,Pt){return ct=="}"?(Pt.stateArg=null,F(Pt)):ct=="word"?(Pt.stateArg=="@font-face"&&!Wt.hasOwnProperty(Nt.current().toLowerCase())||Pt.stateArg=="@counter-style"&&!ie.hasOwnProperty(Nt.current().toLowerCase())?Jt="error":Jt="property","maybeprop"):"restricted_atBlock"},Vt.keyframes=function(ct,Nt,Pt){return ct=="word"?(Jt="variable","keyframes"):ct=="{"?ve(Pt,Nt,"top"):et(ct,Nt,Pt)},Vt.at=function(ct,Nt,Pt){return ct==";"?F(Pt):ct=="{"||ct=="}"?ht(ct,Nt,Pt):(ct=="word"?Jt="tag":ct=="hash"&&(Jt="builtin"),"at")},Vt.interpolation=function(ct,Nt,Pt){return ct=="}"?F(Pt):ct=="{"||ct==";"?ht(ct,Nt,Pt):(ct=="word"?Jt="variable":ct!="variable"&&ct!="("&&ct!=")"&&(Jt="error"),"interpolation")},{startState:function(ct){return{tokenize:null,state:it?"block":"top",stateArg:null,context:new gn(it?"block":"top",ct||0,null)}},token:function(ct,Nt){if(!Nt.tokenize&&ct.eatSpace())return null;var Pt=(Nt.tokenize||He)(ct,Nt);return Pt&&typeof Pt=="object"&&(ae=Pt[1],Pt=Pt[0]),Jt=Pt,ae!="comment"&&(Nt.state=Vt[Nt.state](ae,ct,Nt)),Jt},indent:function(ct,Nt){var Pt=ct.context,xe=Nt&&Nt.charAt(0),Xe=Pt.indent;return Pt.type=="prop"&&(xe=="}"||xe==")")&&(Pt=Pt.prev),Pt.prev&&(xe=="}"&&(Pt.type=="block"||Pt.type=="top"||Pt.type=="interpolation"||Pt.type=="restricted_atBlock")?(Pt=Pt.prev,Xe=Pt.indent):(xe==")"&&(Pt.type=="parens"||Pt.type=="atBlock_parens")||xe=="{"&&(Pt.type=="at"||Pt.type=="atBlock"))&&(Xe=Math.max(0,Pt.indent-U))),Xe},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:zt,fold:"brace"}});function _(W){for(var Y={},it=0;it<W.length;++it)Y[W[it].toLowerCase()]=!0;return Y}var w=["domain","regexp","url","url-prefix"],x=_(w),S=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],E=_(S),O=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],M=_(O),A=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],L=_(A),R=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],$=_(R),at=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],mt=_(at),Z=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],J=_(Z),G=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],X=_(G),yt=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],bt=_(yt),Tt=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],Ct=_(Tt),Q=w.concat(S).concat(O).concat(A).concat(R).concat(at).concat(yt).concat(Tt);v.registerHelper("hintWords","css",Q);function V(W,Y){for(var it=!1,U;(U=W.next())!=null;){if(it&&U=="/"){Y.tokenize=null;break}it=U=="*"}return["comment","comment"]}v.defineMIME("text/css",{documentTypes:x,mediaTypes:E,mediaFeatures:M,mediaValueKeywords:L,propertyKeywords:$,nonStandardPropertyKeywords:mt,fontProperties:J,counterDescriptors:X,colorKeywords:bt,valueKeywords:Ct,tokenHooks:{"/":function(W,Y){return W.eat("*")?(Y.tokenize=V,V(W,Y)):!1}},name:"css"}),v.defineMIME("text/x-scss",{mediaTypes:E,mediaFeatures:M,mediaValueKeywords:L,propertyKeywords:$,nonStandardPropertyKeywords:mt,colorKeywords:bt,valueKeywords:Ct,fontProperties:J,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(W,Y){return W.eat("/")?(W.skipToEnd(),["comment","comment"]):W.eat("*")?(Y.tokenize=V,V(W,Y)):["operator","operator"]},":":function(W){return W.match(/^\s*\{/,!1)?[null,null]:!1},$:function(W){return W.match(/^[\w-]+/),W.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(W){return W.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),v.defineMIME("text/x-less",{mediaTypes:E,mediaFeatures:M,mediaValueKeywords:L,propertyKeywords:$,nonStandardPropertyKeywords:mt,colorKeywords:bt,valueKeywords:Ct,fontProperties:J,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(W,Y){return W.eat("/")?(W.skipToEnd(),["comment","comment"]):W.eat("*")?(Y.tokenize=V,V(W,Y)):["operator","operator"]},"@":function(W){return W.eat("{")?[null,"interpolation"]:W.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(W.eatWhile(/[\w\\\-]/),W.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),v.defineMIME("text/x-gss",{documentTypes:x,mediaTypes:E,mediaFeatures:M,propertyKeywords:$,nonStandardPropertyKeywords:mt,fontProperties:J,counterDescriptors:X,colorKeywords:bt,valueKeywords:Ct,supportsAtComponent:!0,tokenHooks:{"/":function(W,Y){return W.eat("*")?(Y.tokenize=V,V(W,Y)):!1}},name:"css",helperType:"gss"})})},531:(i,s,f)=>{(function(v){v(f(631),f(589),f(876),f(629))})(function(v){var _={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function w(L,R,$){var at=L.current(),mt=at.search(R);return mt>-1?L.backUp(at.length-mt):at.match(/<\/?$/)&&(L.backUp(at.length),L.match(R,!1)||L.match(at)),$}var x={};function S(L){var R=x[L];return R||(x[L]=new RegExp("\\s+"+L+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function E(L,R){var $=L.match(S(R));return $?/^\s*(.*?)\s*$/.exec($[2])[1]:""}function O(L,R){return new RegExp((R?"^":"")+"</\\s*"+L+"\\s*>","i")}function M(L,R){for(var $ in L)for(var at=R[$]||(R[$]=[]),mt=L[$],Z=mt.length-1;Z>=0;Z--)at.unshift(mt[Z])}function A(L,R){for(var $=0;$<L.length;$++){var at=L[$];if(!at[0]||at[1].test(E(R,at[0])))return at[2]}}v.defineMode("htmlmixed",function(L,R){var $=v.getMode(L,{name:"xml",htmlMode:!0,multilineTagIndentFactor:R.multilineTagIndentFactor,multilineTagIndentPastTag:R.multilineTagIndentPastTag,allowMissingTagName:R.allowMissingTagName}),at={},mt=R&&R.tags,Z=R&&R.scriptTypes;if(M(_,at),mt&&M(mt,at),Z)for(var J=Z.length-1;J>=0;J--)at.script.unshift(["type",Z[J].matches,Z[J].mode]);function G(X,yt){var bt=$.token(X,yt.htmlState),Tt=/\btag\b/.test(bt),Ct;if(Tt&&!/[<>\s\/]/.test(X.current())&&(Ct=yt.htmlState.tagName&&yt.htmlState.tagName.toLowerCase())&&at.hasOwnProperty(Ct))yt.inTag=Ct+" ";else if(yt.inTag&&Tt&&/>$/.test(X.current())){var Q=/^([\S]+) (.*)/.exec(yt.inTag);yt.inTag=null;var V=X.current()==">"&&A(at[Q[1]],Q[2]),W=v.getMode(L,V),Y=O(Q[1],!0),it=O(Q[1],!1);yt.token=function(U,dt){return U.match(Y,!1)?(dt.token=G,dt.localState=dt.localMode=null,null):w(U,it,dt.localMode.token(U,dt.localState))},yt.localMode=W,yt.localState=v.startState(W,$.indent(yt.htmlState,"",""))}else yt.inTag&&(yt.inTag+=X.current(),X.eol()&&(yt.inTag+=" "));return bt}return{startState:function(){var X=v.startState($);return{token:G,inTag:null,localMode:null,localState:null,htmlState:X}},copyState:function(X){var yt;return X.localState&&(yt=v.copyState(X.localMode,X.localState)),{token:X.token,inTag:X.inTag,localMode:X.localMode,localState:yt,htmlState:v.copyState($,X.htmlState)}},token:function(X,yt){return yt.token(X,yt)},indent:function(X,yt,bt){return!X.localMode||/^\s*<\//.test(yt)?$.indent(X.htmlState,yt,bt):X.localMode.indent?X.localMode.indent(X.localState,yt,bt):v.Pass},innerMode:function(X){return{state:X.localState||X.htmlState,mode:X.localMode||$}}}},"xml","javascript","css"),v.defineMIME("text/html","htmlmixed")})},876:(i,s,f)=>{(function(v){v(f(631))})(function(v){v.defineMode("javascript",function(_,w){var x=_.indentUnit,S=w.statementIndent,E=w.jsonld,O=w.json||E,M=w.trackScope!==!1,A=w.typescript,L=w.wordCharacters||/[\w$\xa1-\uffff]/,R=function(){function I(Se){return{type:Se,style:"keyword"}}var rt=I("keyword a"),Ut=I("keyword b"),te=I("keyword c"),Ee=I("keyword d"),Qe=I("operator"),on={type:"atom",style:"atom"};return{if:I("if"),while:rt,with:rt,else:Ut,do:Ut,try:Ut,finally:Ut,return:Ee,break:Ee,continue:Ee,new:I("new"),delete:te,void:te,throw:te,debugger:I("debugger"),var:I("var"),const:I("var"),let:I("var"),function:I("function"),catch:I("catch"),for:I("for"),switch:I("switch"),case:I("case"),default:I("default"),in:Qe,typeof:Qe,instanceof:Qe,true:on,false:on,null:on,undefined:on,NaN:on,Infinity:on,this:I("this"),class:I("class"),super:I("atom"),yield:te,export:I("export"),import:I("import"),extends:te,await:te}}(),$=/[+\-*&%=<>!?|~^@]/,at=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function mt(I){for(var rt=!1,Ut,te=!1;(Ut=I.next())!=null;){if(!rt){if(Ut=="/"&&!te)return;Ut=="["?te=!0:te&&Ut=="]"&&(te=!1)}rt=!rt&&Ut=="\\"}}var Z,J;function G(I,rt,Ut){return Z=I,J=Ut,rt}function X(I,rt){var Ut=I.next();if(Ut=='"'||Ut=="'")return rt.tokenize=yt(Ut),rt.tokenize(I,rt);if(Ut=="."&&I.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return G("number","number");if(Ut=="."&&I.match(".."))return G("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Ut))return G(Ut);if(Ut=="="&&I.eat(">"))return G("=>","operator");if(Ut=="0"&&I.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return G("number","number");if(/\d/.test(Ut))return I.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),G("number","number");if(Ut=="/")return I.eat("*")?(rt.tokenize=bt,bt(I,rt)):I.eat("/")?(I.skipToEnd(),G("comment","comment")):Uo(I,rt,1)?(mt(I),I.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),G("regexp","string-2")):(I.eat("="),G("operator","operator",I.current()));if(Ut=="`")return rt.tokenize=Tt,Tt(I,rt);if(Ut=="#"&&I.peek()=="!")return I.skipToEnd(),G("meta","meta");if(Ut=="#"&&I.eatWhile(L))return G("variable","property");if(Ut=="<"&&I.match("!--")||Ut=="-"&&I.match("->")&&!/\S/.test(I.string.slice(0,I.start)))return I.skipToEnd(),G("comment","comment");if($.test(Ut))return(Ut!=">"||!rt.lexical||rt.lexical.type!=">")&&(I.eat("=")?(Ut=="!"||Ut=="=")&&I.eat("="):/[<>*+\-|&?]/.test(Ut)&&(I.eat(Ut),Ut==">"&&I.eat(Ut))),Ut=="?"&&I.eat(".")?G("."):G("operator","operator",I.current());if(L.test(Ut)){I.eatWhile(L);var te=I.current();if(rt.lastType!="."){if(R.propertyIsEnumerable(te)){var Ee=R[te];return G(Ee.type,Ee.style,te)}if(te=="async"&&I.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return G("async","keyword",te)}return G("variable","variable",te)}}function yt(I){return function(rt,Ut){var te=!1,Ee;if(E&&rt.peek()=="@"&&rt.match(at))return Ut.tokenize=X,G("jsonld-keyword","meta");for(;(Ee=rt.next())!=null&&!(Ee==I&&!te);)te=!te&&Ee=="\\";return te||(Ut.tokenize=X),G("string","string")}}function bt(I,rt){for(var Ut=!1,te;te=I.next();){if(te=="/"&&Ut){rt.tokenize=X;break}Ut=te=="*"}return G("comment","comment")}function Tt(I,rt){for(var Ut=!1,te;(te=I.next())!=null;){if(!Ut&&(te=="`"||te=="$"&&I.eat("{"))){rt.tokenize=X;break}Ut=!Ut&&te=="\\"}return G("quasi","string-2",I.current())}var Ct="([{}])";function Q(I,rt){rt.fatArrowAt&&(rt.fatArrowAt=null);var Ut=I.string.indexOf("=>",I.start);if(!(Ut<0)){if(A){var te=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(I.string.slice(I.start,Ut));te&&(Ut=te.index)}for(var Ee=0,Qe=!1,on=Ut-1;on>=0;--on){var Se=I.string.charAt(on),Ir=Ct.indexOf(Se);if(Ir>=0&&Ir<3){if(!Ee){++on;break}if(--Ee==0){Se=="("&&(Qe=!0);break}}else if(Ir>=3&&Ir<6)++Ee;else if(L.test(Se))Qe=!0;else if(/["'\/`]/.test(Se))for(;;--on){if(on==0)return;var ys=I.string.charAt(on-1);if(ys==Se&&I.string.charAt(on-2)!="\\"){on--;break}}else if(Qe&&!Ee){++on;break}}Qe&&!Ee&&(rt.fatArrowAt=on)}}var V={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function W(I,rt,Ut,te,Ee,Qe){this.indented=I,this.column=rt,this.type=Ut,this.prev=Ee,this.info=Qe,te!=null&&(this.align=te)}function Y(I,rt){if(!M)return!1;for(var Ut=I.localVars;Ut;Ut=Ut.next)if(Ut.name==rt)return!0;for(var te=I.context;te;te=te.prev)for(var Ut=te.vars;Ut;Ut=Ut.next)if(Ut.name==rt)return!0}function it(I,rt,Ut,te,Ee){var Qe=I.cc;for(U.state=I,U.stream=Ee,U.marked=null,U.cc=Qe,U.style=rt,I.lexical.hasOwnProperty("align")||(I.lexical.align=!0);;){var on=Qe.length?Qe.pop():O?ge:ae;if(on(Ut,te)){for(;Qe.length&&Qe[Qe.length-1].lex;)Qe.pop()();return U.marked?U.marked:Ut=="variable"&&Y(I,te)?"variable-2":rt}}}var U={state:null,column:null,marked:null,cc:null};function dt(){for(var I=arguments.length-1;I>=0;I--)U.cc.push(arguments[I])}function B(){return dt.apply(null,arguments),!0}function It(I,rt){for(var Ut=rt;Ut;Ut=Ut.next)if(Ut.name==I)return!0;return!1}function gt(I){var rt=U.state;if(U.marked="def",!!M){if(rt.context){if(rt.lexical.info=="var"&&rt.context&&rt.context.block){var Ut=lt(I,rt.context);if(Ut!=null){rt.context=Ut;return}}else if(!It(I,rt.localVars)){rt.localVars=new Wt(I,rt.localVars);return}}w.globalVars&&!It(I,rt.globalVars)&&(rt.globalVars=new Wt(I,rt.globalVars))}}function lt(I,rt){if(rt)if(rt.block){var Ut=lt(I,rt.prev);return Ut?Ut==rt.prev?rt:new Ht(Ut,rt.vars,!0):null}else return It(I,rt.vars)?rt:new Ht(rt.prev,new Wt(I,rt.vars),!1);else return null}function kt(I){return I=="public"||I=="private"||I=="protected"||I=="abstract"||I=="readonly"}function Ht(I,rt,Ut){this.prev=I,this.vars=rt,this.block=Ut}function Wt(I,rt){this.name=I,this.next=rt}var ie=new Wt("this",new Wt("arguments",null));function qt(){U.state.context=new Ht(U.state.context,U.state.localVars,!1),U.state.localVars=ie}function Zt(){U.state.context=new Ht(U.state.context,U.state.localVars,!0),U.state.localVars=null}qt.lex=Zt.lex=!0;function St(){U.state.localVars=U.state.context.vars,U.state.context=U.state.context.prev}St.lex=!0;function zt(I,rt){var Ut=function(){var te=U.state,Ee=te.indented;if(te.lexical.type=="stat")Ee=te.lexical.indented;else for(var Qe=te.lexical;Qe&&Qe.type==")"&&Qe.align;Qe=Qe.prev)Ee=Qe.indented;te.lexical=new W(Ee,U.stream.column(),I,null,te.lexical,rt)};return Ut.lex=!0,Ut}function Kt(){var I=U.state;I.lexical.prev&&(I.lexical.type==")"&&(I.indented=I.lexical.indented),I.lexical=I.lexical.prev)}Kt.lex=!0;function le(I){function rt(Ut){return Ut==I?B():I==";"||Ut=="}"||Ut==")"||Ut=="]"?dt():B(rt)}return rt}function ae(I,rt){return I=="var"?B(zt("vardef",rt),Me,le(";"),Kt):I=="keyword a"?B(zt("form"),pn,ae,Kt):I=="keyword b"?B(zt("form"),ae,Kt):I=="keyword d"?U.stream.match(/^\s*$/,!1)?B():B(zt("stat"),gn,le(";"),Kt):I=="debugger"?B(le(";")):I=="{"?B(zt("}"),Zt,ln,Kt,St):I==";"?B():I=="if"?(U.state.lexical.info=="else"&&U.state.cc[U.state.cc.length-1]==Kt&&U.state.cc.pop()(),B(zt("form"),pn,ae,Kt,gr)):I=="function"?B(Cn):I=="for"?B(zt("form"),Zt,Gr,ae,St,Kt):I=="class"||A&&rt=="interface"?(U.marked="keyword",B(zt("form",I=="class"?I:rt),ao,Kt)):I=="variable"?A&&rt=="declare"?(U.marked="keyword",B(ae)):A&&(rt=="module"||rt=="enum"||rt=="type")&&U.stream.match(/^\s*\w/,!1)?(U.marked="keyword",rt=="enum"?B(We):rt=="type"?B(Kr,le("operator"),Re,le(";")):B(zt("form"),Je,le("{"),zt("}"),ln,Kt,Kt)):A&&rt=="namespace"?(U.marked="keyword",B(zt("form"),ge,ae,Kt)):A&&rt=="abstract"?(U.marked="keyword",B(ae)):B(zt("stat"),xe):I=="switch"?B(zt("form"),pn,le("{"),zt("}","switch"),Zt,ln,Kt,Kt,St):I=="case"?B(ge,le(":")):I=="default"?B(le(":")):I=="catch"?B(zt("form"),qt,Jt,ae,Kt,St):I=="export"?B(zt("stat"),Yr,Kt):I=="import"?B(zt("stat"),_i,Kt):I=="async"?B(ae):rt=="@"?B(ge,ae):dt(zt("stat"),ge,le(";"),Kt)}function Jt(I){if(I=="(")return B(Oo,le(")"))}function ge(I,rt){return jn(I,rt,!1)}function He(I,rt){return jn(I,rt,!0)}function pn(I){return I!="("?dt():B(zt(")"),gn,le(")"),Kt)}function jn(I,rt,Ut){if(U.state.fatArrowAt==U.stream.start){var te=Ut?Vt:Et;if(I=="(")return B(qt,zt(")"),_e(Oo,")"),Kt,le("=>"),te,St);if(I=="variable")return dt(qt,Je,le("=>"),te,St)}var Ee=Ut?F:ve;return V.hasOwnProperty(I)?B(Ee):I=="function"?B(Cn,Ee):I=="class"||A&&rt=="interface"?(U.marked="keyword",B(zt("form"),Hi,Kt)):I=="keyword c"||I=="async"?B(Ut?He:ge):I=="("?B(zt(")"),gn,le(")"),Kt,Ee):I=="operator"||I=="spread"?B(Ut?He:ge):I=="["?B(zt("]"),Nr,Kt,Ee):I=="{"?rn(Ne,"}",null,Ee):I=="quasi"?dt(et,Ee):I=="new"?B(ct(Ut)):B()}function gn(I){return I.match(/[;\}\)\],]/)?dt():dt(ge)}function ve(I,rt){return I==","?B(gn):F(I,rt,!1)}function F(I,rt,Ut){var te=Ut==!1?ve:F,Ee=Ut==!1?ge:He;if(I=="=>")return B(qt,Ut?Vt:Et,St);if(I=="operator")return/\+\+|--/.test(rt)||A&&rt=="!"?B(te):A&&rt=="<"&&U.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?B(zt(">"),_e(Re,">"),Kt,te):rt=="?"?B(ge,le(":"),Ee):B(Ee);if(I=="quasi")return dt(et,te);if(I!=";"){if(I=="(")return rn(He,")","call",te);if(I==".")return B(Xe,te);if(I=="[")return B(zt("]"),gn,le("]"),Kt,te);if(A&&rt=="as")return U.marked="keyword",B(Re,te);if(I=="regexp")return U.state.lastType=U.marked="operator",U.stream.backUp(U.stream.pos-U.stream.start-1),B(Ee)}}function et(I,rt){return I!="quasi"?dt():rt.slice(rt.length-2)!="${"?B(et):B(gn,ht)}function ht(I){if(I=="}")return U.marked="string-2",U.state.tokenize=Tt,B(et)}function Et(I){return Q(U.stream,U.state),dt(I=="{"?ae:ge)}function Vt(I){return Q(U.stream,U.state),dt(I=="{"?ae:He)}function ct(I){return function(rt){return rt=="."?B(I?Pt:Nt):rt=="variable"&&A?B(Mt,I?F:ve):dt(I?He:ge)}}function Nt(I,rt){if(rt=="target")return U.marked="keyword",B(ve)}function Pt(I,rt){if(rt=="target")return U.marked="keyword",B(F)}function xe(I){return I==":"?B(Kt,ae):dt(ve,le(";"),Kt)}function Xe(I){if(I=="variable")return U.marked="property",B()}function Ne(I,rt){if(I=="async")return U.marked="property",B(Ne);if(I=="variable"||U.style=="keyword"){if(U.marked="property",rt=="get"||rt=="set")return B(Ge);var Ut;return A&&U.state.fatArrowAt==U.stream.start&&(Ut=U.stream.match(/^\s*:\s*/,!1))&&(U.state.fatArrowAt=U.stream.pos+Ut[0].length),B(nn)}else{if(I=="number"||I=="string")return U.marked=E?"property":U.style+" property",B(nn);if(I=="jsonld-keyword")return B(nn);if(A&&kt(rt))return U.marked="keyword",B(Ne);if(I=="[")return B(ge,tn,le("]"),nn);if(I=="spread")return B(He,nn);if(rt=="*")return U.marked="keyword",B(Ne);if(I==":")return dt(nn)}}function Ge(I){return I!="variable"?dt(nn):(U.marked="property",B(Cn))}function nn(I){if(I==":")return B(He);if(I=="(")return dt(Cn)}function _e(I,rt,Ut){function te(Ee,Qe){if(Ut?Ut.indexOf(Ee)>-1:Ee==","){var on=U.state.lexical;return on.info=="call"&&(on.pos=(on.pos||0)+1),B(function(Se,Ir){return Se==rt||Ir==rt?dt():dt(I)},te)}return Ee==rt||Qe==rt?B():Ut&&Ut.indexOf(";")>-1?dt(I):B(le(rt))}return function(Ee,Qe){return Ee==rt||Qe==rt?B():dt(I,te)}}function rn(I,rt,Ut){for(var te=3;te<arguments.length;te++)U.cc.push(arguments[te]);return B(zt(rt,Ut),_e(I,rt),Kt)}function ln(I){return I=="}"?B():dt(ae,ln)}function tn(I,rt){if(A){if(I==":")return B(Re);if(rt=="?")return B(tn)}}function Tn(I,rt){if(A&&(I==":"||rt=="in"))return B(Re)}function Ce(I){if(A&&I==":")return U.stream.match(/^\s*\w+\s+is\b/,!1)?B(ge,En,Re):B(Re)}function En(I,rt){if(rt=="is")return U.marked="keyword",B()}function Re(I,rt){if(rt=="keyof"||rt=="typeof"||rt=="infer"||rt=="readonly")return U.marked="keyword",B(rt=="typeof"?He:Re);if(I=="variable"||rt=="void")return U.marked="type",B(wt);if(rt=="|"||rt=="&")return B(Re);if(I=="string"||I=="number"||I=="atom")return B(wt);if(I=="[")return B(zt("]"),_e(Re,"]",","),Kt,wt);if(I=="{")return B(zt("}"),Ze,Kt,wt);if(I=="(")return B(_e(tt,")"),un,wt);if(I=="<")return B(_e(Re,">"),Re);if(I=="quasi")return dt(Nn,wt)}function un(I){if(I=="=>")return B(Re)}function Ze(I){return I.match(/[\}\)\]]/)?B():I==","||I==";"?B(Ze):dt(ee,Ze)}function ee(I,rt){if(I=="variable"||U.style=="keyword")return U.marked="property",B(ee);if(rt=="?"||I=="number"||I=="string")return B(ee);if(I==":")return B(Re);if(I=="[")return B(le("variable"),Tn,le("]"),ee);if(I=="(")return dt(Zn,ee);if(!I.match(/[;\}\)\],]/))return B()}function Nn(I,rt){return I!="quasi"?dt():rt.slice(rt.length-2)!="${"?B(Nn):B(Re,So)}function So(I){if(I=="}")return U.marked="string-2",U.state.tokenize=Tt,B(Nn)}function tt(I,rt){return I=="variable"&&U.stream.match(/^\s*[?:]/,!1)||rt=="?"?B(tt):I==":"?B(Re):I=="spread"?B(tt):dt(Re)}function wt(I,rt){if(rt=="<")return B(zt(">"),_e(Re,">"),Kt,wt);if(rt=="|"||I=="."||rt=="&")return B(Re);if(I=="[")return B(Re,le("]"),wt);if(rt=="extends"||rt=="implements")return U.marked="keyword",B(Re);if(rt=="?")return B(Re,le(":"),Re)}function Mt(I,rt){if(rt=="<")return B(zt(">"),_e(Re,">"),Kt,wt)}function $t(){return dt(Re,he)}function he(I,rt){if(rt=="=")return B(Re)}function Me(I,rt){return rt=="enum"?(U.marked="keyword",B(We)):dt(Je,tn,In,mi)}function Je(I,rt){if(A&&kt(rt))return U.marked="keyword",B(Je);if(I=="variable")return gt(rt),B();if(I=="spread")return B(Je);if(I=="[")return rn(vr,"]");if(I=="{")return rn(hr,"}")}function hr(I,rt){return I=="variable"&&!U.stream.match(/^\s*:/,!1)?(gt(rt),B(In)):(I=="variable"&&(U.marked="property"),I=="spread"?B(Je):I=="}"?dt():I=="["?B(ge,le("]"),le(":"),hr):B(le(":"),Je,In))}function vr(){return dt(Je,In)}function In(I,rt){if(rt=="=")return B(He)}function mi(I){if(I==",")return B(Me)}function gr(I,rt){if(I=="keyword b"&&rt=="else")return B(zt("form","else"),ae,Kt)}function Gr(I,rt){if(rt=="await")return B(Gr);if(I=="(")return B(zt(")"),yi,Kt)}function yi(I){return I=="var"?B(Me,Rn):I=="variable"?B(Rn):dt(Rn)}function Rn(I,rt){return I==")"?B():I==";"?B(Rn):rt=="in"||rt=="of"?(U.marked="keyword",B(ge,Rn)):dt(ge,Rn)}function Cn(I,rt){if(rt=="*")return U.marked="keyword",B(Cn);if(I=="variable")return gt(rt),B(Cn);if(I=="(")return B(qt,zt(")"),_e(Oo,")"),Kt,Ce,ae,St);if(A&&rt=="<")return B(zt(">"),_e($t,">"),Kt,Cn)}function Zn(I,rt){if(rt=="*")return U.marked="keyword",B(Zn);if(I=="variable")return gt(rt),B(Zn);if(I=="(")return B(qt,zt(")"),_e(Oo,")"),Kt,Ce,St);if(A&&rt=="<")return B(zt(">"),_e($t,">"),Kt,Zn)}function Kr(I,rt){if(I=="keyword"||I=="variable")return U.marked="type",B(Kr);if(rt=="<")return B(zt(">"),_e($t,">"),Kt)}function Oo(I,rt){return rt=="@"&&B(ge,Oo),I=="spread"?B(Oo):A&&kt(rt)?(U.marked="keyword",B(Oo)):A&&I=="this"?B(tn,In):dt(Je,tn,In)}function Hi(I,rt){return I=="variable"?ao(I,rt):mr(I,rt)}function ao(I,rt){if(I=="variable")return gt(rt),B(mr)}function mr(I,rt){if(rt=="<")return B(zt(">"),_e($t,">"),Kt,mr);if(rt=="extends"||rt=="implements"||A&&I==",")return rt=="implements"&&(U.marked="keyword"),B(A?Re:ge,mr);if(I=="{")return B(zt("}"),Jn,Kt)}function Jn(I,rt){if(I=="async"||I=="variable"&&(rt=="static"||rt=="get"||rt=="set"||A&&kt(rt))&&U.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return U.marked="keyword",B(Jn);if(I=="variable"||U.style=="keyword")return U.marked="property",B(ri,Jn);if(I=="number"||I=="string")return B(ri,Jn);if(I=="[")return B(ge,tn,le("]"),ri,Jn);if(rt=="*")return U.marked="keyword",B(Jn);if(A&&I=="(")return dt(Zn,Jn);if(I==";"||I==",")return B(Jn);if(I=="}")return B();if(rt=="@")return B(ge,Jn)}function ri(I,rt){if(rt=="!"||rt=="?")return B(ri);if(I==":")return B(Re,In);if(rt=="=")return B(He);var Ut=U.state.lexical.prev,te=Ut&&Ut.info=="interface";return dt(te?Zn:Cn)}function Yr(I,rt){return rt=="*"?(U.marked="keyword",B(Fn,le(";"))):rt=="default"?(U.marked="keyword",B(ge,le(";"))):I=="{"?B(_e(qr,"}"),Fn,le(";")):dt(ae)}function qr(I,rt){if(rt=="as")return U.marked="keyword",B(le("variable"));if(I=="variable")return dt(He,qr)}function _i(I){return I=="string"?B():I=="("?dt(ge):I=="."?dt(ve):dt(cn,be,Fn)}function cn(I,rt){return I=="{"?rn(cn,"}"):(I=="variable"&&gt(rt),rt=="*"&&(U.marked="keyword"),B(Xr))}function be(I){if(I==",")return B(cn,be)}function Xr(I,rt){if(rt=="as")return U.marked="keyword",B(cn)}function Fn(I,rt){if(rt=="from")return U.marked="keyword",B(ge)}function Nr(I){return I=="]"?B():dt(_e(He,"]"))}function We(){return dt(zt("form"),Je,le("{"),zt("}"),_e(To,"}"),Kt,Kt)}function To(){return dt(Je,In)}function oi(I,rt){return I.lastType=="operator"||I.lastType==","||$.test(rt.charAt(0))||/[,.]/.test(rt.charAt(0))}function Uo(I,rt,Ut){return rt.tokenize==X&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(rt.lastType)||rt.lastType=="quasi"&&/\{\s*$/.test(I.string.slice(0,I.pos-(Ut||0)))}return{startState:function(I){var rt={tokenize:X,lastType:"sof",cc:[],lexical:new W((I||0)-x,0,"block",!1),localVars:w.localVars,context:w.localVars&&new Ht(null,null,!1),indented:I||0};return w.globalVars&&typeof w.globalVars=="object"&&(rt.globalVars=w.globalVars),rt},token:function(I,rt){if(I.sol()&&(rt.lexical.hasOwnProperty("align")||(rt.lexical.align=!1),rt.indented=I.indentation(),Q(I,rt)),rt.tokenize!=bt&&I.eatSpace())return null;var Ut=rt.tokenize(I,rt);return Z=="comment"?Ut:(rt.lastType=Z=="operator"&&(J=="++"||J=="--")?"incdec":Z,it(rt,Ut,Z,J,I))},indent:function(I,rt){if(I.tokenize==bt||I.tokenize==Tt)return v.Pass;if(I.tokenize!=X)return 0;var Ut=rt&&rt.charAt(0),te=I.lexical,Ee;if(!/^\s*else\b/.test(rt))for(var Qe=I.cc.length-1;Qe>=0;--Qe){var on=I.cc[Qe];if(on==Kt)te=te.prev;else if(on!=gr&&on!=St)break}for(;(te.type=="stat"||te.type=="form")&&(Ut=="}"||(Ee=I.cc[I.cc.length-1])&&(Ee==ve||Ee==F)&&!/^[,\.=+\-*:?[\(]/.test(rt));)te=te.prev;S&&te.type==")"&&te.prev.type=="stat"&&(te=te.prev);var Se=te.type,Ir=Ut==Se;return Se=="vardef"?te.indented+(I.lastType=="operator"||I.lastType==","?te.info.length+1:0):Se=="form"&&Ut=="{"?te.indented:Se=="form"?te.indented+x:Se=="stat"?te.indented+(oi(I,rt)?S||x:0):te.info=="switch"&&!Ir&&w.doubleIndentSwitch!=!1?te.indented+(/^(?:case|default)\b/.test(rt)?x:2*x):te.align?te.column+(Ir?0:1):te.indented+(Ir?0:x)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:O?null:"/*",blockCommentEnd:O?null:"*/",blockCommentContinue:O?null:" * ",lineComment:O?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:O?"json":"javascript",jsonldMode:E,jsonMode:O,expressionAllowed:Uo,skipExpression:function(I){it(I,"atom","atom","true",new v.StringStream("",2,null))}}}),v.registerHelper("wordChars","javascript",/[\w$]/),v.defineMIME("text/javascript","javascript"),v.defineMIME("text/ecmascript","javascript"),v.defineMIME("application/javascript","javascript"),v.defineMIME("application/x-javascript","javascript"),v.defineMIME("application/ecmascript","javascript"),v.defineMIME("application/json",{name:"javascript",json:!0}),v.defineMIME("application/x-json",{name:"javascript",json:!0}),v.defineMIME("application/manifest+json",{name:"javascript",json:!0}),v.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),v.defineMIME("text/typescript",{name:"javascript",typescript:!0}),v.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},589:(i,s,f)=>{(function(v){v(f(631))})(function(v){var _={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},w={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};v.defineMode("xml",function(x,S){var E=x.indentUnit,O={},M=S.htmlMode?_:w;for(var A in M)O[A]=M[A];for(var A in S)O[A]=S[A];var L,R;function $(B,It){function gt(Ht){return It.tokenize=Ht,Ht(B,It)}var lt=B.next();if(lt=="<")return B.eat("!")?B.eat("[")?B.match("CDATA[")?gt(Z("atom","]]>")):null:B.match("--")?gt(Z("comment","-->")):B.match("DOCTYPE",!0,!0)?(B.eatWhile(/[\w\._\-]/),gt(J(1))):null:B.eat("?")?(B.eatWhile(/[\w\._\-]/),It.tokenize=Z("meta","?>"),"meta"):(L=B.eat("/")?"closeTag":"openTag",It.tokenize=at,"tag bracket");if(lt=="&"){var kt;return B.eat("#")?B.eat("x")?kt=B.eatWhile(/[a-fA-F\d]/)&&B.eat(";"):kt=B.eatWhile(/[\d]/)&&B.eat(";"):kt=B.eatWhile(/[\w\.\-:]/)&&B.eat(";"),kt?"atom":"error"}else return B.eatWhile(/[^&<]/),null}$.isInText=!0;function at(B,It){var gt=B.next();if(gt==">"||gt=="/"&&B.eat(">"))return It.tokenize=$,L=gt==">"?"endTag":"selfcloseTag","tag bracket";if(gt=="=")return L="equals",null;if(gt=="<"){It.tokenize=$,It.state=Tt,It.tagName=It.tagStart=null;var lt=It.tokenize(B,It);return lt?lt+" tag error":"tag error"}else return/[\'\"]/.test(gt)?(It.tokenize=mt(gt),It.stringStartCol=B.column(),It.tokenize(B,It)):(B.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function mt(B){var It=function(gt,lt){for(;!gt.eol();)if(gt.next()==B){lt.tokenize=at;break}return"string"};return It.isInAttribute=!0,It}function Z(B,It){return function(gt,lt){for(;!gt.eol();){if(gt.match(It)){lt.tokenize=$;break}gt.next()}return B}}function J(B){return function(It,gt){for(var lt;(lt=It.next())!=null;){if(lt=="<")return gt.tokenize=J(B+1),gt.tokenize(It,gt);if(lt==">")if(B==1){gt.tokenize=$;break}else return gt.tokenize=J(B-1),gt.tokenize(It,gt)}return"meta"}}function G(B){return B&&B.toLowerCase()}function X(B,It,gt){this.prev=B.context,this.tagName=It||"",this.indent=B.indented,this.startOfLine=gt,(O.doNotIndent.hasOwnProperty(It)||B.context&&B.context.noIndent)&&(this.noIndent=!0)}function yt(B){B.context&&(B.context=B.context.prev)}function bt(B,It){for(var gt;;){if(!B.context||(gt=B.context.tagName,!O.contextGrabbers.hasOwnProperty(G(gt))||!O.contextGrabbers[G(gt)].hasOwnProperty(G(It))))return;yt(B)}}function Tt(B,It,gt){return B=="openTag"?(gt.tagStart=It.column(),Ct):B=="closeTag"?Q:Tt}function Ct(B,It,gt){return B=="word"?(gt.tagName=It.current(),R="tag",Y):O.allowMissingTagName&&B=="endTag"?(R="tag bracket",Y(B,It,gt)):(R="error",Ct)}function Q(B,It,gt){if(B=="word"){var lt=It.current();return gt.context&&gt.context.tagName!=lt&&O.implicitlyClosed.hasOwnProperty(G(gt.context.tagName))&&yt(gt),gt.context&&gt.context.tagName==lt||O.matchClosing===!1?(R="tag",V):(R="tag error",W)}else return O.allowMissingTagName&&B=="endTag"?(R="tag bracket",V(B,It,gt)):(R="error",W)}function V(B,It,gt){return B!="endTag"?(R="error",V):(yt(gt),Tt)}function W(B,It,gt){return R="error",V(B,It,gt)}function Y(B,It,gt){if(B=="word")return R="attribute",it;if(B=="endTag"||B=="selfcloseTag"){var lt=gt.tagName,kt=gt.tagStart;return gt.tagName=gt.tagStart=null,B=="selfcloseTag"||O.autoSelfClosers.hasOwnProperty(G(lt))?bt(gt,lt):(bt(gt,lt),gt.context=new X(gt,lt,kt==gt.indented)),Tt}return R="error",Y}function it(B,It,gt){return B=="equals"?U:(O.allowMissing||(R="error"),Y(B,It,gt))}function U(B,It,gt){return B=="string"?dt:B=="word"&&O.allowUnquoted?(R="string",Y):(R="error",Y(B,It,gt))}function dt(B,It,gt){return B=="string"?dt:Y(B,It,gt)}return{startState:function(B){var It={tokenize:$,state:Tt,indented:B||0,tagName:null,tagStart:null,context:null};return B!=null&&(It.baseIndent=B),It},token:function(B,It){if(!It.tagName&&B.sol()&&(It.indented=B.indentation()),B.eatSpace())return null;L=null;var gt=It.tokenize(B,It);return(gt||L)&&gt!="comment"&&(R=null,It.state=It.state(L||gt,B,It),R&&(gt=R=="error"?gt+" error":R)),gt},indent:function(B,It,gt){var lt=B.context;if(B.tokenize.isInAttribute)return B.tagStart==B.indented?B.stringStartCol+1:B.indented+E;if(lt&&lt.noIndent)return v.Pass;if(B.tokenize!=at&&B.tokenize!=$)return gt?gt.match(/^(\s*)/)[0].length:0;if(B.tagName)return O.multilineTagIndentPastTag!==!1?B.tagStart+B.tagName.length+2:B.tagStart+E*(O.multilineTagIndentFactor||1);if(O.alignCDATA&&/<!\[CDATA\[/.test(It))return 0;var kt=It&&/^<(\/)?([\w_:\.-]*)/.exec(It);if(kt&&kt[1])for(;lt;)if(lt.tagName==kt[2]){lt=lt.prev;break}else if(O.implicitlyClosed.hasOwnProperty(G(lt.tagName)))lt=lt.prev;else break;else if(kt)for(;lt;){var Ht=O.contextGrabbers[G(lt.tagName)];if(Ht&&Ht.hasOwnProperty(G(kt[2])))lt=lt.prev;else break}for(;lt&&lt.prev&&!lt.startOfLine;)lt=lt.prev;return lt?lt.indent+E:B.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:O.htmlMode?"html":"xml",helperType:O.htmlMode?"html":"xml",skipAttribute:function(B){B.state==U&&(B.state=Y)},xmlCurrentTag:function(B){return B.tagName?{name:B.tagName,close:B.type=="closeTag"}:null},xmlCurrentContext:function(B){for(var It=[],gt=B.context;gt;gt=gt.prev)It.push(gt.tagName);return It.reverse()}}}),v.defineMIME("text/xml","xml"),v.defineMIME("application/xml","xml"),v.mimeModes.hasOwnProperty("text/html")||v.defineMIME("text/html",{name:"xml",htmlMode:!0})})},642:(i,s,f)=>{f.d(s,{Z:()=>x});var v=f(346),_=function(){var S=function(E,O){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,A){M.__proto__=A}||function(M,A){for(var L in A)Object.prototype.hasOwnProperty.call(A,L)&&(M[L]=A[L])},S(E,O)};return function(E,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");S(E,O);function M(){this.constructor=E}E.prototype=O===null?Object.create(O):(M.prototype=O.prototype,new M)}}(),w=function(S){_(E,S);function E(O,M,A){var L=S.call(this,M,A)||this;return L._module=O,L}return Object.defineProperty(E.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),E}(v.Hn);const x=w},675:(i,s,f)=>{f.d(s,{Z:()=>S,q:()=>w});var v=f(642),_=function(){var E=function(O,M){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,L){A.__proto__=L}||function(A,L){for(var R in L)Object.prototype.hasOwnProperty.call(L,R)&&(A[R]=L[R])},E(O,M)};return function(O,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");E(O,M);function A(){this.constructor=O}O.prototype=M===null?Object.create(M):(A.prototype=M.prototype,new A)}}(),w;(function(E){E.Select="select",E.Hover="hover",E.Spacing="spacing",E.Target="target",E.Resize="resize"})(w||(w={}));var x=function(E){_(O,E);function O(){return E!==null&&E.apply(this,arguments)||this}return O.prototype.defaults=function(){return{id:"",type:""}},Object.defineProperty(O.prototype,"type",{get:function(){return this.get("type")||""},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"component",{get:function(){var M,A=this.get("component");return A||((M=this.get("componentView"))===null||M===void 0?void 0:M.model)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"componentView",{get:function(){var M,A=this.get("componentView");return A||((M=this.get("component"))===null||M===void 0?void 0:M.getView())},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"el",{get:function(){var M;return(M=this.componentView)===null||M===void 0?void 0:M.el},enumerable:!1,configurable:!0}),O.prototype.getBoxRect=function(M){var A=this,L=A.el,R=A.em,$=R.Canvas.getCanvasView(),at=this.get("boxRect");return at||(L&&$?$.getElBoxRect(L,M):{x:0,y:0,width:0,height:0})},O.prototype.getStyle=function(M){M===void 0&&(M={});var A=M.boxRect||this.getBoxRect(M),L=A.width,R=A.height,$=A.x,at=A.y;return{width:"".concat(L,"px"),height:"".concat(R,"px"),top:"0",left:"0",position:"absolute",translate:"".concat($,"px ").concat(at,"px")}},O.prototype.isType=function(M){return this.type===M},O}(v.Z);const S=x},713:(i,s,f)=>{f.d(s,{Z:()=>_});var v;(function(w){w.run="command:run",w._run="run",w.runCommand="command:run:",w._runCommand="run:",w.runBeforeCommand="command:run:before:",w.abort="command:abort:",w._abort="abort:",w.stop="command:stop",w._stop="stop",w.stopCommand="command:stop:",w._stopCommand="stop:",w.stopBeforeCommand="command:stop:before:"})(v||(v={}));const _=v},858:(i,s,f)=>{f.r(s),f.d(s,{default:()=>v});const v={run:function(_){_.Components.clear(),_.Css.clear()}}},884:(i,s,f)=>{f.r(s),f.d(s,{default:()=>x});var v=f(50),_=f(668),w=f(491);const x={run:function(S){(0,v.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=S,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(S){this.toggleMove(),this.disableDragger()},onKeyUp:function(S){(0,w.sN)(S)===" "&&this.editor.stopCommand(this.id)},enableDragger:function(S){this.toggleDragger(1,S)},disableDragger:function(S){this.toggleDragger(0,S)},toggleDragger:function(S,E){var O=this,M=O.canvasModel,A=O.em,L=this.dragger,R=S?"add":"remove";this.getCanvas().classList[R]("".concat(this.ppfx,"is__grabbing")),L||(L=new _.Z({getPosition:function(){return{x:M.get("x"),y:M.get("y")}},setPosition:function($){var at=$.x,mt=$.y;M.set({x:at,y:mt})},onStart:function($,at){A.trigger("canvas:move:start",at)},onDrag:function($,at){A.trigger("canvas:move",at)},onEnd:function($,at){A.trigger("canvas:move:end",at)}}),this.dragger=L),S?L.start(E):L.stop()},toggleMove:function(S){var E=this.ppfx,O=S?"add":"remove",M=S?"on":"off",A={on:w.on,off:w.S1},L=this.getCanvas(),R=["".concat(E,"is__grab")];!S&&R.push("".concat(E,"is__grabbing")),R.forEach(function($){return L.classList[O]($)}),A[M](document,"keyup",this.onKeyUp),A[M](L,"mousedown",this.enableDragger),A[M](document,"mouseup",this.disableDragger)}}},790:(i,s,f)=>{f.r(s),f.d(s,{default:()=>E,defineCommand:()=>x});var v=f(346),_=f(713),w=function(){var O=function(M,A){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,R){L.__proto__=R}||function(L,R){for(var $ in R)Object.prototype.hasOwnProperty.call(R,$)&&(L[$]=R[$])},O(M,A)};return function(M,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");O(M,A);function L(){this.constructor=M}M.prototype=A===null?Object.create(A):(L.prototype=A.prototype,new L)}}();function x(O){return O}var S=function(O){w(M,O);function M(A){var L=O.call(this,0)||this;L.config=A||{},L.em=L.config.em||{};var R=L.config.stylePrefix;return L.pfx=R,L.ppfx=L.config.pStylePrefix,L.hoverClass="".concat(R,"hover"),L.badgeClass="".concat(R,"badge"),L.plhClass="".concat(R,"placeholder"),L.freezClass="".concat(L.ppfx,"freezed"),L.canvas=L.em.Canvas,L.init(L.config),L}return M.prototype.onFrameScroll=function(A){},M.prototype.getCanvas=function(){return this.canvas.getElement()},M.prototype.getCanvasBody=function(){return this.canvas.getBody()},M.prototype.getCanvasTools=function(){return this.canvas.getToolsEl()},M.prototype.offset=function(A){var L=A.getBoundingClientRect();return{top:L.top+A.ownerDocument.body.scrollTop,left:L.left+A.ownerDocument.body.scrollLeft}},M.prototype.init=function(A){},M.prototype.callRun=function(A,L){L===void 0&&(L={});var R=this.id;if(A.trigger("".concat(_.Z.runBeforeCommand).concat(R),{options:L}),A.trigger("".concat(_.Z._runCommand).concat(R,":before"),L),L.abort){A.trigger("".concat(_.Z.abort).concat(R),{options:L}),A.trigger("".concat(_.Z._abort).concat(R),L);return}var $=L.sender||A,at=this.run(A,$,L),mt={id:R,result:at,options:L};return A.trigger("".concat(_.Z.runCommand).concat(R),mt),A.trigger(_.Z.run,mt),A.trigger("".concat(_.Z._runCommand).concat(R),at,L),A.trigger(_.Z._run,R,at,L),at},M.prototype.callStop=function(A,L){L===void 0&&(L={});var R=this.id,$=L.sender||A;A.trigger("".concat(_.Z.stopBeforeCommand).concat(R),{options:L}),A.trigger("".concat(_.Z._stopCommand).concat(R,":before"),L);var at=this.stop(A,$,L),mt={id:R,result:at,options:L};return A.trigger("".concat(_.Z.stopCommand).concat(R),mt),A.trigger(_.Z.stop,mt),A.trigger("".concat(_.Z._stopCommand).concat(R),at,L),A.trigger(_.Z._stop,R,at,L),at},M.prototype.stopCommand=function(A){this.em.Commands.stop(this.id,A)},M.prototype.run=function(A,L,R){},M.prototype.stop=function(A,L,R){},M}(v.Hn);const E=S},180:(i,s,f)=>{f.r(s),f.d(s,{default:()=>x});var v=f(50),_=function(S,E,O){if(O||arguments.length===2)for(var M=0,A=E.length,L;M<A;M++)(L||!(M in E))&&(L||(L=Array.prototype.slice.call(E,0,M)),L[M]=E[M]);return S.concat(L||Array.prototype.slice.call(E))},w={run:function(S,E,O){var M=this;O===void 0&&(O={});var A=[],L=O.component||S.getSelectedAll();return L=(0,v.isArray)(L)?_([],L,!0):[L],L.filter(Boolean).forEach(function(R){var $,at;if(!R.get("removable"))return M.em.logWarning("The element is not removable",{component:R});A.push(R);var mt=((at=($=R.delegate)===null||$===void 0?void 0:$.remove)===null||at===void 0?void 0:at.call($,R))||R;mt.remove()}),S.selectRemove(A),A}};const x=w},544:(i,s,f)=>{f.r(s),f.d(s,{default:()=>S});var v=f(50),_=f(668),w=function(){return w=Object.assign||function(E){for(var O,M=1,A=arguments.length;M<A;M++){O=arguments[M];for(var L in O)Object.prototype.hasOwnProperty.call(O,L)&&(E[L]=O[L])}return E},w.apply(this,arguments)},x="dmode";const S={run:function(E,O,M){var A=this;M===void 0&&(M={}),(0,v.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget");var L=M.target,R=M.event,$=M.mode,at=M.dragger,mt=at===void 0?{}:at,Z=L.getEl(),J=w({doc:Z.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){return A.guidesStatic},guidesTarget:function(){return A.guidesTarget}},mt);this.setupGuides(),this.opts=M,this.editor=E,this.em=E.getModel(),this.target=L,this.isTran=$=="translate",this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var G=this.dragger;return G?G.setOptions(J):(G=new _.Z(J),this.dragger=G),R&&G.start(R),this.toggleDrag(1),this.em.trigger("".concat(x,":start"),this.getEventOpts()),G},getEventOpts:function(){return{mode:this.opts.mode,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic}},stop:function(){this.toggleDrag()},setupGuides:function(){(this.guides||[]).forEach(function(E){var O=E.guide;O&&O.parentNode.removeChild(O)}),this.guides=[]},getGuidesContainer:function(){var E=this,O=this.guidesEl;if(!O){var M=this,A=M.editor,L=M.em,R=M.opts,$=A.getConfig().stylePrefix,at=document.createElement("div"),mt=document.createElement("div"),Z='<div class="'.concat($,"guide-info__line ").concat($,`danger-bg">
        <div class="`).concat($,"guide-info__content ").concat($,`danger-color"></div>
      </div>`);O=document.createElement("div"),O.className="".concat($,"guides"),at.className="".concat($,"guide-info ").concat($,"guide-info__x"),mt.className="".concat($,"guide-info ").concat($,"guide-info__y"),at.innerHTML=Z,mt.innerHTML=Z,O.appendChild(at),O.appendChild(mt),A.Canvas.getGlobalToolsEl().appendChild(O),this.guidesEl=O,this.elGuideInfoX=at,this.elGuideInfoY=mt,this.elGuideInfoContentX=at.querySelector(".".concat($,"guide-info__content")),this.elGuideInfoContentY=mt.querySelector(".".concat($,"guide-info__content")),L.on("canvas:update frame:scroll",(0,v.debounce)(function(){var J;E.updateGuides(),R.debug&&((J=E.guides)===null||J===void 0||J.forEach(function(G){return E.renderGuide(G)}))},200))}return O},getGuidesStatic:function(){var E=this,O=[],M=this.target.getEl(),A=M.parentNode,L=A===void 0?{}:A;return(0,v.each)(L.children,function(R){return O=O.concat(M!==R?E.getElementGuides(R):[])}),O.concat(this.getElementGuides(L))},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(E){var O=this,M,A;(E||this.guides).forEach(function(L){var R=L.origin,$=M===R?A:O.getElementPos(R);M=R,A=$,(0,v.each)(O.getGuidePosUpdate(L,$),function(at,mt){return L[mt]=at}),L.originRect=$})},getGuidePosUpdate:function(E,O){var M={},A=O.top,L=O.height,R=O.left,$=O.width;switch(E.type){case"t":M.y=A;break;case"b":M.y=A+L;break;case"l":M.x=R;break;case"r":M.x=R+$;break;case"x":M.x=R+$/2;break;case"y":M.y=A+L/2;break}return M},renderGuide:function(E){E===void 0&&(E={});var O=E.guide||document.createElement("div"),M="px",A=E.active?2:1,L=O.children[0];return O.style="position: absolute; background-color: ".concat(E.active?"green":"red",";"),O.children.length||(L=document.createElement("div"),L.style="position: absolute; color: red; padding: 5px; top: 0; left: 0;",O.appendChild(L)),E.y?(O.style.width="100%",O.style.height="".concat(A).concat(M),O.style.top="".concat(E.y).concat(M),O.style.left=0):(O.style.width="".concat(A).concat(M),O.style.height="100%",O.style.left="".concat(E.x).concat(M),O.style.top="0".concat(M)),!E.guide&&this.guidesContainer.appendChild(O),O},getElementPos:function(E){return this.editor.Canvas.getElementPos(E,{noScroll:1})},getElementGuides:function(E){var O=this,M=this.opts,A=this.getElementPos(E),L=A.top,R=A.height,$=A.left,at=A.width,mt=[{type:"t",y:L},{type:"b",y:L+R},{type:"l",x:$},{type:"r",x:$+at},{type:"x",x:$+at/2},{type:"y",y:L+R/2}].map(function(Z){return w(w({},Z),{origin:E,originRect:A,guide:M.debug&&O.renderGuide(Z)})});return mt.forEach(function(Z){var J;return(J=O.guides)===null||J===void 0?void 0:J.push(Z)}),mt},getTranslate:function(E,O){O===void 0&&(O="x");var M=0;return(E||"").split(" ").forEach(function(A){var L=A.trim(),R="translate".concat(O.toUpperCase(),"(");L.indexOf(R)===0&&(M=parseFloat(L.replace(R,"")))}),M},setTranslate:function(E,O,M){var A="translate".concat(O.toUpperCase(),"("),L="".concat(A).concat(M,")"),R=(E||"").split(" ").map(function($){var at=$.trim();return at.indexOf(A)===0&&($=L),$}).join(" ");return R.indexOf(A)<0&&(R+=" ".concat(L)),R},getPosition:function(){var E=this,O=E.target,M=E.isTran,A=O.getStyle(),L=A.left,R=A.top,$=A.transform,at=0,mt=0;return M?(at=this.getTranslate($),mt=this.getTranslate($,"y")):(at=parseFloat(L||0),mt=parseFloat(R||0)),{x:at,y:mt}},setPosition:function(E){var O=E.x,M=E.y,A=E.end,L=E.position,R=E.width,$=E.height,at=this,mt=at.target,Z=at.isTran,J=at.em,G="px",X=!A,yt="".concat(parseInt(O,10)).concat(G),bt="".concat(parseInt(M,10)).concat(G),Tt={};if(Z){var Ct=mt.getStyle().transform||"";Ct=this.setTranslate(Ct,"x",yt),Ct=this.setTranslate(Ct,"y",bt),Tt={transform:Ct,__p:X},mt.addStyle(Tt,{avoidStore:!A})}else{var Q={position:L,width:R,height:$},V={left:yt,top:bt,__p:X};(0,v.keys)(Q).forEach(function(W){var Y=Q[W];Y&&(V[W]=Y)}),Tt=V,mt.addStyle(Tt,{avoidStore:!A})}J==null||J.Styles.__emitCmpStyleUpdate(Tt,{components:J.getSelected()})},_getDragData:function(){var E=this.target;return{target:E,parent:E.parent(),index:E.index()}},onStart:function(E){var O=this,M=O.target,A=O.editor,L=O.isTran,R=O.opts,$=R.center,at=R.onStart,mt=A.Canvas,Z=M.getStyle(),J="absolute",G=[J,"relative"];if(at&&at(this._getDragData()),!L&&Z.position!==J){var X=mt.offset(M.getEl()),yt=X.left,bt=X.top,Tt=X.width,Ct=X.height,Q=M.parent(),V=void 0;do{var W=Q.getStyle();V=G.indexOf(W.position)>=0?Q:null,Q=Q.parent()}while(Q&&!V);if($){var Y=mt.getMouseRelativeCanvas(E),it=Y.x,U=Y.y;yt=it,bt=U}else if(V){var dt=mt.offset(V.getEl());yt=yt-dt.left,bt=bt-dt.top}this.setPosition({x:yt,y:bt,width:"".concat(Tt,"px"),height:"".concat(Ct,"px"),position:J})}},onDrag:function(){var E=this,O=this,M=O.guidesTarget,A=O.opts,L=A.onDrag;this.updateGuides(M),A.debug&&M.forEach(function(R){return E.renderGuide(R)}),A.guidesInfo&&this.renderGuideInfo(M.filter(function(R){return R.active})),L&&L(this._getDragData())},onEnd:function(E,O,M){M===void 0&&(M={});var A=this,L=A.editor,R=A.opts,$=A.id,at=R.onEnd;at&&at(E,M,w(w({event:E},M),this._getDragData())),L.stopCommand($),this.hideGuidesInfo(),this.em.trigger("".concat(x,":end"),this.getEventOpts())},hideGuidesInfo:function(){var E=this;["X","Y"].forEach(function(O){var M=E["elGuideInfo".concat(O)];M&&(M.style.display="none")})},renderGuideInfo:function(E){var O=this;E===void 0&&(E=[]);var M=this.guidesStatic;this.hideGuidesInfo(),E.forEach(function(A){var L=A.origin,R=A.x,$=O.getElementPos(L),at=(0,v.isUndefined)(R)?"y":"x",mt=at==="y",Z=$[mt?"left":"top"],J=$.rect[mt?"left":"top"],G=mt?Z+$.width:Z+$.height,X=mt?J+$.rect.width:J+$.rect.height,yt=O["elGuideInfo".concat(at.toUpperCase())],bt=O["elGuideInfoContent".concat(at.toUpperCase())],Tt=yt.style,Ct=M==null?void 0:M.filter(function(Zt){return Zt.type===A.type}).map(function(Zt){var St=Zt.originRect,zt=St.left,Kt=St.width,le=St.top,ae=St.height,Jt=mt?zt:le,ge=mt?zt+Kt:le+ae;return{gap:ge<Z?Z-ge:Jt-G,guide:Zt}}).filter(function(Zt){return Zt.gap>0}).sort(function(Zt,St){return Zt.gap-St.gap}).map(function(Zt){return Zt.guide})[0];if(Ct){var Q=Ct.originRect,V=Q.left,W=Q.width,Y=Q.top,it=Q.height,U=Q.rect,dt=mt?V<$.left:Y<$.top,B=mt?V:Y,It=mt?U.left:U.top,gt=mt?V+W:Y+it,lt=mt?U.left+U.width:U.top+U.height,kt=mt?A.y:A.x,Ht=dt?gt:G,Wt="".concat(kt,"px"),ie=dt?Z-gt:B-G,qt=dt?J-lt:It-X;Tt.display="",Tt[mt?"top":"left"]=Wt,Tt[mt?"left":"top"]="".concat(Ht,"px"),Tt[mt?"width":"height"]="".concat(ie,"px"),bt.innerHTML="".concat(Math.round(qt),"px"),O.em.trigger("".concat(x,":active"),w(w({},O.getEventOpts()),{guide:A,guidesStatic:M,matched:Ct,posFirst:kt,posSecond:Ht,size:ie,sizeRaw:qt,elGuideInfo:yt,elGuideInfoCnt:bt}))}})},toggleDrag:function(E){var O=this,M=O.ppfx,A=O.editor,L=E?"add":"remove",R=["".concat(M,"is__grabbing")],$=A.Canvas,at=$.getBody();R.forEach(function(mt){return at.classList[L](mt)}),$[E?"startAutoscroll":"stopAutoscroll"]()}}},236:(i,s,f)=>{f.r(s),f.d(s,{default:()=>v});const v={run:function(_){if(_.Canvas.hasFocus()){var w=[];_.getSelectedAll().forEach(function(x){var S=x.components(),E=S&&S.filter(function(O){return O.get("selectable")})[0];E&&w.push(E)}),w.length&&_.select(w)}}}},368:(i,s,f)=>{f.r(s),f.d(s,{default:()=>v});const v={run:function(_,w,x){if(x===void 0&&(x={}),!(!_.Canvas.hasFocus()&&!x.force)){var S=[];_.getSelectedAll().forEach(function(E){for(var O=E.parent();O&&!O.get("selectable");)O=O.parent();O&&S.push(O)}),S.length&&_.select(S)}}}},243:(i,s,f)=>{f.r(s),f.d(s,{default:()=>v});const v={run:function(_){if(_.Canvas.hasFocus()){var w=[];_.getSelectedAll().forEach(function(x){var S=x.parent();if(S){var E=S.components().length,O=0,M=0,A;do O++,M=x.index()+O,A=M<=E?S.getChildAt(M):null;while(A&&!A.get("selectable"));w.push(A||x)}}),w.length&&_.select(w)}}}},400:(i,s,f)=>{f.r(s),f.d(s,{default:()=>v});const v={run:function(_){if(_.Canvas.hasFocus()){var w=[];_.getSelectedAll().forEach(function(x){var S=x.parent();if(S){var E=0,O=0,M;do E++,O=x.index()-E,M=O>=0?S.getChildAt(O):null;while(M&&!M.get("selectable"));w.push(M||x)}}),w.length&&_.select(w)}}}},910:(i,s,f)=>{f.r(s),f.d(s,{default:()=>_});var v=f(50);const _={run:function(w,x,S){S===void 0&&(S={});var E=S.target,O=[];if(!E.get("styles"))return O;var M=E.get("type"),A=w.Pages.getAllWrappers(),L=(0,v.flatten)(A.map(function($){return $.findType(M)})).length;if(!L){var R=w.CssComposer.getAll();O=R.filter(function($){return $.get("group")==="cmp:".concat(M)}),R.remove(O)}return O}}},744:(i,s,f)=>{f.r(s),f.d(s,{default:()=>_});var v=function(w,x,S){if(S||arguments.length===2)for(var E=0,O=x.length,M;E<O;E++)(M||!(E in x))&&(M||(M=Array.prototype.slice.call(x,0,E)),M[E]=x[E]);return w.concat(M||Array.prototype.slice.call(x))};const _={run:function(w){var x=w.getModel(),S=v([],w.getSelectedAll(),!0).map(function(E){var O,M;return((M=(O=E.delegate)===null||O===void 0?void 0:O.copy)===null||M===void 0?void 0:M.call(O,E))||E}).filter(Boolean);S.length&&x.set("clipboard",S)}}},457:(i,s,f)=>{f.r(s),f.d(s,{default:()=>_});var v=f(491);const _={run:function(w,x,S){var E=this;S===void 0&&(S={}),x&&x.set&&x.set("active",0);var O=w.getConfig(),M=w.Modal,A=O.stylePrefix;if(this.cm=w.CodeManager||null,!this.editors){var L=this.buildEditor("htmlmixed","hopscotch","HTML"),R=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=L.model,this.cssEditor=R.model;var $=(0,v.ut)("div",{class:"".concat(A,"export-dl")});$.appendChild(L.el),$.appendChild(R.el),this.editors=$}M.open({title:O.textViewCode,content:this.editors}).getModel().once("change:open",function(){return w.stopCommand("".concat(E.id))}),this.htmlEditor.setContent(w.getHtml(S.optsHtml)),this.cssEditor.setContent(w.getCss(S.optsCss))},stop:function(w){var x=w.Modal;x&&x.close()},buildEditor:function(w,x,S){var E=this.em.CodeManager,O=E.createViewer({label:S,codeName:w,theme:x}),M=new E.EditorView({model:O,config:E.getConfig()}).render().el;return{model:O,el:M}}}},975:(i,s,f)=>{f.r(s),f.d(s,{default:()=>_});var v=f(50);const _={isEnabled:function(){var w=document;return!!(w.fullscreenElement||w.webkitFullscreenElement||w.mozFullScreenElement)},enable:function(w){var x="";return w.requestFullscreen?w.requestFullscreen():w.webkitRequestFullscreen?(x="webkit",w.webkitRequestFullscreen()):w.mozRequestFullScreen?(x="moz",w.mozRequestFullScreen()):w.msRequestFullscreen&&w.msRequestFullscreen(),x},disable:function(){var w=document;this.isEnabled()&&(w.exitFullscreen?w.exitFullscreen():w.webkitExitFullscreen?w.webkitExitFullscreen():w.mozCancelFullScreen?w.mozCancelFullScreen():w.msExitFullscreen&&w.msExitFullscreen())},fsChanged:function(w){this.isEnabled()||(this.stopCommand({sender:this.sender}),document.removeEventListener("".concat(w||"","fullscreenchange"),this.fsChanged))},run:function(w,x,S){S===void 0&&(S={}),this.sender=x;var E=S.target,O=(0,v.isElement)(E)?E:document.querySelector(E),M=this.enable(O||w.getContainer());this.fsChanged=this.fsChanged.bind(this,M),document.addEventListener(M+"fullscreenchange",this.fsChanged)},stop:function(w,x){x&&x.set&&x.set("active",!1),this.disable()}}},191:(i,s,f)=>{f.r(s),f.d(s,{default:()=>E});var v=f(50),_=f(895),w=f(491),x=f(407),S=f(189);const E=(0,v.extend)({},S.default,x.default,{init:function(O){x.default.init.apply(this,arguments),(0,v.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=O,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var O=[],M=0;M<arguments.length;M++)O[M]=arguments[M];x.default.enable.apply(this,O),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var A=this.$wrapper;A.css("cursor","move"),A.on("mousedown",this.initSorter),A.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(O){var M=(0,_.default)(O.target).data("model"),A=M.get("draggable");A&&(this.cacheEl=null,this.startSelectPosition(O.target,this.frameEl.contentDocument),this.sorter.draggable=A,this.sorter.onEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,w.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(O){var M=O.get("draggable");if(M){this.cacheEl=null;var A=O.view.el;this.startSelectPosition(A,this.frameEl.contentDocument),this.sorter.draggable=M,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,w.on)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(O){this.cacheEl=null;var M=O[O.length-1],A=this.em.getCurrentFrame(),L=M.getEl(A==null?void 0:A.model),R=L.ownerDocument;this.startSelectPosition(L,R,{onStart:this.onStart}),this.sorter.draggable=M.get("draggable"),this.sorter.toMove=O,this.sorter.onMoveClb=this.onDrag,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,w.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,w.S1)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,w.S1)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(O,M){},rollback:function(O,M){var A=O.which||O.keyCode;(A==27||M)&&(this.sorter.moved=!1,this.sorter.endMove())},getBadgeEl:function(){return this.$badge||(this.$badge=(0,_.default)(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=(0,_.default)(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var O=[],M=0;M<arguments.length;M++)O[M]=arguments[M];x.default.stop.apply(this,O),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass);var A=this.$wrapper;A.css("cursor","").unbind().removeClass(this.noSelClass)}})},912:(i,s,f)=>{f.r(s),f.d(s,{default:()=>w});var v=f(50),_=f(491);const w={open:function(x){var S=this,E=this,O=E.editor,M=E.title,A=E.config,L=E.am,R=A.custom;if((0,v.isFunction)(R.open))return R.open(L.__customData());var $=O.Modal;$.open({title:M,content:x}).onceClose(function(){return O.stopCommand(S.id)})},close:function(){var x=this.config.custom;if((0,v.isFunction)(x.close))return x.close(this.am.__customData());var S=this.editor.Modal;S&&S.close()},run:function(x,S,E){E===void 0&&(E={});var O=x.AssetManager,M=O.getConfig(),A=E.types,L=A===void 0?[]:A,R=E.accept,$=E.select;if(this.title=E.modalTitle||x.t("assetManager.modalTitle")||"",this.editor=x,this.config=M,this.am=O,O.setTarget(E.target),O.onClick(E.onClick),O.onDblClick(E.onDblClick),O.onSelect(E.onSelect),O.__behaviour({select:$,types:L,options:E}),M.custom)this.rendered=this.rendered||(0,_.ut)("div"),this.rendered.className="".concat(M.stylePrefix,"custom-wrp"),O.__behaviour({container:this.rendered}),O.__trgCustom();else{if(!this.rendered||L){var at=O.getAll().filter(function(Z){return Z});L&&L.length&&(at=at.filter(function(Z){return L.indexOf(Z.get("type"))!==-1})),O.render(at),this.rendered=O.getContainer()}if(R){var mt=this.rendered.querySelector("input#".concat(M.stylePrefix,"uploadFile"));mt&&mt.setAttribute("accept",R)}}return this.open(this.rendered),this},stop:function(x){this.editor=x,this.close(this.rendered)}}},117:(i,s,f)=>{f.r(s),f.d(s,{default:()=>w});var v=f(50),_=f(491);const w={open:function(){var x=this,S=x.container,E=x.editor,O=x.bm,M=x.config,A=M.custom,L=M.appendTo;if((0,v.isFunction)(A.open))return A.open(O.__customData());if(this.firstRender&&!L){var R="views-container",$=E.Panels,at=$.getPanel(R)||$.addPanel({id:R});at.set("appendContent",S).trigger("change:appendContent"),A||S.appendChild(O.render())}S&&(S.style.display="block")},close:function(){var x=this,S=x.container,E=x.config,O=E.custom;if((0,v.isFunction)(O.close))return O.close(this.bm.__customData());S&&(S.style.display="none")},run:function(x){var S=x.Blocks;this.config=S.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,_.ut)("div"),this.editor=x,this.bm=S;var E=this.container;S.__behaviour({container:E}),this.config.custom&&S.__trgCustom(),this.open()},stop:function(){this.close()}}},614:(i,s,f)=>{f.r(s),f.d(s,{default:()=>v});const v={run:function(_){var w=_.LayerManager,x=_.Panels,S=w.getConfig();if(!S.appendTo){if(!this.layers){var E="views-container",O=document.createElement("div"),M=x.getPanel(E)||x.addPanel({id:E});S.custom?w.__trgCustom({container:O}):O.appendChild(w.render()),M.set("appendContent",O).trigger("change:appendContent"),this.layers=O}this.layers.style.display="block"}},stop:function(){var _=this.layers;_&&(_.style.display="none")}}},801:(i,s,f)=>{f.r(s),f.d(s,{default:()=>_});var v=f(895);const _={run:function(w,x){if(this.sender=x,!this.$cnt){var S=w.getConfig(),E=w.Panels,O=w.DeviceManager,M=w.SelectorManager,A=w.StyleManager,L="change:appendContent",R=(0,v.default)("<div></div>"),$=(0,v.default)("<div></div>"),at=(0,v.default)("<div></div>"),mt=(0,v.default)("<div></div>");if(this.$cnt=R,this.$cntInner=$,$.append(at),$.append(mt),R.append($),O&&S.showDevices){var Z=E.addPanel({id:"devices-c"}),J=O.render();Z.set("appendContent",J).trigger(L)}var G=M.getConfig();G.custom?M.__trgCustom({container:at.get(0)}):G.appendTo||at.append(M.render([])),this.sm=A;var X=A.getConfig(),yt=X.stylePrefix;this.$header=(0,v.default)('<div class="'.concat(yt,'header">').concat(w.t("styleManager.empty"),"</div>")),R.append(this.$header),X.custom?A.__trgCustom({container:mt.get(0)}):X.appendTo||mt.append(A.render());var bt="views-container",Tt=E.getPanel(bt)||E.addPanel({id:bt});Tt.set("appendContent",R).trigger(L);var Ct=w.getModel();this.listenTo(Ct,A.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var w=this,x=w.sender,S=w.sm,E=w.$cntInner,O=w.$header;x&&x.get&&!x.get("active")||!S||(S.getSelected()?(E==null||E.show(),O==null||O.hide()):(E==null||E.hide(),O==null||O.show()))},stop:function(){var w,x;(w=this.$cntInner)===null||w===void 0||w.hide(),(x=this.$header)===null||x===void 0||x.hide()}}},395:(i,s,f)=>{f.r(s),f.d(s,{default:()=>_});var v=f(895);const _={run:function(w,x){this.sender=x;var S=w.getModel(),E=w.Config,O=E.stylePrefix,M=w.TraitManager,A=M.getConfig(),L;if(!A.appendTo){if(!this.$cn){this.$cn=(0,v.default)("<div></div>"),this.$cn2=(0,v.default)("<div></div>"),this.$cn.append(this.$cn2),this.$header=(0,v.default)("<div>").append('<div class="'.concat(A.stylePrefix,'header">').concat(S.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),A.custom?M.__trgCustom({container:this.$cn2.get(0)}):(this.$cn2.append('<div class="'.concat(O,'traits-label">').concat(S.t("traitManager.label"),"</div>")),this.$cn2.append(M.render()));var R=w.Panels;R.getPanel("views-container")?L=R.getPanel("views-container"):L=R.addPanel({id:"views-container"}),L==null||L.set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=w.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var w=this.sender;w&&w.get&&!w.get("active")||(this.target.getSelectedAll().length===1?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},98:(i,s,f)=>{f.r(s),f.d(s,{default:()=>_});var v=f(50);const _={run:function(x,S,E){E===void 0&&(E={});var O=x.getModel(),M=O.get("clipboard"),A=x.getSelected();M!=null&&M.length&&A&&(x.getSelectedAll().forEach(function(L){var R,$,at,mt=(($=(R=L.delegate)===null||R===void 0?void 0:R.copy)===null||$===void 0?void 0:$.call(R,L))||L,Z=mt.collection,J;if(Z){var G=mt.index()+1,X={at:G,action:E.action||"paste-component"};(0,v.contains)(M,mt)&&mt.get("copyable")?J=Z.add(mt.clone(),X):J=w(x,M,mt.parent(),X)}else{var yt=(at=O.Pages.getSelected())===null||at===void 0?void 0:at.getMainComponent(),X={at:(yt==null?void 0:yt.components().length)||0,action:E.action||"paste-component"};J=w(x,M,yt,X)}J=(0,v.isArray)(J)?J:[J],J.forEach(function(bt){return x.trigger("component:paste",bt)})}),A.emitUpdate())}};function w(x,S,E,O){var M=S.filter(function(L){return L.get("copyable")}),A=M.filter(function(L){return x.Components.canMove(E,L).result});return E.components().add(A.map(function(L){return L.clone()}),O)}},129:(i,s,f)=>{f.r(s),f.d(s,{default:()=>x});var v=f(50),_=function(S,E,O){if(O||arguments.length===2)for(var M=0,A=E.length,L;M<A;M++)(L||!(M in E))&&(L||(L=Array.prototype.slice.call(E,0,M)),L[M]=E[M]);return S.concat(L||Array.prototype.slice.call(E))},w="core:component-outline";const x={getPanels:function(S){return this.panels||(this.panels=S.Panels.getPanels()),this.panels},preventDrag:function(S){S.abort=1},tglEffects:function(S){var E=this.em,O=S?"on":"off";if(E){var M=E.Canvas,A=M.getBody(),L=M.getToolbarEl();L&&(L.style.display=S?"none":"");var R=A.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,v.each)(R,function($){return $.style.pointerEvents=S?"all":""}),E[O]("run:tlb-move:before",this.preventDrag)}},run:function(S,E){var O=this;this.sender=E,this.selected=_([],S.getSelectedAll(),!0),S.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=S.Commands.isActive(w)),this.shouldRunSwVisibility&&S.stopCommand(w),S.getModel().stopDefault();var M=this.getPanels(S),A=S.Canvas.getElement(),L=S.getEl(),R=S.Config.stylePrefix;if(!this.helper){var $=document.createElement("span");$.className="".concat(R,"off-prv fa fa-eye-slash"),L.appendChild($),$.onclick=function(){return O.stopCommand()},this.helper=$}this.helper.style.display="inline-block",M.forEach(function(mt){return mt.set("visible",!1)});var at=A.style;at.width="100%",at.height="100%",at.top="0",at.left="0",at.padding="0",at.margin="0",S.refresh(),this.tglEffects(1)},stop:function(S){var E=this,O=E.sender,M=O===void 0?{}:O,A=E.selected;M.set&&M.set("active",0);var L=this.getPanels(S);this.shouldRunSwVisibility&&(S.runCommand(w),this.shouldRunSwVisibility=!1),S.getModel().runDefault(),L.forEach(function($){return $.set("visible",!0)});var R=S.Canvas.getElement();R.setAttribute("style",""),A&&S.select(A),delete this.selected,this.helper&&(this.helper.style.display="none"),S.refresh(),this.tglEffects()}}},116:(i,s,f)=>{f.r(s),f.d(s,{default:()=>_});var v=function(){return v=Object.assign||function(w){for(var x,S=1,E=arguments.length;S<E;S++){x=arguments[S];for(var O in x)Object.prototype.hasOwnProperty.call(x,O)&&(w[O]=x[O])}return w},v.apply(this,arguments)};const _={run:function(w,x,S){var E=S||{},O=w.Canvas,M=O.getCanvasView(),A=v({appendTo:O.getResizerEl(),prefix:w.getConfig().stylePrefix,posFetcher:M.getElementPos.bind(M),mousePosFetcher:O.getMouseRelativePos.bind(O)},E.options||{}),L=this.canvasResizer;return(!L||E.forceNew)&&(this.canvasResizer=new w.Utils.Resizer(A),L=this.canvasResizer),L.setOptions(A,!0),L.blur(),L.focus(E.el),L},stop:function(){var w;(w=this.canvasResizer)===null||w===void 0||w.blur()}}},407:(i,s,f)=>{f.r(s),f.d(s,{default:()=>Q});var v=f(50),_=f(346),w=function(){var V=function(W,Y){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(it,U){it.__proto__=U}||function(it,U){for(var dt in U)Object.prototype.hasOwnProperty.call(U,dt)&&(it[dt]=U[dt])},V(W,Y)};return function(W,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Class extends value "+String(Y)+" is not a constructor or null");V(W,Y);function it(){this.constructor=W}W.prototype=Y===null?Object.create(Y):(it.prototype=Y.prototype,new it)}}(),x=function(V){w(W,V);function W(){return V!==null&&V.apply(this,arguments)||this}return W.prototype.defaults=function(){return{command:"",attributes:{}}},W}(_.Hn);const S=x;var E=function(){var V=function(W,Y){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(it,U){it.__proto__=U}||function(it,U){for(var dt in U)Object.prototype.hasOwnProperty.call(U,dt)&&(it[dt]=U[dt])},V(W,Y)};return function(W,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Class extends value "+String(Y)+" is not a constructor or null");V(W,Y);function it(){this.constructor=W}W.prototype=Y===null?Object.create(Y):(it.prototype=Y.prototype,new it)}}(),O=function(V){E(W,V);function W(){return V!==null&&V.apply(this,arguments)||this}return W}(_.FE);const M=O;O.prototype.model=S;var A=f(330),L=function(){var V=function(W,Y){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(it,U){it.__proto__=U}||function(it,U){for(var dt in U)Object.prototype.hasOwnProperty.call(U,dt)&&(it[dt]=U[dt])},V(W,Y)};return function(W,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Class extends value "+String(Y)+" is not a constructor or null");V(W,Y);function it(){this.constructor=W}W.prototype=Y===null?Object.create(Y):(it.prototype=Y.prototype,new it)}}(),R=function(){return R=Object.assign||function(V){for(var W,Y=1,it=arguments.length;Y<it;Y++){W=arguments[Y];for(var U in W)Object.prototype.hasOwnProperty.call(W,U)&&(V[U]=W[U])}return V},R.apply(this,arguments)},$=function(V){L(W,V);function W(Y){var it=V.call(this,Y)||this;return it.em=Y.config.em,it}return W.prototype.events=function(){return this.model.get("events")||{mousedown:"handleClick"}},W.prototype.attributes=function(){return this.model.get("attributes")},W.prototype.handleClick=function(Y){Y.preventDefault(),Y.stopPropagation();var it=this.em,U=it.Canvas.getFrameEl().getBoundingClientRect(),dt=U.left,B=U.top,It=R(R({},Y),{clientX:Y.clientX-dt,clientY:Y.clientY-B});it.trigger("toolbar:run:before",{event:It}),this.execCommand(It)},W.prototype.execCommand=function(Y){var it=this,U=it.em,dt=it.model,B={event:Y},It=dt.get("command"),gt=U.Editor;(0,v.isFunction)(It)&&It(gt,null,B),(0,v.isString)(It)&&gt.runCommand(It,B)},W.prototype.render=function(){var Y=this,it=Y.em,U=Y.$el,dt=Y.model,B=dt.get("id"),It=dt.get("label"),gt=it.getConfig().stylePrefix;return U.addClass("".concat(gt,"toolbar-item")),B&&U.addClass("".concat(gt,"toolbar-item__").concat(B)),It&&U.append(It),this},W}(_.G7);const at=$;var mt=function(){var V=function(W,Y){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(it,U){it.__proto__=U}||function(it,U){for(var dt in U)Object.prototype.hasOwnProperty.call(U,dt)&&(it[dt]=U[dt])},V(W,Y)};return function(W,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Class extends value "+String(Y)+" is not a constructor or null");V(W,Y);function it(){this.constructor=W}W.prototype=Y===null?Object.create(Y):(it.prototype=Y.prototype,new it)}}(),Z=function(V){mt(W,V);function W(Y){var it=V.call(this,Y)||this,U=Y.em;return it.em=U,it.config={em:U},it.listenTo(it.collection,"reset",it.render),it}return W.prototype.onRender=function(){var Y=this.em.config.stylePrefix;this.el.className="".concat(Y,"toolbar-items")},W}(A.Z);const J=Z;Z.prototype.itemView=at;var G=f(491),X=f(163),yt=f(675),bt=function(){return bt=Object.assign||function(V){for(var W,Y=1,it=arguments.length;Y<it;Y++){W=arguments[Y];for(var U in W)Object.prototype.hasOwnProperty.call(W,U)&&(V[U]=W[U])}return V},bt.apply(this,arguments)},Tt=function(V,W){var Y={};for(var it in V)Object.prototype.hasOwnProperty.call(V,it)&&W.indexOf(it)<0&&(Y[it]=V[it]);if(V!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,it=Object.getOwnPropertySymbols(V);U<it.length;U++)W.indexOf(it[U])<0&&Object.prototype.propertyIsEnumerable.call(V,it[U])&&(Y[it[U]]=V[it[U]]);return Y},Ct;const Q={activeResizer:!1,init:function(){this.onSelect=(0,v.debounce)(this.onSelect,0),(0,v.bindAll)(this,"onHover","onOut","onClick","onFrameScroll","onFrameResize","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),Ct=!0},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(V){var W=this,Y=this.em,it=Y.getConfig().listenToEl,U=Y.getContainer().parentNode,dt=V?"on":"off",B={on:G.on,off:G.S1};!it.length&&U&&it.push(U);var It=function(gt,lt){B[dt](lt,"mouseover",W.onHover),B[dt](lt,"mouseleave",W.onOut),B[dt](lt,"click",W.onClick),B[dt](gt,"scroll",W.onFrameScroll,!0),B[dt](gt,"resize",W.onFrameResize)};B[dt](window,"resize",this.onFrameUpdated),B[dt](it,"scroll",this.onContainerChange),Y[dt]("component:toggled component:update undo redo",this.onSelect,this),Y[dt]("change:componentHovered",this.onHovered,this),Y[dt]("component:resize styleable:change component:input",this.updateGlobalPos,this),Y[dt]("component:update:toolbar",this._upToolbar,this),Y[dt]("frame:updated",this.onFrameUpdated,this),Y[dt]("canvas:updateTools",this.onFrameUpdated,this),Y[dt](Y.Canvas.events.refresh,this.updateAttached,this),Y.Canvas.getFrames().forEach(function(gt){var lt=gt.view,kt=lt==null?void 0:lt.getWindow();kt&&It(kt,lt==null?void 0:lt.getBody())})},onHover:function(V){V.stopPropagation();var W=this.em,Y=V.target,it=(0,X.getComponentView)(Y),U=it==null?void 0:it.frameView,dt=it==null?void 0:it.model;if(!dt)for(var B=Y.parentNode;!dt&&B&&!(0,G.Mx)(B);)dt=(0,X.getComponentModel)(B),B=B.parentNode;this.currentDoc=Y.ownerDocument,W.setHovered(dt,{useValid:!0}),U&&W.setCurrentFrame(U)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(V,W){var Y=this,it,U={};W?(it=W.views)===null||it===void 0||it.forEach(function(dt){var B=dt.el,It=Y.getElementPos(B);U={el:B,pos:It,component:W,view:(0,X.getViewEl)(B)},B.ownerDocument===Y.currentDoc&&(Y.elHovered=U),Y.updateToolsLocal(U)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(dt){var B=dt.view,It=B&&B.getToolsEl();It&&Y.toggleToolsEl(0,0,{el:It})}))},onSelect:function(){var V=this.em,W=V.getSelected(),Y=V.getCurrentFrame(),it=W&&W.getView(Y==null?void 0:Y.model),U=it&&it.el,dt={};if(U&&(0,G.pn)(U)){var B=this.getElementPos(U);dt={el:U,pos:B,component:W,view:(0,X.getViewEl)(U)}}this.elSelected=dt,this.updateToolsGlobal(),this.updateLocalPos(dt),this.initResize(W)},updateGlobalPos:function(){var V=this.getElSelected();V.el&&(V.pos=this.getElementPos(V.el),this.updateToolsGlobal())},updateLocalPos:function(V){var W=this.getElHovered();W.el&&(W.pos=this.getElementPos(W.el),this.updateToolsLocal(V))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered()},toggleToolsEl:function(V,W,Y){Y===void 0&&(Y={});var it=Y.el||this.canvas.getToolsEl(W);return it&&(it.style.display=V?"":"none"),it||{}},showElementOffset:function(V,W,Y){Y===void 0&&(Y={}),Ct&&this.editor.runCommand("show-offset",{el:V,elPos:W,view:Y.view,force:1,top:0,left:0})},hideElementOffset:function(V){this.editor.stopCommand("show-offset",{view:V})},showFixedElementOffset:function(V,W){this.editor.runCommand("show-offset",{el:V,elPos:W,state:"Fixed"})},hideFixedElementOffset:function(){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(V){this.canvas.getHighlighter(V).style.opacity=0},onClick:function(V){V.stopPropagation(),V.preventDefault();var W=this.em;if(W.get("_cmpDrag"))return W.set("_cmpDrag");var Y=V.target,it=(0,X.getComponentModel)(Y);if(!it)for(var U=Y.parentNode;!it&&U&&!(0,G.Mx)(U);)it=(0,X.getComponentModel)(U),U=U.parentNode;if(it){if(W.isEditing()&&!it.get("textable")&&it.isChildOf("text"))return;this.select(it,V)}},select:function(V,W){W===void 0&&(W={}),V&&(this.editor.select(V,{event:W,useValid:!0}),this.initResize(V))},updateBadge:function(V,W,Y){Y===void 0&&(Y={});var it=this.canvas,U=(0,X.getComponentModel)(V),dt=this.getBadge(Y),B=dt.style;if(!U||!U.get("badgable")){B.display="none";return}if(!Y.posOnly){var It=this.canvas.getConfig(),gt=U.getIcon(),lt=It.pStylePrefix||"",kt="".concat(lt,"badge"),Ht=It.customBadgeLabel,Wt="".concat(gt?'<div class="'.concat(kt,'__icon">').concat(gt,"</div>"):"",`
        <div class="`).concat(kt,'__name">').concat(U.getName(),"</div>");dt.innerHTML=Ht?Ht(U):Wt}var ie="px";B.display="block";var qt=it.getTargetToElementFixed(V,dt,{pos:W}),Zt=qt.top,St=Y.leftOff<0?-Y.leftOff:0;B.top=Zt+ie,B.left=St+ie},showHighlighter:function(V){this.canvas.getHighlighter(V).style.opacity=""},initResize:function(V){var W=this,Y=W.em,it=W.canvas,U=Y.Editor,dt=!(0,v.isElement)(V)&&(0,G.o5)(V)?V:Y.getSelected(),B=dt==null?void 0:dt.get("resizable"),It=yt.q.Resize,gt=it.hasCustomSpot(It);if(it.removeSpots({type:It}),dt&&B){it.addSpot({type:It,component:dt});var lt=(0,v.isElement)(V)?V:dt.getEl(),kt=(0,X.isObject)(B)?B:{},Ht=kt.onStart,Wt=Ht===void 0?function(){}:Ht,ie=kt.onMove,qt=ie===void 0?function(){}:ie,Zt=kt.onEnd,St=Zt===void 0?function(){}:Zt,zt=kt.updateTarget,Kt=zt===void 0?function(){}:zt,le=Tt(kt,["onStart","onMove","onEnd","updateTarget"]);if(gt||!lt||this.activeResizer)return;var ae,Jt=Y.config,ge=Jt.stylePrefix||"",He="".concat(ge,"resizing"),pn=this,jn={component:dt,el:lt},gn=function(F,et,ht){var Et=ht.docs;Et&&Et.forEach(function(Vt){var ct=Vt.body,Nt=ct.className||"";ct.className=(F=="add"?"".concat(Nt," ").concat(He):Nt.replace(He,"")).trim()})},ve=bt({onStart:function(F,et){Wt(F,et);var ht=et.el,Et=et.config,Vt=et.resizer,ct=Et.keyHeight,Nt=Et.keyWidth,Pt=Et.currentUnit,xe=Et.keepAutoHeight,Xe=Et.keepAutoWidth;gn("add",F,et),ae=Y.Styles.getModelToStyle(dt),it.toggleFramesEvents(!1);var Ne=getComputedStyle(ht),Ge=ae.getStyle(),nn=Ge[Nt];Et.autoWidth=Xe&&nn==="auto",isNaN(parseFloat(nn))&&(nn=Ne[Nt]);var _e=Ge[ct];Et.autoHeight=xe&&_e==="auto",isNaN(parseFloat(_e))&&(_e=Ne[ct]),Vt.startDim.w=parseFloat(nn),Vt.startDim.h=parseFloat(_e),Ct=!1,Pt&&(Et.unitHeight=(0,X.getUnitFromValue)(_e),Et.unitWidth=(0,X.getUnitFromValue)(nn)),pn.activeResizer=!0,U.trigger("component:resize",bt(bt({},jn),{type:"start"}))},onMove:function(F){qt(F),U.trigger("component:resize",bt(bt({},jn),{type:"move"}))},onEnd:function(F,et){St(F,et),gn("remove",F,et),U.trigger("component:resize",bt(bt({},jn),{type:"end"})),it.toggleFramesEvents(!0),Ct=!0,pn.activeResizer=!1},updateTarget:function(F,et,ht){if(Kt(F,et,ht),!!ae){var Et=ht.store,Vt=ht.selectedHandler,ct=ht.config,Nt=ct.keyHeight,Pt=ct.keyWidth,xe=ct.autoHeight,Xe=ct.autoWidth,Ne=ct.unitWidth,Ge=ct.unitHeight,nn=["tc","bc"].indexOf(Vt)>=0,_e=["cl","cr"].indexOf(Vt)>=0,rn={};if(!nn){var ln=it.getBody().offsetWidth,tn=et.w<ln?et.w:ln;rn[Pt]=Xe?"auto":"".concat(tn).concat(Ne)}_e||(rn[Nt]=xe?"auto":"".concat(et.h).concat(Ge)),Y.getDragMode(dt)&&(rn.top="".concat(et.t).concat(Ge),rn.left="".concat(et.l).concat(Ne));var Tn=bt(bt({},rn),{__p:!Et});ae.addStyle(Tn,{avoidStore:!Et}),Y.Styles.__emitCmpStyleUpdate(Tn,{components:Y.getSelected()})}}},le);this.resizer=U.runCommand("resize",{el:lt,options:ve,force:1})}else{if(gt)return;U.stopCommand("resize"),this.resizer=null}},updateToolbar:function(V){var W=this.canvas,Y=this.config.em,it=V===Y?Y.getSelected():V,U=W.getToolbarEl(),dt=U.style,B=it.get("toolbar"),It=Y.config.showToolbar,gt=!W.hasCustomSpot(yt.q.Select);if(it&&It&&B&&B.length&&gt){if(dt.display="",!this.toolbar){U.innerHTML="",this.toolbar=new M(B);var lt=new J({collection:this.toolbar,em:Y});U.appendChild(lt.render().el)}this.toolbar.reset(B),dt.top="-100px",dt.left="0"}else dt.display="none"},updateToolbarPos:function(V){var W="px",Y=this.canvas.getToolbarEl().style;Y.top="".concat(V.top).concat(W),Y.left="".concat(V.left).concat(W),Y.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(V){return V===void 0&&(V={}),this.canvas.getBadgeEl(V.view)},onFrameScroll:function(){this.updateTools(),this.canvas.refreshSpots()},onFrameResize:function(){this.canvas.refresh({all:!0})},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(V){return V&&V.get("status")==="selected"},updateToolsLocal:function(V){var W=this.em.getConfig(),Y=V||this.getElHovered(),it=Y.el,U=Y.pos,dt=Y.view,B=Y.component;if(!it){this.lastHovered=0;return}var It=B.get("hoverable"),gt=this.lastHovered!==it,lt=gt?{}:{posOnly:1},kt=this.canvas.hasCustomSpot(yt.q.Hover);gt&&It&&(this.lastHovered=it,kt?this.hideHighlighter(dt):this.showHighlighter(dt),this.showElementOffset(it,U,{view:dt})),this.isCompSelected(B)&&(this.hideHighlighter(dt),!W.showOffsetsSelected&&this.hideElementOffset(dt));var Ht="px",Wt=this.toggleToolsEl(1,dt),ie=Wt.style,qt=this.canvas.canvasRectOffset(it,U),Zt=qt.top,St=qt.left;!kt&&this.updateBadge(it,U,bt(bt({},lt),{view:dt,topOff:Zt,leftOff:St})),ie.top=Zt+Ht,ie.left=St+Ht,ie.width=U.width+Ht,ie.height=U.height+Ht,this._trgToolUp("local",{component:B,el:Wt,top:Zt,left:St,width:U.width,height:U.height})},_upToolbar:(0,v.debounce)(function(){this.updateToolsGlobal({force:1})},0),_trgToolUp:function(V,W){W===void 0&&(W={}),this.em.trigger("canvas:tools:update",bt({type:V},W))},updateToolsGlobal:function(V){V===void 0&&(V={});var W=this.getElSelected(),Y=W.el,it=W.pos,U=W.component;if(!Y){this.toggleToolsEl(),this.lastSelected=0;return}var dt=this.canvas,B=this.lastSelected!==Y;(B||V.force)&&(this.lastSelected=Y,this.updateToolbar(U));var It="px",gt=this.toggleToolsEl(1),lt=gt.style,kt=dt.getTargetToElementFixed(Y,dt.getToolbarEl(),{pos:it}),Ht=kt.canvasOffsetTop,Wt=kt.canvasOffsetLeft;lt.top=Ht+It,lt.left=Wt+It,lt.width=it.width+It,lt.height=it.height+It,this.updateToolbarPos({top:kt.top,left:kt.left}),this._trgToolUp("global",{component:U,el:gt,top:Ht,left:Wt,width:it.width,height:it.height})},updateAttached:(0,v.debounce)(function(){this.updateGlobalPos()},0),onContainerChange:(0,v.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(V){return this.canvas.getCanvasView().getElementPos(V,{noScroll:!0})},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(V){V&&V.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(V){(0,X.hasWin)()&&(this.editor=V&&V.get("Editor"),this.enable())},stop:function(V,W,Y){if(Y===void 0&&(Y={}),!!(0,X.hasWin)()){var it=this,U=it.em,dt=it.editor;this.onHovered(),this.stopSelectComponent(),!Y.preserveSelected&&U.setSelected(),this.toggleToolsEl(),dt&&dt.stopCommand("resize")}}}},189:(i,s,f)=>{f.r(s),f.d(s,{default:()=>_});var v=f(895);const _={startSelectPosition:function(w,x,S){var E=this;S===void 0&&(S={}),this.isPointed=!1;var O=this.em.Utils,M=w.ownerDocument.body;O&&!this.sorter&&(this.sorter=new O.Sorter({container:M,placer:this.canvas.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,direction:"a",document:x,wmargin:1,nested:1,em:this.em,canvasRelative:1,scale:function(){return E.em.getZoomDecimal()}})),S.onStart&&(this.sorter.onStart=S.onStart),w&&this.sorter.startSort(w,{container:M})},getOffsetDim:function(){var w=this.offset(this.canvas.getFrameEl()),x=this.offset(this.canvas.getElement()),S=w.top-x.top,E=w.left-x.left;return{top:S,left:E}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex=this.posMethod=="after"&&this.cDim.length!==0?this.posIndex+1:this.posIndex,this.sorter&&(this.sorter.moved=0,this.sorter.endMove()),this.cDim&&(this.posIsLastEl=this.cDim.length!==0&&this.posMethod=="after"&&this.posIndex==this.cDim.length,this.posTargetEl=this.cDim.length===0?(0,v.default)(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?(0,v.default)(this.cDim[this.posIndex][5]).parent():(0,v.default)(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(w,x,S){var E=w||0,O=x||"before",M=S.length,A=M!==0&&O=="after"&&E==M;return M!==0&&(!A&&!S[E][4]||S[E-1]&&!S[E-1][4]||A&&!S[E-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},804:(i,s,f)=>{f.r(s),f.d(s,{default:()=>E});var v=f(50),_=f(675),w=f(895),x=f(491),S=function(){return S=Object.assign||function(O){for(var M,A=1,L=arguments.length;A<L;A++){M=arguments[A];for(var R in M)Object.prototype.hasOwnProperty.call(M,R)&&(O[R]=M[R])}return O},S.apply(this,arguments)};const E={getOffsetMethod:function(O){var M=O||"";return"get"+M+"OffsetViewerEl"},run:function(O,M,A){var L=this.canvas,R=A||{},$=R.state||"",at=O.getConfig(),mt=this.em.getZoomDecimal(),Z=R.el;if(!at.showOffsets||!Z||(0,x.BM)(Z)||!at.showOffsetsSelected&&$=="Fixed"){O.stopCommand("".concat(this.id),A);return}if(!L.hasCustomSpot(_.q.Spacing)){var J=S({},R.elPos||L.getElementPos(Z));(0,v.isUndefined)(R.top)||(J.top=R.top),(0,v.isUndefined)(R.left)||(J.left=R.left);var G=window.getComputedStyle(Z),X=this.ppfx,yt=$+"State",bt=this.getOffsetMethod($),Tt=L[bt](A.view);Tt.style.opacity="";var Ct=this["marginT"+$],Q=this["marginB"+$],V=this["marginL"+$],W=this["marginR"+$],Y=this["padT"+$],it=this["padB"+$],U=this["padL"+$],dt=this["padR"+$];if(Tt.childNodes.length&&(this[yt]="1",Ct=Tt.querySelector("[data-offset-m-t]"),Q=Tt.querySelector("[data-offset-m-b]"),V=Tt.querySelector("[data-offset-m-l]"),W=Tt.querySelector("[data-offset-m-r]"),Y=Tt.querySelector("[data-offset-p-t]"),it=Tt.querySelector("[data-offset-p-b]"),U=Tt.querySelector("[data-offset-p-l]"),dt=Tt.querySelector("[data-offset-p-r]")),!this[yt]){var B=$.toLowerCase(),It=B+"margin-v",gt=B+"padding-v",lt=(0,w.default)('<div class="'.concat(X,'marginName">')).get(0),kt=(0,w.default)('<div class="'.concat(X,'paddingName">')).get(0),Ht=X+It+"-el",Wt=X+gt+"-el",ie="".concat(Ht," ").concat(X+It),qt="".concat(Wt," ").concat(X+gt);Ct=(0,w.default)('<div class="'.concat(ie,'-top"></div>')).get(0),Q=(0,w.default)('<div class="'.concat(ie,'-bottom"></div>')).get(0),V=(0,w.default)('<div class="'.concat(ie,'-left"></div>')).get(0),W=(0,w.default)('<div class="'.concat(ie,'-right"></div>')).get(0),Y=(0,w.default)('<div class="'.concat(qt,'-top"></div>')).get(0),it=(0,w.default)('<div class="'.concat(qt,'-bottom"></div>')).get(0),U=(0,w.default)('<div class="'.concat(qt,'-left"></div>')).get(0),dt=(0,w.default)('<div class="'.concat(qt,'-right"></div>')).get(0),this["marginT"+$]=Ct,this["marginB"+$]=Q,this["marginL"+$]=V,this["marginR"+$]=W,this["padT"+$]=Y,this["padB"+$]=it,this["padL"+$]=U,this["padR"+$]=dt,lt.appendChild(Ct),lt.appendChild(Q),lt.appendChild(V),lt.appendChild(W),kt.appendChild(Y),kt.appendChild(it),kt.appendChild(U),kt.appendChild(dt),Tt.appendChild(lt),Tt.appendChild(kt),this[yt]="1"}var Zt="px",St=parseFloat(G.marginLeft.replace(Zt,""))*mt,zt=parseFloat(G.marginRight.replace(Zt,""))*mt,Kt=parseFloat(G.marginTop.replace(Zt,""))*mt,le=parseFloat(G.marginBottom.replace(Zt,""))*mt,ae=Ct.style,Jt=Q.style,ge=V.style,He=W.style,pn=Y.style,jn=it.style,gn=U.style,ve=dt.style,F=parseFloat(J.left),et=parseFloat(G.width)*mt+Zt;ae.height=Kt+Zt,ae.width=et,ae.top=J.top-Kt+Zt,ae.left=F+Zt,Jt.height=le+Zt,Jt.width=et,Jt.top=J.top+J.height+Zt,Jt.left=F+Zt;var ht=J.height+Kt+le+Zt,Et=J.top-Kt+Zt;ge.height=ht,ge.width=St+Zt,ge.top=Et,ge.left=F-St+Zt,He.height=ht,He.width=zt+Zt,He.top=Et,He.left=F+J.width+Zt;var Vt=parseFloat(G.paddingTop)*mt;pn.height=Vt+Zt;var ct=parseFloat(G.paddingBottom)*mt;jn.height=ct+Zt;var Nt=J.height-ct-Vt+Zt,Pt=J.top+Vt+Zt;gn.height=Nt,gn.width=parseFloat(G.paddingLeft)*mt+Zt,gn.top=Pt;var xe=parseFloat(G.paddingRight)*mt;ve.height=Nt,ve.width=xe+Zt,ve.top=Pt}},stop:function(O,M,A){A===void 0&&(A={});var L=A||{},R=L.state||"",$=this.getOffsetMethod(R),at=A.view,mt=this.canvas,Z=mt[$](at);Z.style.opacity=0}}},434:(i,s,f)=>{f.r(s),f.d(s,{default:()=>w});var v=f(50),_=f(163);const w={init:function(){(0,v.bindAll)(this,"_onFramesChange")},run:function(x){this.toggleVis(x,!0)},stop:function(x){this.toggleVis(x,!1)},toggleVis:function(x,S){if(S===void 0&&(S=!0),!x.Commands.isActive("preview")){var E=x.Canvas,O=S?"on":"off",M=E.getModel();M[O]("change:frames",this._onFramesChange),this.handleFrames(E.getFrames(),S)}},handleFrames:function(x,S){var E=this;x.forEach(function(O){var M;!((M=O.view)===null||M===void 0)&&M.loaded&&E._upFrame(O,S),O.__ol||(O.on("loaded",function(){return E._upFrame(O)}),O.__ol=!0)})},_onFramesChange:function(x,S){this.handleFrames(S)},_upFrame:function(x,S){var E,O=this,M=O.ppfx,A=O.em,L=O.id,R=(0,_.isDef)(S)?S:A.Commands.isActive(L),$=R?"add":"remove",at="".concat(M,"dashed");(E=x.view)===null||E===void 0||E.getBody().classList[$](at)}}},346:(i,s,f)=>{f.d(s,{FE:()=>E,G7:()=>O,Hn:()=>S,pH:()=>A,vA:()=>M});var v=f(316),_=f.n(v),w=function(){var L=function(R,$){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(at,mt){at.__proto__=mt}||function(at,mt){for(var Z in mt)Object.prototype.hasOwnProperty.call(mt,Z)&&(at[Z]=mt[Z])},L(R,$)};return function(R,$){if(typeof $!="function"&&$!==null)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");L(R,$);function at(){this.constructor=R}R.prototype=$===null?Object.create($):(at.prototype=$.prototype,new at)}}(),x=function(){return x=Object.assign||function(L){for(var R,$=1,at=arguments.length;$<at;$++){R=arguments[$];for(var mt in R)Object.prototype.hasOwnProperty.call(R,mt)&&(L[mt]=R[mt])}return L},x.apply(this,arguments)},S=function(L){w(R,L);function R(){return L!==null&&L.apply(this,arguments)||this}return R}(_().Model),E=function(L){w(R,L);function R(){return L!==null&&L.apply(this,arguments)||this}return R}(_().Collection),O=function(L){w(R,L);function R(){return L!==null&&L.apply(this,arguments)||this}return R}(_().View),M;(function(L){L.Screen="screen",L.World="world"})(M||(M={}));var A={x:0,y:0};x(x({},A),{width:0,height:0})},330:(i,s,f)=>{f.d(s,{Z:()=>S});var v=f(50),_=f(346),w=function(){var E=function(O,M){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,L){A.__proto__=L}||function(A,L){for(var R in L)Object.prototype.hasOwnProperty.call(L,R)&&(A[R]=L[R])},E(O,M)};return function(O,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");E(O,M);function A(){this.constructor=O}O.prototype=M===null?Object.create(M):(A.prototype=M.prototype,new A)}}(),x=function(E){w(O,E);function O(M,A,L){M===void 0&&(M={}),L===void 0&&(L=!1);var R=E.call(this,M)||this;return R.itemsView="",R.itemType="type",R.reuseView=!1,R.config=A||M.config||{},L&&R.listenTo(R.collection,"add",R.addTo),R.items=[],R}return O.prototype.addTo=function(M){this.add(M)},O.prototype.itemViewNotFound=function(M){var A=this,L=A.config,R=A.ns,$=L.em,at="".concat(R?"[".concat(R,"]: "):"","'").concat(M,"' type not found");$&&$.logWarning(at)},O.prototype.add=function(M,A){var L=this,R=L.config,$=L.reuseView,at=L.items,mt=this.itemsView||{},Z=["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],J=A||null,G=this.itemView,X=M.get(this.itemType),yt;mt[X]?G=mt[X]:X&&!mt[X]&&!(0,v.includes)(Z,X)&&this.itemViewNotFound(X),M.view&&$?yt=M.view:yt=new G({model:M,config:R},R),at&&at.push(yt);var bt=yt.render().el;J?J.appendChild(bt):this.$el.append(bt)},O.prototype.render=function(){var M=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(A){this.add(A,M)},this),this.$el.append(M),this.onRender(),this},O.prototype.onRender=function(){},O.prototype.onRemoveBefore=function(M,A){},O.prototype.onRemove=function(M,A){},O.prototype.remove=function(M){M===void 0&&(M={});var A=this.items;return this.onRemoveBefore(A,M),this.clearItems(),E.prototype.remove.call(this),this.onRemove(A,M),this},O.prototype.clearItems=function(){this.items},O}(_.G7);const S=x;x.prototype.itemView=""},668:(i,s,f)=>{f.d(s,{Z:()=>O});var v=f(50),_=f(491),w=function(){return w=Object.assign||function(M){for(var A,L=1,R=arguments.length;L<R;L++){A=arguments[L];for(var $ in A)Object.prototype.hasOwnProperty.call(A,$)&&(M[$]=A[$])}return M},w.apply(this,arguments)},x=function(){return{x:0,y:0}},S=["x","y"],E=function(){function M(A){return A===void 0&&(A={}),this.opts={snapOffset:5,scale:1},(0,v.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(A),this.delta=x(),this.lastScroll=x(),this.lastScrollDiff=x(),this.startPointer=x(),this.startPosition=x(),this.globScrollDiff=x(),this.currentPointer=x(),this.position=x(),this.guidesStatic=[],this.guidesTarget=[],this.docs=[],this}return M.prototype.setOptions=function(A){A===void 0&&(A={}),this.opts=w(w({},this.opts),A)},M.prototype.toggleDrag=function(A){var L=this.getDocumentEl(),R=this.getContainerEl(),$=this.getWindowEl(),at=A?"on":"off",mt={on:_.on,off:_.S1};mt[at](R,"mousemove dragover",this.drag),mt[at](L,"mouseup dragend touchend",this.stop),mt[at](L,"keydown",this.keyHandle),mt[at]($,"scroll",this.handleScroll)},M.prototype.handleScroll=function(){var A=this,L=A.lastScroll,R=A.delta,$=this.getScrollInfo(),at={x:$.x-L.x,y:$.y-L.y};this.move(R.x+at.x,R.y+at.y),this.lastScrollDiff=at},M.prototype.start=function(A){var L=this.opts,R=L.onStart;this.toggleDrag(!0),this.startPointer=this.getPointerPos(A),this.guidesStatic=(0,v.result)(L,"guidesStatic")||[],this.guidesTarget=(0,v.result)(L,"guidesTarget")||[],(0,v.isFunction)(R)&&R(A,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff=x(),this.globScrollDiff=x(),this.drag(A)},M.prototype.drag=function(A){var L=this,R=this,$=R.opts,at=R.lastScrollDiff,mt=R.globScrollDiff,Z=$.onDrag,J=this.startPointer,G=this.getPointerPos(A),X={x:mt.x+at.x,y:mt.y+at.y};this.globScrollDiff=X;var yt={x:G.x-J.x+X.x,y:G.y-J.y+X.y};this.lastScrollDiff=x();var bt=this.lockedAxis;A.shiftKey?bt=!bt&&this.detectAxisLock(yt.x,yt.y):bt=null,bt==="x"?yt.x=J.x:bt==="y"&&(yt.y=J.y);var Tt=function(it){S.forEach(function(U){return it[U]=it[U]*(0,v.result)($,"scale")}),L.delta=it,L.move(it.x,it.y),(0,v.isFunction)(Z)&&Z(A,L)},Ct=w({},yt);if(this.currentPointer=G,this.lockedAxis=bt,this.lastScroll=this.getScrollInfo(),Tt(yt),this.guidesTarget.length){var Q=this.snapGuides(Ct),V=Q.newDelta,W=Q.trgX,Y=Q.trgY;(W||Y)&&Tt(V)}A.which===0&&this.stop(A)},M.prototype.snapGuides=function(A){var L=this,R=A,$=this,at=$.trgX,mt=$.trgY;return this.guidesTarget.forEach(function(Z){Z.x&&L.trgX||Z.y&&L.trgY||(Z.active=!1,L.guidesStatic.forEach(function(J){if(!(Z.y&&J.x||Z.x&&J.y)){var G=Z.y&&J.y,X=G?"y":"x",yt=Z[X],bt=J[X],Tt=A[X],Ct=G?mt:at;if(L.isPointIn(yt,bt)&&(0,v.isUndefined)(Ct)){var Q=Tt-(yt-bt);L.setGuideLock(Z,Q)}}}))}),at=this.trgX,mt=this.trgY,S.forEach(function(Z){var J=Z.toUpperCase(),G=L["trg".concat(J)];G&&!L.isPointIn(A[Z],G.lock)&&(L.setGuideLock(G,null),G=null),G&&!(0,v.isUndefined)(G.lock)&&(R[Z]=G.lock)}),{newDelta:R,trgX:this.trgX,trgY:this.trgY}},M.prototype.isPointIn=function(A,L,R){var $=R===void 0?{}:R,at=$.offset,mt=at||this.opts.snapOffset||0;return A>=L&&A<=L+mt||A<=L&&A>=L-mt},M.prototype.setGuideLock=function(A,L){var R=(0,v.isUndefined)(A.x)?"Y":"X",$="trg".concat(R);return L!==null?(A.active=!0,A.lock=L,this[$]=A):(delete A.active,delete A.lock,delete this[$]),A},M.prototype.stop=function(A,L){L===void 0&&(L={});var R=this.delta,$=!!L.cancel,at=$?0:R.x,mt=$?0:R.y;this.toggleDrag(),this.lockedAxis=null,this.move(at,mt,!0);var Z=this.opts.onEnd;(0,v.isFunction)(Z)&&Z(A,this,{cancelled:$})},M.prototype.keyHandle=function(A){(0,_.kl)(A)&&this.stop(A,{cancel:!0})},M.prototype.move=function(A,L,R){var $=this,at=$.el,mt=$.opts,Z=this.startPosition;if(Z){var J=mt.setPosition,G=Z.x+A,X=Z.y+L;this.position={x:G,y:X,end:R},(0,v.isFunction)(J)&&J(this.position),at&&(at.style.left="".concat(G,"px"),at.style.top="".concat(X,"px"))}},M.prototype.getContainerEl=function(){var A=this.opts.container;return A?[A]:this.getDocumentEl()},M.prototype.getWindowEl=function(){var A=this.getContainerEl();return A.map(function(L){var R=L.ownerDocument||L;return R.defaultView||R.parentWindow})},M.prototype.getDocumentEl=function(A){var L=this.opts.doc;if(A=A||this.el,!this.docs.length){var R=[document];A&&R.push(A.ownerDocument),L&&R.push(L),this.docs=R}return this.docs},M.prototype.getPointerPos=function(A){var L=this.opts.getPointerPosition,R=(0,_.VB)(A);return L?L(A):{x:R.clientX,y:R.clientY}},M.prototype.getStartPosition=function(){var A=this,L=A.el,R=A.opts,$=R.getPosition,at=x();return(0,v.isFunction)($)?at=$():L&&(at={x:parseFloat(L.style.left),y:parseFloat(L.style.top)}),at},M.prototype.getScrollInfo=function(){var A=this.opts.doc,L=A&&A.body;return{y:L?L.scrollTop:0,x:L?L.scrollLeft:0}},M.prototype.detectAxisLock=function(A,L){var R=A,$=L,at=Math.abs(R),mt=Math.abs($);if($>=at||$<=-at)return"x";if(R>mt||R<-mt)return"y"},M}();const O=E},895:(i,s,f)=>{f.r(s),f.d(s,{default:()=>So});var v=typeof document<"u"?document:null,_=typeof window<"u"?window:null,w=Array.prototype,x=w.filter,S=w.indexOf,E=w.map,O=w.push,M=w.reverse,A=w.slice,L=w.splice,R=/^#[\w-]*$/,$=/^\.[\w-]*$/,at=/<.+>/,mt=/^\w+$/;function Z(tt,wt){return wt===void 0&&(wt=v),$.test(tt)?wt.getElementsByClassName(tt.slice(1)):mt.test(tt)?wt.getElementsByTagName(tt):wt.querySelectorAll(tt)}function J(tt,wt){if(wt===void 0&&(wt=v),!!tt){if(tt.__cash)return tt;var Mt=tt;if(it(tt)){if(wt.__cash&&(wt=wt[0]),Mt=R.test(tt)?wt.getElementById(tt.slice(1)):at.test(tt)?un(tt):Z(tt,wt),!Mt)return}else if(Y(tt))return this.ready(tt);(Mt.nodeType||Mt===_)&&(Mt=[Mt]),this.length=Mt.length;for(var $t=0,he=this.length;$t<he;$t++)this[$t]=Mt[$t]}}function G(tt,wt){return new J(tt,wt)}var X=G.fn=G.prototype=J.prototype={constructor:G,__cash:!0,length:0,splice:L};X.get=function(tt){return tt===void 0?A.call(this):this[tt<0?tt+this.length:tt]},X.eq=function(tt){return G(this.get(tt))},X.first=function(){return this.eq(0)},X.last=function(){return this.eq(-1)},X.map=function(tt){return G(E.call(this,function(wt,Mt){return tt.call(wt,Mt,wt)}))},X.slice=function(){return G(A.apply(this,arguments))};var yt=/(?:^\w|[A-Z]|\b\w)/g,bt=/[\s-_]+/g;function Tt(tt){return tt.replace(yt,function(wt,Mt){return wt[Mt?"toUpperCase":"toLowerCase"]()}).replace(bt,"")}G.camelCase=Tt;function Ct(tt,wt){for(var Mt=0,$t=tt.length;Mt<$t&&wt.call(tt[Mt],tt[Mt],Mt,tt)!==!1;Mt++);}G.each=Ct,X.each=function(tt){return Ct(this,function(wt,Mt){return tt.call(wt,Mt,wt)}),this},X.removeProp=function(tt){return this.each(function(wt,Mt){delete Mt[tt]})};function Q(tt){tt===void 0&&(tt=this);for(var wt=arguments,Mt=wt.length,$t=Mt<2?0:1;$t<Mt;$t++)for(var he in wt[$t])tt[he]=wt[$t][he];return tt}G.extend=X.extend=Q;var V=1;G.guid=V;function W(tt,wt){var Mt=tt&&(tt.matches||tt.webkitMatchesSelector||tt.mozMatchesSelector||tt.msMatchesSelector||tt.oMatchesSelector);return!!Mt&&Mt.call(tt,wt)}G.matches=W;function Y(tt){return typeof tt=="function"}G.isFunction=Y;function it(tt){return typeof tt=="string"}G.isString=it;function U(tt){return!isNaN(parseFloat(tt))&&isFinite(tt)}G.isNumeric=U;var dt=Array.isArray;G.isArray=dt,X.prop=function(tt,wt){if(tt){if(it(tt))return arguments.length<2?this[0]&&this[0][tt]:this.each(function($t,he){he[tt]=wt});for(var Mt in tt)this.prop(Mt,tt[Mt]);return this}};function B(tt){return it(tt)?function(wt,Mt){return W(Mt,tt)}:tt.__cash?function(wt,Mt){return tt.is(Mt)}:function(wt,Mt,$t){return Mt===$t}}X.filter=function(tt){if(!tt)return G();var wt=Y(tt)?tt:B(tt);return G(x.call(this,function(Mt,$t){return wt.call(Mt,$t,Mt,tt)}))};var It=/\S+/g;function gt(tt){return it(tt)?tt.match(It)||[]:[]}X.hasClass=function(tt){var wt=gt(tt),Mt=!1;return wt.length&&this.each(function($t,he){return Mt=he.classList.contains(wt[0]),!Mt}),Mt},X.removeAttr=function(tt){var wt=gt(tt);return wt.length?this.each(function(Mt,$t){Ct(wt,function(he){$t.removeAttribute(he)})}):this},X.attr=function(tt,wt){if(tt){if(it(tt)){if(arguments.length<2){if(!this[0])return;var Mt=this[0].getAttribute(tt);return Mt===null?void 0:Mt}return wt===null?this.removeAttr(tt):this.each(function(he,Me){Me.setAttribute(tt,wt)})}for(var $t in tt)this.attr($t,tt[$t]);return this}},X.toggleClass=function(tt,wt){var Mt=gt(tt),$t=wt!==void 0;return Mt.length?this.each(function(he,Me){Ct(Mt,function(Je){$t?wt?Me.classList.add(Je):Me.classList.remove(Je):Me.classList.toggle(Je)})}):this},X.addClass=function(tt){return this.toggleClass(tt,!0)},X.removeClass=function(tt){return arguments.length?this.toggleClass(tt,!1):this.attr("class","")};function lt(tt){return tt.filter(function(wt,Mt,$t){return $t.indexOf(wt)===Mt})}G.unique=lt,X.add=function(tt,wt){return G(lt(this.get().concat(G(tt,wt).get())))};function kt(tt,wt,Mt){if(tt.nodeType===1){var $t=_.getComputedStyle(tt,null);return wt?Mt?$t.getPropertyValue(wt):$t[wt]:$t}}function Ht(tt,wt){return parseInt(kt(tt,wt),10)||0}var Wt=/^--/;function ie(tt){return Wt.test(tt)}var qt={},Zt=v&&v.createElement("div"),St=Zt?Zt.style:{},zt=["webkit","moz","ms","o"];function Kt(tt,wt){if(wt===void 0&&(wt=ie(tt)),wt)return tt;if(!qt[tt]){var Mt=Tt(tt),$t=""+Mt.charAt(0).toUpperCase()+Mt.slice(1),he=(Mt+" "+zt.join($t+" ")+$t).split(" ");Ct(he,function(Me){if(Me in St)return qt[tt]=Me,!1})}return qt[tt]}G.prefixedProp=Kt;var le={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function ae(tt,wt,Mt){return Mt===void 0&&(Mt=ie(tt)),!Mt&&!le[tt]&&U(wt)?wt+"px":wt}X.css=function(tt,wt){if(it(tt)){var Mt=ie(tt);return tt=Kt(tt,Mt),arguments.length<2?this[0]&&kt(this[0],tt,Mt):tt?(wt=ae(tt,wt,Mt),this.each(function(he,Me){Me.nodeType===1&&(Mt?Me.style.setProperty(tt,wt):Me.style[tt]=wt)})):this}for(var $t in tt)this.css($t,tt[$t]);return this};var Jt="__cashData",ge=/^data-(.*)/;G.hasData=function(tt){return Jt in tt};function He(tt){return tt[Jt]=tt[Jt]||{}}function pn(tt,wt){var Mt=He(tt);if(wt){if(!(wt in Mt)){var $t=tt.dataset?tt.dataset[wt]||tt.dataset[Tt(wt)]:G(tt).attr("data-"+wt);if($t!==void 0){try{$t=JSON.parse($t)}catch{}Mt[wt]=$t}}return Mt[wt]}return Mt}function jn(tt,wt){wt===void 0?delete tt[Jt]:delete He(tt)[wt]}function gn(tt,wt,Mt){He(tt)[wt]=Mt}X.data=function(tt,wt){var Mt=this;if(!tt)return this[0]?(Ct(this[0].attributes,function(he){var Me=he.name.match(ge);Me&&Mt.data(Me[1])}),pn(this[0])):void 0;if(it(tt))return wt===void 0?this[0]&&pn(this[0],tt):this.each(function(he,Me){return gn(Me,tt,wt)});for(var $t in tt)this.data($t,tt[$t]);return this},X.removeData=function(tt){return this.each(function(wt,Mt){return jn(Mt,tt)})};function ve(tt,wt){return Ht(tt,"border"+(wt?"Left":"Top")+"Width")+Ht(tt,"padding"+(wt?"Left":"Top"))+Ht(tt,"padding"+(wt?"Right":"Bottom"))+Ht(tt,"border"+(wt?"Right":"Bottom")+"Width")}Ct(["Width","Height"],function(tt){X["inner"+tt]=function(){if(this[0])return this[0]===_?_["inner"+tt]:this[0]["client"+tt]}}),Ct(["width","height"],function(tt,wt){X[tt]=function(Mt){return this[0]?arguments.length?(Mt=parseInt(Mt,10),this.each(function($t,he){if(he.nodeType===1){var Me=kt(he,"boxSizing");he.style[tt]=ae(tt,Mt+(Me==="border-box"?ve(he,!wt):0))}})):this[0]===_?this[0][Tt("outer-"+tt)]:this[0].getBoundingClientRect()[tt]-ve(this[0],!wt):Mt===void 0?void 0:this}}),Ct(["Width","Height"],function(tt,wt){X["outer"+tt]=function(Mt){if(this[0])return this[0]===_?_["outer"+tt]:this[0]["offset"+tt]+(Mt?Ht(this[0],"margin"+(wt?"Top":"Left"))+Ht(this[0],"margin"+(wt?"Bottom":"Right")):0)}});function F(tt,wt){for(var Mt=0,$t=wt.length;Mt<$t;Mt++)if(tt.indexOf(wt[Mt])<0)return!1;return!0}function et(tt,wt,Mt){Ct(tt[Mt],function($t){$t[0];var he=$t[1];wt.removeEventListener(Mt,he)}),delete tt[Mt]}var ht="__cashEvents",Et=".";function Vt(tt){return tt[ht]=tt[ht]||{}}function ct(tt,wt,Mt,$t){$t.guid=$t.guid||V++;var he=Vt(tt);he[wt]=he[wt]||[],he[wt].push([Mt,$t]),tt.addEventListener(wt,$t)}function Nt(tt){var wt=tt.split(Et);return[wt[0],wt.slice(1).sort()]}function Pt(tt,wt,Mt,$t){var he=Vt(tt);if(wt){var Me=he[wt];if(!Me)return;$t&&($t.guid=$t.guid||V++),he[wt]=Me.filter(function(Je){var hr=Je[0],vr=Je[1];if($t&&vr.guid!==$t.guid||!F(hr,Mt))return!0;tt.removeEventListener(wt,vr)})}else if(!Mt||!Mt.length)for(wt in he)et(he,tt,wt);else for(wt in he)Pt(tt,wt,Mt,$t)}X.off=function(tt,wt){var Mt=this;return tt===void 0?this.each(function($t,he){return Pt(he)}):Ct(gt(tt),function($t){var he=Nt($t),Me=he[0],Je=he[1];Mt.each(function(hr,vr){return Pt(vr,Me,Je,wt)})}),this},X.on=function(tt,wt,Mt,$t){var he=this;if(!it(tt)){for(var Me in tt)this.on(Me,wt,tt[Me]);return this}return Y(wt)&&(Mt=wt,wt=!1),Ct(gt(tt),function(Je){var hr=Nt(Je),vr=hr[0],In=hr[1];he.each(function(mi,gr){var Gr=function yi(Rn){if(!(Rn.namespace&&!F(In,Rn.namespace.split(Et)))){var Cn=gr;if(wt){for(var Zn=Rn.target;!W(Zn,wt);)if(Zn===gr||(Zn=Zn.parentNode,!Zn))return;Cn=Zn}Rn.namespace=Rn.namespace||"";var Kr=Mt.call(Cn,Rn,Rn.data);$t&&Pt(gr,vr,In,yi),Kr===!1&&(Rn.preventDefault(),Rn.stopPropagation())}};Gr.guid=Mt.guid=Mt.guid||V++,ct(gr,vr,In,Gr)})}),this},X.one=function(tt,wt,Mt){return this.on(tt,wt,Mt,!0)},X.ready=function(tt){var wt=function(){return tt(G)};return v.readyState!=="loading"?setTimeout(wt):v.addEventListener("DOMContentLoaded",wt),this},X.trigger=function(tt,wt){var Mt=tt;if(it(tt)){var $t=Nt(tt),he=$t[0],Me=$t[1];Mt=v.createEvent("HTMLEvents"),Mt.initEvent(he,!0,!0),Mt.namespace=Me.join(Et)}return Mt.data=wt,this.each(function(Je,hr){hr.dispatchEvent(Mt)})};function xe(tt){var wt=[];return Ct(tt.options,function(Mt){Mt.selected&&!Mt.disabled&&!Mt.parentNode.disabled&&wt.push(Mt.value)}),wt}function Xe(tt){return tt.selectedIndex<0?null:tt.options[tt.selectedIndex].value}var Ne=/select-one/i,Ge=/select-multiple/i;function nn(tt){var wt=tt.type;return Ne.test(wt)?Xe(tt):Ge.test(wt)?xe(tt):tt.value}var _e=/%20/g;function rn(tt,wt){return"&"+encodeURIComponent(tt)+"="+encodeURIComponent(wt).replace(_e,"+")}var ln=/file|reset|submit|button|image/i,tn=/radio|checkbox/i;X.serialize=function(){var tt="";return this.each(function(wt,Mt){Ct(Mt.elements||[Mt],function($t){if(!($t.disabled||!$t.name||$t.tagName==="FIELDSET")&&!ln.test($t.type)&&!(tn.test($t.type)&&!$t.checked)){var he=nn($t);if(he!==void 0){var Me=dt(he)?he:[he];Ct(Me,function(Je){tt+=rn($t.name,Je)})}}})}),tt.substr(1)},X.val=function(tt){return tt===void 0?this[0]&&nn(this[0]):this.each(function(wt,Mt){var $t=Ge.test(Mt.type),he=tt===null?$t?[]:"":tt;$t&&dt(he)?Ct(Mt.options,function(Me){Me.selected=he.indexOf(Me.value)>=0}):Mt.value=he})},X.clone=function(){return this.map(function(tt,wt){return wt.cloneNode(!0)})},X.detach=function(){return this.each(function(tt,wt){wt.parentNode&&wt.parentNode.removeChild(wt)})};var Tn=/^\s*<(\w+)[^>]*>/,Ce=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/,En;function Re(){if(!En){var tt=v.createElement("table"),wt=v.createElement("tr");En={"*":v.createElement("div"),tr:v.createElement("tbody"),td:wt,th:wt,thead:tt,tbody:tt,tfoot:tt}}}function un(tt){if(Re(),!it(tt))return[];if(Ce.test(tt))return[v.createElement(RegExp.$1)];var wt=Tn.test(tt)&&RegExp.$1,Mt=En[wt]||En["*"];return Mt.innerHTML=tt,G(Mt.childNodes).detach().get()}G.parseHTML=un,X.empty=function(){var tt=this[0];if(tt)for(;tt.firstChild;)tt.removeChild(tt.firstChild);return this};function Ze(tt,wt,Mt){Mt?tt.insertBefore(wt,tt.childNodes[0]):tt.appendChild(wt)}function ee(tt,wt,Mt){if(wt!==void 0){var $t=it(wt);!$t&&wt.length?Ct(wt,function(he){return ee(tt,he,Mt)}):Ct(tt,$t?function(he){he.insertAdjacentHTML(Mt?"afterbegin":"beforeend",wt)}:function(he,Me){return Ze(he,Me?wt.cloneNode(!0):wt,Mt)})}}X.append=function(){var tt=this;return Ct(arguments,function(wt){ee(tt,wt)}),this},X.appendTo=function(tt){return ee(G(tt),this),this},X.html=function(tt){if(tt===void 0)return this[0]&&this[0].innerHTML;var wt=tt.nodeType?tt[0].outerHTML:tt;return this.each(function(Mt,$t){$t.innerHTML=wt})},X.insertAfter=function(tt){var wt=this;return G(tt).each(function(Mt,$t){var he=$t.parentNode;wt.each(function(Me,Je){he.insertBefore(Mt?Je.cloneNode(!0):Je,$t.nextSibling)})}),this},X.after=function(){var tt=this;return Ct(M.apply(arguments),function(wt){M.apply(G(wt).slice()).insertAfter(tt)}),this},X.insertBefore=function(tt){var wt=this;return G(tt).each(function(Mt,$t){var he=$t.parentNode;wt.each(function(Me,Je){he.insertBefore(Mt?Je.cloneNode(!0):Je,$t)})}),this},X.before=function(){var tt=this;return Ct(arguments,function(wt){G(wt).insertBefore(tt)}),this},X.prepend=function(){var tt=this;return Ct(arguments,function(wt){ee(tt,wt,!0)}),this},X.prependTo=function(tt){return ee(G(tt),M.apply(this.slice()),!0),this},X.remove=function(){return this.detach().off()},X.replaceWith=function(tt){var wt=this;return this.each(function(Mt,$t){var he=$t.parentNode;if(he){var Me=Mt?G(tt).clone():G(tt);if(!Me[0])return wt.remove(),!1;he.replaceChild(Me[0],$t),G(Me[0]).after(Me.slice(1))}})},X.replaceAll=function(tt){return G(tt).replaceWith(this),this},X.text=function(tt){return tt===void 0?this[0]?this[0].textContent:"":this.each(function(wt,Mt){Mt.textContent=tt})};var Nn=v&&v.documentElement;X.offset=function(){var tt=this[0];if(tt){var wt=tt.getBoundingClientRect();return{top:wt.top+_.pageYOffset-Nn.clientTop,left:wt.left+_.pageXOffset-Nn.clientLeft}}},X.offsetParent=function(){return G(this[0]&&this[0].offsetParent)},X.position=function(){var tt=this[0];if(tt)return{left:tt.offsetLeft,top:tt.offsetTop}},X.children=function(tt){var wt=[];return this.each(function(Mt,$t){O.apply(wt,$t.children)}),wt=G(lt(wt)),tt?wt.filter(function(Mt,$t){return W($t,tt)}):wt},X.contents=function(){var tt=[];return this.each(function(wt,Mt){O.apply(tt,Mt.tagName==="IFRAME"?[Mt.contentDocument]:Mt.childNodes)}),G(tt.length&&lt(tt))},X.find=function(tt){for(var wt=[],Mt=0,$t=this.length;Mt<$t;Mt++){var he=Z(tt,this[Mt]);he.length&&O.apply(wt,he)}return G(wt.length&&lt(wt))},X.has=function(tt){var wt=it(tt)?function(Mt,$t){return!!Z(tt,$t).length}:function(Mt,$t){return $t.contains(tt)};return this.filter(wt)},X.is=function(tt){if(!tt||!this[0])return!1;var wt=B(tt),Mt=!1;return this.each(function($t,he){return Mt=wt($t,he,tt),!Mt}),Mt},X.next=function(){return G(this[0]&&this[0].nextElementSibling)},X.not=function(tt){if(!tt||!this[0])return this;var wt=B(tt);return this.filter(function(Mt,$t){return!wt(Mt,$t,tt)})},X.parent=function(){var tt=[];return this.each(function(wt,Mt){Mt&&Mt.parentNode&&tt.push(Mt.parentNode)}),G(lt(tt))},X.index=function(tt){var wt=tt?G(tt)[0]:this[0],Mt=tt?this:G(wt).parent().children();return S.call(Mt,wt)},X.closest=function(tt){return!tt||!this[0]?G():this.is(tt)?this.filter(tt):this.parent().closest(tt)},X.parents=function(tt){var wt=[],Mt;return this.each(function($t,he){for(Mt=he;Mt&&Mt.parentNode&&Mt!==v.body.parentNode;)Mt=Mt.parentNode,(!tt||tt&&W(Mt,tt))&&wt.push(Mt)}),G(lt(wt))},X.prev=function(){return G(this[0]&&this[0].previousElementSibling)},X.siblings=function(){var tt=this[0];return this.parent().children().filter(function(wt,Mt){return Mt!==tt})};const So=G},491:(i,s,f)=>{f.d(s,{$Q:()=>at,BM:()=>yt,FW:()=>L,G1:()=>S,GX:()=>Q,L_:()=>O,Mx:()=>E,R3:()=>mt,S1:()=>gt,SJ:()=>X,Ut:()=>Ct,VB:()=>Y,Vb:()=>B,cx:()=>M,dL:()=>$,kl:()=>it,o5:()=>Tt,on:()=>It,pn:()=>R,r$:()=>U,rw:()=>J,sE:()=>A,sN:()=>W,t3:()=>G,ut:()=>Z});var v=f(50),_=function(lt,kt,Ht){if(Ht||arguments.length===2)for(var Wt=0,ie=kt.length,qt;Wt<ie;Wt++)(qt||!(Wt in kt))&&(qt||(qt=Array.prototype.slice.call(kt,0,Wt)),qt[Wt]=kt[Wt]);return lt.concat(qt||Array.prototype.slice.call(kt))},w="tag",x="attributes",S="transitionend oTransitionEnd transitionend webkitTransitionEnd",E=function(lt){return(lt==null?void 0:lt.nodeType)===Node.DOCUMENT_NODE},O=function(lt){var kt=lt&&lt.parentNode;kt&&kt.removeChild(lt)};function M(){for(var lt=[],kt=0;kt<arguments.length;kt++)lt[kt]=arguments[kt];var Ht=Array.isArray(lt[0])?lt[0]:_([],lt,!0);return Ht.filter(Boolean).join(" ")}var A=function(lt,kt){return lt.querySelectorAll(kt)},L=function(lt,kt){return kt===void 0&&(kt={}),lt&&lt.setAttribute&&(0,v.each)(kt,function(Ht,Wt){return lt.setAttribute(Wt,Ht)})},R=function(lt){var kt;return lt&&!!(lt.offsetWidth||lt.offsetHeight||!((kt=lt.getClientRects)===null||kt===void 0)&&kt.call(lt).length)},$=function(lt,kt){var Ht;(Ht=lt.parentNode)===null||Ht===void 0||Ht.replaceChild(kt,lt)},at=function(lt,kt,Ht){var Wt=lt.childNodes,ie=Wt.length,qt=(0,v.isUndefined)(Ht)?ie:Ht;(0,v.isString)(kt)&&(lt.insertAdjacentHTML("beforeEnd",kt),kt=lt.lastChild,lt.removeChild(kt)),qt>=ie?lt.appendChild(kt):lt.insertBefore(kt,Wt[qt])},mt=function(lt,kt){return at(lt,kt)},Z=function(lt,kt,Ht){kt===void 0&&(kt={});var Wt=document.createElement(lt);return kt&&(0,v.each)(kt,function(ie,qt){return Wt.setAttribute(qt,ie)}),Ht&&((0,v.isString)(Ht)?Wt.innerHTML=Ht:Wt.appendChild(Ht)),Wt},J=function(lt){return document.createTextNode(lt)},G=function(lt,kt){var Ht,Wt=lt.type;try{Ht=new window[kt](Wt,lt)}catch{Ht=document.createEvent(kt),Ht.initEvent(Wt,!0,!0)}return Ht._parentEvent=lt,Wt.indexOf("key")===0&&(Ht.keyCodeVal=lt.keyCode,["keyCode","which"].forEach(function(ie){Object.defineProperty(Ht,ie,{get:function(){return this.keyCodeVal}})})),Ht},X=function(lt,kt){kt===void 0&&(kt=[]);var Ht=Array.isArray(kt)?kt:[kt];Ht.forEach(function(Wt){var ie=Wt[w]||"div",qt=Wt[x]||{},Zt=document.createElement(ie);(0,v.each)(qt,function(St,zt){Zt.setAttribute(zt,St)}),lt.appendChild(Zt)})},yt=function(lt){return(lt==null?void 0:lt.nodeType)===Node.TEXT_NODE},bt=function(lt){return(lt==null?void 0:lt.nodeType)===Node.COMMENT_NODE},Tt=function(lt){return lt&&!yt(lt)&&!bt(lt)},Ct=function(lt){var kt={top:0,left:0,width:0,height:0};if(!lt)return kt;var Ht;if(yt(lt)){var Wt=document.createRange();Wt.selectNode(lt),Ht=Wt.getBoundingClientRect(),Wt.detach()}return Ht||(lt.getBoundingClientRect?lt.getBoundingClientRect():kt)},Q=function(lt){var kt=(lt==null?void 0:lt.ownerDocument)||document,Ht=kt.documentElement,Wt=kt.defaultView||window;return{x:(Wt.pageXOffset||Ht.scrollLeft||0)-(Ht.clientLeft||0),y:(Wt.pageYOffset||Ht.scrollTop||0)-(Ht.clientTop||0)}},V=function(lt){return lt.which||lt.keyCode},W=function(lt){return String.fromCharCode(V(lt))},Y=function(lt){return lt.touches&&lt.touches[0]?lt.touches[0]:lt},it=function(lt){return V(lt)===27},U=function(lt){return V(lt)===13},dt=function(lt){return lt.ctrlKey},B=function(lt){return dt(lt)||lt.metaKey},It=function(lt,kt,Ht,Wt){var ie=kt.split(/\s+/),qt=(0,v.isArray)(lt)?lt:[lt];ie.forEach(function(Zt){qt.forEach(function(St){return St==null?void 0:St.addEventListener(Zt,Ht,Wt)})})},gt=function(lt,kt,Ht,Wt){var ie=kt.split(/\s+/),qt=(0,v.isArray)(lt)?lt:[lt];ie.forEach(function(Zt){qt.forEach(function(St){return St==null?void 0:St.removeEventListener(Zt,Ht,Wt)})})}},163:(i,s,f)=>{f.r(s),f.d(s,{appendStyles:()=>J,buildBase64UrlFromSvg:()=>Zt,camelCase:()=>bt,capitalize:()=>It,createId:()=>qt,deepMerge:()=>it,escape:()=>W,escapeNodeContent:()=>Y,find:()=>V,getComponentModel:()=>Wt,getComponentView:()=>Ht,getElement:()=>Q,getGlobal:()=>R,getModel:()=>U,getUiClass:()=>Z,getUnitFromValue:()=>X,getViewEl:()=>lt,hasDnd:()=>Ct,hasWin:()=>L,isBultInMethod:()=>E,isComponent:()=>kt,isDef:()=>A,isEmptyObj:()=>B,isObject:()=>dt,isRule:()=>gt,matches:()=>mt,normalizeFloat:()=>Tt,normalizeKey:()=>O,setViewEl:()=>ie,shallowDiff:()=>G,toLowerCase:()=>$,upFirst:()=>yt,wait:()=>M});var v=f(50),_=f(491),w=function(){return w=Object.assign||function(St){for(var zt,Kt=1,le=arguments.length;Kt<le;Kt++){zt=arguments[Kt];for(var ae in zt)Object.prototype.hasOwnProperty.call(zt,ae)&&(St[ae]=zt[ae])}return St},w.apply(this,arguments)},x=function(St,zt,Kt){if(Kt||arguments.length===2)for(var le=0,ae=zt.length,Jt;le<ae;le++)(Jt||!(le in zt))&&(Jt||(Jt=Array.prototype.slice.call(zt,0,le)),Jt[le]=zt[le]);return St.concat(Jt||Array.prototype.slice.call(zt))},S={},E=function(St){return(0,v.isFunction)(S[St])},O=function(St){return E(St)?"_".concat(St):St},M=function(St){return St===void 0&&(St=0),new Promise(function(zt){return setTimeout(zt,St)})},A=function(St){return typeof St<"u"},L=function(){return typeof window<"u"},R=function(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:f.g},$=function(St){return(St||"").toLowerCase()},at=L()?window.Element.prototype:{},mt=at.matches||at.webkitMatchesSelector||at.mozMatchesSelector||at.msMatchesSelector,Z=function(St,zt){var Kt=St.getConfig(),le=Kt.stylePrefix,ae=Kt.customUI;return[ae&&"".concat(le,"cui"),zt].filter(function(Jt){return Jt}).join(" ")},J=function(St,zt){zt===void 0&&(zt={});var Kt=(0,v.isArray)(St)?x([],St,!0):[St];if(Kt.length){var le=Kt.shift();if(le&&(!zt.unique||!document.querySelector('link[href="'.concat(le,'"]')))){var ae=document.head,Jt=document.createElement("link");Jt.href=le,Jt.rel="stylesheet",zt.prepand?ae.insertBefore(Jt,ae.firstChild):ae.appendChild(Jt)}J(Kt)}},G=function(St,zt){var Kt={},le=(0,v.keys)(zt);for(var ae in St)if(St.hasOwnProperty(ae)){var Jt=St[ae],ge=zt[ae];le.indexOf(ae)>=0?Jt!==ge&&(Kt[ae]=ge):Kt[ae]=null}for(var ae in zt)zt.hasOwnProperty(ae)&&(0,v.isUndefined)(St[ae])&&(Kt[ae]=zt[ae]);return Kt},X=function(St){return St.replace(parseFloat(St),"")},yt=function(St){return St[0].toUpperCase()+St.toLowerCase().slice(1)},bt=function(St){return St.replace(/-./g,function(zt){return zt[1].toUpperCase()})},Tt=function(St,zt,Kt){zt===void 0&&(zt=1),Kt===void 0&&(Kt=0);var le=0;if(isNaN(St))return Kt;if(St=parseFloat(St),Math.floor(St)!==St){var ae=zt.toString().split(".")[1];le=ae?ae.length:0}return le?parseFloat(St.toFixed(le)):St},Ct=function(St){return"draggable"in document.createElement("i")&&(St?St.config.nativeDnD:!0)},Q=function(St){if((0,v.isElement)(St)||(0,_.BM)(St))return St;if(St&&St.getEl)return St.getEl()},V=function(St,zt){var Kt=null;return St.some(function(le,ae){return zt(le,ae,St)?(Kt=le,1):0}),Kt},W=function(St){return St===void 0&&(St=""),"".concat(St).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},Y=function(St){return St===void 0&&(St=""),"".concat(St).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},it=function(){for(var St=[],zt=0;zt<arguments.length;zt++)St[zt]=arguments[zt];for(var Kt=w({},St[0]),le=1;le<St.length;le++){var ae=w({},St[le]);for(var Jt in ae){var ge=Kt[Jt],He=ae[Jt];dt(ge)&&dt(He)?Kt[Jt]=it(ge,He):Kt[Jt]=He}}return Kt},U=function(St,zt){var Kt;return!zt&&St&&St.__cashData?Kt=St.__cashData.model:zt&&(0,v.isElement)(St)&&(Kt=zt(St).data("model")),Kt},dt=function(St){return St&&!Array.isArray(St)&&typeof St=="object"},B=function(St){return Object.keys(St).length<=0},It=function(St){return St===void 0&&(St=""),St&&St.charAt(0).toUpperCase()+St.substring(1)},gt=function(St){return St&&St.toCSS},lt=function(St){return St==null?void 0:St.__gjsv},kt=function(St){return!!(St!=null&&St.toHTML)},Ht=function(St){return lt(St)},Wt=function(St){var zt;return(zt=Ht(St))===null||zt===void 0?void 0:zt.model},ie=function(St,zt){St.__gjsv=zt},qt=function(St){St===void 0&&(St=16);for(var zt="",Kt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",le=Kt.length,ae=0;ae<St;ae++)zt+=Kt.charAt(Math.floor(Math.random()*le));return zt},Zt=function(St){if(St&&St.substr(0,4)==="<svg"){var zt="";return L()?zt=window.btoa(St):typeof Buffer<"u"&&(zt=Buffer.from(St,"utf8").toString("base64")),zt?"data:image/svg+xml;base64,".concat(zt):St}return St}},828:(i,s,f)=>{var v={"./CanvasClear":858,"./CanvasClear.ts":858,"./CanvasMove":884,"./CanvasMove.ts":884,"./CommandAbstract":790,"./CommandAbstract.ts":790,"./ComponentDelete":180,"./ComponentDelete.ts":180,"./ComponentDrag":544,"./ComponentDrag.ts":544,"./ComponentEnter":236,"./ComponentEnter.ts":236,"./ComponentExit":368,"./ComponentExit.ts":368,"./ComponentNext":243,"./ComponentNext.ts":243,"./ComponentPrev":400,"./ComponentPrev.ts":400,"./ComponentStyleClear":910,"./ComponentStyleClear.ts":910,"./CopyComponent":744,"./CopyComponent.ts":744,"./ExportTemplate":457,"./ExportTemplate.ts":457,"./Fullscreen":975,"./Fullscreen.ts":975,"./MoveComponent":191,"./MoveComponent.ts":191,"./OpenAssets":912,"./OpenAssets.ts":912,"./OpenBlocks":117,"./OpenBlocks.ts":117,"./OpenLayers":614,"./OpenLayers.ts":614,"./OpenStyleManager":801,"./OpenStyleManager.ts":801,"./OpenTraitManager":395,"./OpenTraitManager.ts":395,"./PasteComponent":98,"./PasteComponent.ts":98,"./Preview":129,"./Preview.ts":129,"./Resize":116,"./Resize.ts":116,"./SelectComponent":407,"./SelectComponent.ts":407,"./SelectPosition":189,"./SelectPosition.ts":189,"./ShowOffset":804,"./ShowOffset.ts":804,"./SwitchVisibility":434,"./SwitchVisibility.ts":434};function _(x){var S=w(x);return f(S)}function w(x){if(!f.o(v,x)){var S=new Error("Cannot find module '"+x+"'");throw S.code="MODULE_NOT_FOUND",S}return v[x]}_.keys=function(){return Object.keys(v)},_.resolve=w,i.exports=_,_.id=828},50:(i,s,f)=>{f.r(s),f.d(s,{VERSION:()=>_,after:()=>zu,all:()=>uo,allKeys:()=>En,any:()=>Ko,assign:()=>Gr,before:()=>ws,bind:()=>Ea,bindAll:()=>Hu,chain:()=>Zr,chunk:()=>Va,clone:()=>Kr,collect:()=>Fr,compact:()=>Os,compose:()=>Wo,constant:()=>ve,contains:()=>Vn,countBy:()=>xl,create:()=>Zn,debounce:()=>Pa,default:()=>Al,defaults:()=>yi,defer:()=>_l,delay:()=>Rr,detect:()=>$o,difference:()=>Ci,drop:()=>co,each:()=>lo,escape:()=>te,every:()=>uo,extend:()=>gr,extendOwn:()=>Gr,filter:()=>Ao,find:()=>$o,findIndex:()=>Aa,findKey:()=>ii,findLastIndex:()=>Ma,findWhere:()=>$i,first:()=>qi,flatten:()=>Tl,foldl:()=>Go,foldr:()=>Cs,forEach:()=>lo,functions:()=>In,get:()=>Jn,groupBy:()=>Bu,has:()=>ri,head:()=>qi,identity:()=>Yr,include:()=>Vn,includes:()=>Vn,indexBy:()=>cr,indexOf:()=>Wi,initial:()=>Ol,inject:()=>Go,intersection:()=>Ts,invert:()=>vr,invoke:()=>Be,isArguments:()=>pn,isArray:()=>Jt,isArrayBuffer:()=>Ht,isBoolean:()=>Y,isDataView:()=>ae,isDate:()=>It,isElement:()=>it,isEmpty:()=>Ge,isEqual:()=>Ce,isError:()=>lt,isFinite:()=>jn,isFunction:()=>qt,isMap:()=>Mt,isMatch:()=>nn,isNaN:()=>gn,isNull:()=>V,isNumber:()=>B,isObject:()=>Q,isRegExp:()=>gt,isSet:()=>he,isString:()=>dt,isSymbol:()=>kt,isTypedArray:()=>Nt,isUndefined:()=>W,isWeakMap:()=>$t,isWeakSet:()=>Me,iteratee:()=>Xr,keys:()=>Ne,last:()=>xn,lastIndexOf:()=>Da,map:()=>Fr,mapObject:()=>Nr,matcher:()=>qr,matches:()=>qr,max:()=>xs,memoize:()=>Ui,methods:()=>In,min:()=>Ki,mixin:()=>Mo,negate:()=>ka,noop:()=>We,now:()=>I,object:()=>Fa,omit:()=>Ss,once:()=>bs,pairs:()=>hr,partial:()=>so,partition:()=>Ia,pick:()=>ai,pluck:()=>Gi,property:()=>_i,propertyOf:()=>To,random:()=>Uo,range:()=>Pl,reduce:()=>Go,reduceRight:()=>Cs,reject:()=>bl,rest:()=>co,restArguments:()=>Ct,result:()=>yl,sample:()=>Pr,select:()=>Ao,shuffle:()=>ja,size:()=>Sl,some:()=>Ko,sortBy:()=>Na,sortedIndex:()=>bi,tail:()=>co,take:()=>qi,tap:()=>Oo,template:()=>Oa,templateSettings:()=>on,throttle:()=>ur,times:()=>oi,toArray:()=>yr,toPath:()=>Hi,transpose:()=>si,unescape:()=>Qe,union:()=>El,uniq:()=>Yo,unique:()=>Yo,uniqueId:()=>_s,unzip:()=>si,values:()=>Je,where:()=>Wn,without:()=>Uu,wrap:()=>wi,zip:()=>Wu});var v={};f.r(v),f.d(v,{VERSION:()=>_,after:()=>zu,all:()=>uo,allKeys:()=>En,any:()=>Ko,assign:()=>Gr,before:()=>ws,bind:()=>Ea,bindAll:()=>Hu,chain:()=>Zr,chunk:()=>Va,clone:()=>Kr,collect:()=>Fr,compact:()=>Os,compose:()=>Wo,constant:()=>ve,contains:()=>Vn,countBy:()=>xl,create:()=>Zn,debounce:()=>Pa,default:()=>fo,defaults:()=>yi,defer:()=>_l,delay:()=>Rr,detect:()=>$o,difference:()=>Ci,drop:()=>co,each:()=>lo,escape:()=>te,every:()=>uo,extend:()=>gr,extendOwn:()=>Gr,filter:()=>Ao,find:()=>$o,findIndex:()=>Aa,findKey:()=>ii,findLastIndex:()=>Ma,findWhere:()=>$i,first:()=>qi,flatten:()=>Tl,foldl:()=>Go,foldr:()=>Cs,forEach:()=>lo,functions:()=>In,get:()=>Jn,groupBy:()=>Bu,has:()=>ri,head:()=>qi,identity:()=>Yr,include:()=>Vn,includes:()=>Vn,indexBy:()=>cr,indexOf:()=>Wi,initial:()=>Ol,inject:()=>Go,intersection:()=>Ts,invert:()=>vr,invoke:()=>Be,isArguments:()=>pn,isArray:()=>Jt,isArrayBuffer:()=>Ht,isBoolean:()=>Y,isDataView:()=>ae,isDate:()=>It,isElement:()=>it,isEmpty:()=>Ge,isEqual:()=>Ce,isError:()=>lt,isFinite:()=>jn,isFunction:()=>qt,isMap:()=>Mt,isMatch:()=>nn,isNaN:()=>gn,isNull:()=>V,isNumber:()=>B,isObject:()=>Q,isRegExp:()=>gt,isSet:()=>he,isString:()=>dt,isSymbol:()=>kt,isTypedArray:()=>Nt,isUndefined:()=>W,isWeakMap:()=>$t,isWeakSet:()=>Me,iteratee:()=>Xr,keys:()=>Ne,last:()=>xn,lastIndexOf:()=>Da,map:()=>Fr,mapObject:()=>Nr,matcher:()=>qr,matches:()=>qr,max:()=>xs,memoize:()=>Ui,methods:()=>In,min:()=>Ki,mixin:()=>Mo,negate:()=>ka,noop:()=>We,now:()=>I,object:()=>Fa,omit:()=>Ss,once:()=>bs,pairs:()=>hr,partial:()=>so,partition:()=>Ia,pick:()=>ai,pluck:()=>Gi,property:()=>_i,propertyOf:()=>To,random:()=>Uo,range:()=>Pl,reduce:()=>Go,reduceRight:()=>Cs,reject:()=>bl,rest:()=>co,restArguments:()=>Ct,result:()=>yl,sample:()=>Pr,select:()=>Ao,shuffle:()=>ja,size:()=>Sl,some:()=>Ko,sortBy:()=>Na,sortedIndex:()=>bi,tail:()=>co,take:()=>qi,tap:()=>Oo,template:()=>Oa,templateSettings:()=>on,throttle:()=>ur,times:()=>oi,toArray:()=>yr,toPath:()=>Hi,transpose:()=>si,unescape:()=>Qe,union:()=>El,uniq:()=>Yo,unique:()=>Yo,uniqueId:()=>_s,unzip:()=>si,values:()=>Je,where:()=>Wn,without:()=>Uu,wrap:()=>wi,zip:()=>Wu});var _="1.13.6",w=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},x=Array.prototype,S=Object.prototype,E=typeof Symbol<"u"?Symbol.prototype:null,O=x.push,M=x.slice,A=S.toString,L=S.hasOwnProperty,R=typeof ArrayBuffer<"u",$=typeof DataView<"u",at=Array.isArray,mt=Object.keys,Z=Object.create,J=R&&ArrayBuffer.isView,G=isNaN,X=isFinite,yt=!{toString:null}.propertyIsEnumerable("toString"),bt=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Tt=Math.pow(2,53)-1;function Ct(N,K){return K=K==null?N.length-1:+K,function(){for(var pt=Math.max(arguments.length-K,0),_t=Array(pt),jt=0;jt<pt;jt++)_t[jt]=arguments[jt+K];switch(K){case 0:return N.call(this,_t);case 1:return N.call(this,arguments[0],_t);case 2:return N.call(this,arguments[0],arguments[1],_t)}var At=Array(K+1);for(jt=0;jt<K;jt++)At[jt]=arguments[jt];return At[K]=_t,N.apply(this,At)}}function Q(N){var K=typeof N;return K==="function"||K==="object"&&!!N}function V(N){return N===null}function W(N){return N===void 0}function Y(N){return N===!0||N===!1||A.call(N)==="[object Boolean]"}function it(N){return!!(N&&N.nodeType===1)}function U(N){var K="[object "+N+"]";return function(pt){return A.call(pt)===K}}const dt=U("String"),B=U("Number"),It=U("Date"),gt=U("RegExp"),lt=U("Error"),kt=U("Symbol"),Ht=U("ArrayBuffer");var Wt=U("Function"),ie=w.document&&w.document.childNodes;typeof Int8Array!="object"&&typeof ie!="function"&&(Wt=function(N){return typeof N=="function"||!1});const qt=Wt,Zt=U("Object");var St=$&&Zt(new DataView(new ArrayBuffer(8))),zt=typeof Map<"u"&&Zt(new Map),Kt=U("DataView");function le(N){return N!=null&&qt(N.getInt8)&&Ht(N.buffer)}const ae=St?le:Kt,Jt=at||U("Array");function ge(N,K){return N!=null&&L.call(N,K)}var He=U("Arguments");(function(){He(arguments)||(He=function(N){return ge(N,"callee")})})();const pn=He;function jn(N){return!kt(N)&&X(N)&&!isNaN(parseFloat(N))}function gn(N){return B(N)&&G(N)}function ve(N){return function(){return N}}function F(N){return function(K){var pt=N(K);return typeof pt=="number"&&pt>=0&&pt<=Tt}}function et(N){return function(K){return K==null?void 0:K[N]}}const ht=et("byteLength"),Et=F(ht);var Vt=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function ct(N){return J?J(N)&&!ae(N):Et(N)&&Vt.test(A.call(N))}const Nt=R?ct:ve(!1),Pt=et("length");function xe(N){for(var K={},pt=N.length,_t=0;_t<pt;++_t)K[N[_t]]=!0;return{contains:function(jt){return K[jt]===!0},push:function(jt){return K[jt]=!0,N.push(jt)}}}function Xe(N,K){K=xe(K);var pt=bt.length,_t=N.constructor,jt=qt(_t)&&_t.prototype||S,At="constructor";for(ge(N,At)&&!K.contains(At)&&K.push(At);pt--;)At=bt[pt],At in N&&N[At]!==jt[At]&&!K.contains(At)&&K.push(At)}function Ne(N){if(!Q(N))return[];if(mt)return mt(N);var K=[];for(var pt in N)ge(N,pt)&&K.push(pt);return yt&&Xe(N,K),K}function Ge(N){if(N==null)return!0;var K=Pt(N);return typeof K=="number"&&(Jt(N)||dt(N)||pn(N))?K===0:Pt(Ne(N))===0}function nn(N,K){var pt=Ne(K),_t=pt.length;if(N==null)return!_t;for(var jt=Object(N),At=0;At<_t;At++){var Gt=pt[At];if(K[Gt]!==jt[Gt]||!(Gt in jt))return!1}return!0}function _e(N){if(N instanceof _e)return N;if(!(this instanceof _e))return new _e(N);this._wrapped=N}_e.VERSION=_,_e.prototype.value=function(){return this._wrapped},_e.prototype.valueOf=_e.prototype.toJSON=_e.prototype.value,_e.prototype.toString=function(){return String(this._wrapped)};function rn(N){return new Uint8Array(N.buffer||N,N.byteOffset||0,ht(N))}var ln="[object DataView]";function tn(N,K,pt,_t){if(N===K)return N!==0||1/N===1/K;if(N==null||K==null)return!1;if(N!==N)return K!==K;var jt=typeof N;return jt!=="function"&&jt!=="object"&&typeof K!="object"?!1:Tn(N,K,pt,_t)}function Tn(N,K,pt,_t){N instanceof _e&&(N=N._wrapped),K instanceof _e&&(K=K._wrapped);var jt=A.call(N);if(jt!==A.call(K))return!1;if(St&&jt=="[object Object]"&&ae(N)){if(!ae(K))return!1;jt=ln}switch(jt){case"[object RegExp]":case"[object String]":return""+N==""+K;case"[object Number]":return+N!=+N?+K!=+K:+N==0?1/+N===1/K:+N==+K;case"[object Date]":case"[object Boolean]":return+N==+K;case"[object Symbol]":return E.valueOf.call(N)===E.valueOf.call(K);case"[object ArrayBuffer]":case ln:return Tn(rn(N),rn(K),pt,_t)}var At=jt==="[object Array]";if(!At&&Nt(N)){var Gt=ht(N);if(Gt!==ht(K))return!1;if(N.buffer===K.buffer&&N.byteOffset===K.byteOffset)return!0;At=!0}if(!At){if(typeof N!="object"||typeof K!="object")return!1;var fe=N.constructor,ze=K.constructor;if(fe!==ze&&!(qt(fe)&&fe instanceof fe&&qt(ze)&&ze instanceof ze)&&"constructor"in N&&"constructor"in K)return!1}pt=pt||[],_t=_t||[];for(var Le=pt.length;Le--;)if(pt[Le]===N)return _t[Le]===K;if(pt.push(N),_t.push(K),At){if(Le=N.length,Le!==K.length)return!1;for(;Le--;)if(!tn(N[Le],K[Le],pt,_t))return!1}else{var fn=Ne(N),Qn;if(Le=fn.length,Ne(K).length!==Le)return!1;for(;Le--;)if(Qn=fn[Le],!(ge(K,Qn)&&tn(N[Qn],K[Qn],pt,_t)))return!1}return pt.pop(),_t.pop(),!0}function Ce(N,K){return tn(N,K)}function En(N){if(!Q(N))return[];var K=[];for(var pt in N)K.push(pt);return yt&&Xe(N,K),K}function Re(N){var K=Pt(N);return function(pt){if(pt==null)return!1;var _t=En(pt);if(Pt(_t))return!1;for(var jt=0;jt<K;jt++)if(!qt(pt[N[jt]]))return!1;return N!==tt||!qt(pt[un])}}var un="forEach",Ze="has",ee=["clear","delete"],Nn=["get",Ze,"set"],So=ee.concat(un,Nn),tt=ee.concat(Nn),wt=["add"].concat(ee,un,Ze);const Mt=zt?Re(So):U("Map"),$t=zt?Re(tt):U("WeakMap"),he=zt?Re(wt):U("Set"),Me=U("WeakSet");function Je(N){for(var K=Ne(N),pt=K.length,_t=Array(pt),jt=0;jt<pt;jt++)_t[jt]=N[K[jt]];return _t}function hr(N){for(var K=Ne(N),pt=K.length,_t=Array(pt),jt=0;jt<pt;jt++)_t[jt]=[K[jt],N[K[jt]]];return _t}function vr(N){for(var K={},pt=Ne(N),_t=0,jt=pt.length;_t<jt;_t++)K[N[pt[_t]]]=pt[_t];return K}function In(N){var K=[];for(var pt in N)qt(N[pt])&&K.push(pt);return K.sort()}function mi(N,K){return function(pt){var _t=arguments.length;if(K&&(pt=Object(pt)),_t<2||pt==null)return pt;for(var jt=1;jt<_t;jt++)for(var At=arguments[jt],Gt=N(At),fe=Gt.length,ze=0;ze<fe;ze++){var Le=Gt[ze];(!K||pt[Le]===void 0)&&(pt[Le]=At[Le])}return pt}}const gr=mi(En),Gr=mi(Ne),yi=mi(En,!0);function Rn(){return function(){}}function Cn(N){if(!Q(N))return{};if(Z)return Z(N);var K=Rn();K.prototype=N;var pt=new K;return K.prototype=null,pt}function Zn(N,K){var pt=Cn(N);return K&&Gr(pt,K),pt}function Kr(N){return Q(N)?Jt(N)?N.slice():gr({},N):N}function Oo(N,K){return K(N),N}function Hi(N){return Jt(N)?N:[N]}_e.toPath=Hi;function ao(N){return _e.toPath(N)}function mr(N,K){for(var pt=K.length,_t=0;_t<pt;_t++){if(N==null)return;N=N[K[_t]]}return pt?N:void 0}function Jn(N,K,pt){var _t=mr(N,ao(K));return W(_t)?pt:_t}function ri(N,K){K=ao(K);for(var pt=K.length,_t=0;_t<pt;_t++){var jt=K[_t];if(!ge(N,jt))return!1;N=N[jt]}return!!pt}function Yr(N){return N}function qr(N){return N=Gr({},N),function(K){return nn(K,N)}}function _i(N){return N=ao(N),function(K){return mr(K,N)}}function cn(N,K,pt){if(K===void 0)return N;switch(pt??3){case 1:return function(_t){return N.call(K,_t)};case 3:return function(_t,jt,At){return N.call(K,_t,jt,At)};case 4:return function(_t,jt,At,Gt){return N.call(K,_t,jt,At,Gt)}}return function(){return N.apply(K,arguments)}}function be(N,K,pt){return N==null?Yr:qt(N)?cn(N,K,pt):Q(N)&&!Jt(N)?qr(N):_i(N)}function Xr(N,K){return be(N,K,1/0)}_e.iteratee=Xr;function Fn(N,K,pt){return _e.iteratee!==Xr?_e.iteratee(N,K):be(N,K,pt)}function Nr(N,K,pt){K=Fn(K,pt);for(var _t=Ne(N),jt=_t.length,At={},Gt=0;Gt<jt;Gt++){var fe=_t[Gt];At[fe]=K(N[fe],fe,N)}return At}function We(){}function To(N){return N==null?We:function(K){return Jn(N,K)}}function oi(N,K,pt){var _t=Array(Math.max(0,N));K=cn(K,pt,1);for(var jt=0;jt<N;jt++)_t[jt]=K(jt);return _t}function Uo(N,K){return K==null&&(K=N,N=0),N+Math.floor(Math.random()*(K-N+1))}const I=Date.now||function(){return new Date().getTime()};function rt(N){var K=function(At){return N[At]},pt="(?:"+Ne(N).join("|")+")",_t=RegExp(pt),jt=RegExp(pt,"g");return function(At){return At=At==null?"":""+At,_t.test(At)?At.replace(jt,K):At}}const Ut={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},te=rt(Ut),Ee=vr(Ut),Qe=rt(Ee),on=_e.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Se=/(.)^/,Ir={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},ys=/\\|'|\r|\n|\u2028|\u2029/g;function Eo(N){return"\\"+Ir[N]}var Po=/^\s*(\w|\$)+\s*$/;function Oa(N,K,pt){!K&&pt&&(K=pt),K=yi({},K,_e.templateSettings);var _t=RegExp([(K.escape||Se).source,(K.interpolate||Se).source,(K.evaluate||Se).source].join("|")+"|$","g"),jt=0,At="__p+='";N.replace(_t,function(Le,fn,Qn,Ml,$u){return At+=N.slice(jt,$u).replace(ys,Eo),jt=$u+Le.length,fn?At+=`'+
((__t=(`+fn+`))==null?'':_.escape(__t))+
'`:Qn?At+=`'+
((__t=(`+Qn+`))==null?'':__t)+
'`:Ml&&(At+=`';
`+Ml+`
__p+='`),Le}),At+=`';
`;var Gt=K.variable;if(Gt){if(!Po.test(Gt))throw new Error("variable is not a bare identifier: "+Gt)}else At=`with(obj||{}){
`+At+`}
`,Gt="obj";At=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+At+`return __p;
`;var fe;try{fe=new Function(Gt,"_",At)}catch(Le){throw Le.source=At,Le}var ze=function(Le){return fe.call(this,Le,_e)};return ze.source="function("+Gt+`){
`+At+"}",ze}function yl(N,K,pt){K=ao(K);var _t=K.length;if(!_t)return qt(pt)?pt.call(N):pt;for(var jt=0;jt<_t;jt++){var At=N==null?void 0:N[K[jt]];At===void 0&&(At=pt,jt=_t),N=qt(At)?At.call(N):At}return N}var zi=0;function _s(N){var K=++zi+"";return N?N+K:K}function Zr(N){var K=_e(N);return K._chain=!0,K}function Ta(N,K,pt,_t,jt){if(!(_t instanceof K))return N.apply(pt,jt);var At=Cn(N.prototype),Gt=N.apply(At,jt);return Q(Gt)?Gt:At}var Bi=Ct(function(N,K){var pt=Bi.placeholder,_t=function(){for(var jt=0,At=K.length,Gt=Array(At),fe=0;fe<At;fe++)Gt[fe]=K[fe]===pt?arguments[jt++]:K[fe];for(;jt<arguments.length;)Gt.push(arguments[jt++]);return Ta(N,_t,this,this,Gt)};return _t});Bi.placeholder=_e;const so=Bi,Ea=Ct(function(N,K,pt){if(!qt(N))throw new TypeError("Bind must be called on a function");var _t=Ct(function(jt){return Ta(N,_t,K,this,pt.concat(jt))});return _t}),Er=F(Pt);function ko(N,K,pt,_t){if(_t=_t||[],!K&&K!==0)K=1/0;else if(K<=0)return _t.concat(N);for(var jt=_t.length,At=0,Gt=Pt(N);At<Gt;At++){var fe=N[At];if(Er(fe)&&(Jt(fe)||pn(fe)))if(K>1)ko(fe,K-1,pt,_t),jt=_t.length;else for(var ze=0,Le=fe.length;ze<Le;)_t[jt++]=fe[ze++];else pt||(_t[jt++]=fe)}return _t}const Hu=Ct(function(N,K){K=ko(K,!1,!1);var pt=K.length;if(pt<1)throw new Error("bindAll must be passed function names");for(;pt--;){var _t=K[pt];N[_t]=Ea(N[_t],N)}return N});function Ui(N,K){var pt=function(_t){var jt=pt.cache,At=""+(K?K.apply(this,arguments):_t);return ge(jt,At)||(jt[At]=N.apply(this,arguments)),jt[At]};return pt.cache={},pt}const Rr=Ct(function(N,K,pt){return setTimeout(function(){return N.apply(null,pt)},K)}),_l=so(Rr,_e,1);function ur(N,K,pt){var _t,jt,At,Gt,fe=0;pt||(pt={});var ze=function(){fe=pt.leading===!1?0:I(),_t=null,Gt=N.apply(jt,At),_t||(jt=At=null)},Le=function(){var fn=I();!fe&&pt.leading===!1&&(fe=fn);var Qn=K-(fn-fe);return jt=this,At=arguments,Qn<=0||Qn>K?(_t&&(clearTimeout(_t),_t=null),fe=fn,Gt=N.apply(jt,At),_t||(jt=At=null)):!_t&&pt.trailing!==!1&&(_t=setTimeout(ze,Qn)),Gt};return Le.cancel=function(){clearTimeout(_t),fe=0,_t=jt=At=null},Le}function Pa(N,K,pt){var _t,jt,At,Gt,fe,ze=function(){var fn=I()-jt;K>fn?_t=setTimeout(ze,K-fn):(_t=null,pt||(Gt=N.apply(fe,At)),_t||(At=fe=null))},Le=Ct(function(fn){return fe=this,At=fn,jt=I(),_t||(_t=setTimeout(ze,K),pt&&(Gt=N.apply(fe,At))),Gt});return Le.cancel=function(){clearTimeout(_t),_t=At=fe=null},Le}function wi(N,K){return so(K,N)}function ka(N){return function(){return!N.apply(this,arguments)}}function Wo(){var N=arguments,K=N.length-1;return function(){for(var pt=K,_t=N[K].apply(this,arguments);pt--;)_t=N[pt].call(this,_t);return _t}}function zu(N,K){return function(){if(--N<1)return K.apply(this,arguments)}}function ws(N,K){var pt;return function(){return--N>0&&(pt=K.apply(this,arguments)),N<=1&&(K=null),pt}}const bs=so(ws,2);function ii(N,K,pt){K=Fn(K,pt);for(var _t=Ne(N),jt,At=0,Gt=_t.length;At<Gt;At++)if(jt=_t[At],K(N[jt],jt,N))return jt}function wl(N){return function(K,pt,_t){pt=Fn(pt,_t);for(var jt=Pt(K),At=N>0?0:jt-1;At>=0&&At<jt;At+=N)if(pt(K[At],At,K))return At;return-1}}const Aa=wl(1),Ma=wl(-1);function bi(N,K,pt,_t){pt=Fn(pt,_t,1);for(var jt=pt(K),At=0,Gt=Pt(N);At<Gt;){var fe=Math.floor((At+Gt)/2);pt(N[fe])<jt?At=fe+1:Gt=fe}return At}function La(N,K,pt){return function(_t,jt,At){var Gt=0,fe=Pt(_t);if(typeof At=="number")N>0?Gt=At>=0?At:Math.max(At+fe,Gt):fe=At>=0?Math.min(At+1,fe):At+fe+1;else if(pt&&At&&fe)return At=pt(_t,jt),_t[At]===jt?At:-1;if(jt!==jt)return At=K(M.call(_t,Gt,fe),gn),At>=0?At+Gt:-1;for(At=N>0?Gt:fe-1;At>=0&&At<fe;At+=N)if(_t[At]===jt)return At;return-1}}const Wi=La(1,Aa,bi),Da=La(-1,Ma);function $o(N,K,pt){var _t=Er(N)?Aa:ii,jt=_t(N,K,pt);if(jt!==void 0&&jt!==-1)return N[jt]}function $i(N,K){return $o(N,qr(K))}function lo(N,K,pt){K=cn(K,pt);var _t,jt;if(Er(N))for(_t=0,jt=N.length;_t<jt;_t++)K(N[_t],_t,N);else{var At=Ne(N);for(_t=0,jt=At.length;_t<jt;_t++)K(N[At[_t]],At[_t],N)}return N}function Fr(N,K,pt){K=Fn(K,pt);for(var _t=!Er(N)&&Ne(N),jt=(_t||N).length,At=Array(jt),Gt=0;Gt<jt;Gt++){var fe=_t?_t[Gt]:Gt;At[Gt]=K(N[fe],fe,N)}return At}function Jr(N){var K=function(pt,_t,jt,At){var Gt=!Er(pt)&&Ne(pt),fe=(Gt||pt).length,ze=N>0?0:fe-1;for(At||(jt=pt[Gt?Gt[ze]:ze],ze+=N);ze>=0&&ze<fe;ze+=N){var Le=Gt?Gt[ze]:ze;jt=_t(jt,pt[Le],Le,pt)}return jt};return function(pt,_t,jt,At){var Gt=arguments.length>=3;return K(pt,cn(_t,At,4),jt,Gt)}}const Go=Jr(1),Cs=Jr(-1);function Ao(N,K,pt){var _t=[];return K=Fn(K,pt),lo(N,function(jt,At,Gt){K(jt,At,Gt)&&_t.push(jt)}),_t}function bl(N,K,pt){return Ao(N,ka(Fn(K)),pt)}function uo(N,K,pt){K=Fn(K,pt);for(var _t=!Er(N)&&Ne(N),jt=(_t||N).length,At=0;At<jt;At++){var Gt=_t?_t[At]:At;if(!K(N[Gt],Gt,N))return!1}return!0}function Ko(N,K,pt){K=Fn(K,pt);for(var _t=!Er(N)&&Ne(N),jt=(_t||N).length,At=0;At<jt;At++){var Gt=_t?_t[At]:At;if(K(N[Gt],Gt,N))return!0}return!1}function Vn(N,K,pt,_t){return Er(N)||(N=Je(N)),(typeof pt!="number"||_t)&&(pt=0),Wi(N,K,pt)>=0}const Be=Ct(function(N,K,pt){var _t,jt;return qt(K)?jt=K:(K=ao(K),_t=K.slice(0,-1),K=K[K.length-1]),Fr(N,function(At){var Gt=jt;if(!Gt){if(_t&&_t.length&&(At=mr(At,_t)),At==null)return;Gt=At[K]}return Gt==null?Gt:Gt.apply(At,pt)})});function Gi(N,K){return Fr(N,_i(K))}function Wn(N,K){return Ao(N,qr(K))}function xs(N,K,pt){var _t=-1/0,jt=-1/0,At,Gt;if(K==null||typeof K=="number"&&typeof N[0]!="object"&&N!=null){N=Er(N)?N:Je(N);for(var fe=0,ze=N.length;fe<ze;fe++)At=N[fe],At!=null&&At>_t&&(_t=At)}else K=Fn(K,pt),lo(N,function(Le,fn,Qn){Gt=K(Le,fn,Qn),(Gt>jt||Gt===-1/0&&_t===-1/0)&&(_t=Le,jt=Gt)});return _t}function Ki(N,K,pt){var _t=1/0,jt=1/0,At,Gt;if(K==null||typeof K=="number"&&typeof N[0]!="object"&&N!=null){N=Er(N)?N:Je(N);for(var fe=0,ze=N.length;fe<ze;fe++)At=N[fe],At!=null&&At<_t&&(_t=At)}else K=Fn(K,pt),lo(N,function(Le,fn,Qn){Gt=K(Le,fn,Qn),(Gt<jt||Gt===1/0&&_t===1/0)&&(_t=Le,jt=Gt)});return _t}var Cl=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function yr(N){return N?Jt(N)?M.call(N):dt(N)?N.match(Cl):Er(N)?Fr(N,Yr):Je(N):[]}function Pr(N,K,pt){if(K==null||pt)return Er(N)||(N=Je(N)),N[Uo(N.length-1)];var _t=yr(N),jt=Pt(_t);K=Math.max(Math.min(K,jt),0);for(var At=jt-1,Gt=0;Gt<K;Gt++){var fe=Uo(Gt,At),ze=_t[Gt];_t[Gt]=_t[fe],_t[fe]=ze}return _t.slice(0,K)}function ja(N){return Pr(N,1/0)}function Na(N,K,pt){var _t=0;return K=Fn(K,pt),Gi(Fr(N,function(jt,At,Gt){return{value:jt,index:_t++,criteria:K(jt,At,Gt)}}).sort(function(jt,At){var Gt=jt.criteria,fe=At.criteria;if(Gt!==fe){if(Gt>fe||Gt===void 0)return 1;if(Gt<fe||fe===void 0)return-1}return jt.index-At.index}),"value")}function Yi(N,K){return function(pt,_t,jt){var At=K?[[],[]]:{};return _t=Fn(_t,jt),lo(pt,function(Gt,fe){var ze=_t(Gt,fe,pt);N(At,Gt,ze)}),At}}const Bu=Yi(function(N,K,pt){ge(N,pt)?N[pt].push(K):N[pt]=[K]}),cr=Yi(function(N,K,pt){N[pt]=K}),xl=Yi(function(N,K,pt){ge(N,pt)?N[pt]++:N[pt]=1}),Ia=Yi(function(N,K,pt){N[pt?0:1].push(K)},!0);function Sl(N){return N==null?0:Er(N)?N.length:Ne(N).length}function Ra(N,K,pt){return K in pt}const ai=Ct(function(N,K){var pt={},_t=K[0];if(N==null)return pt;qt(_t)?(K.length>1&&(_t=cn(_t,K[1])),K=En(N)):(_t=Ra,K=ko(K,!1,!1),N=Object(N));for(var jt=0,At=K.length;jt<At;jt++){var Gt=K[jt],fe=N[Gt];_t(fe,Gt,N)&&(pt[Gt]=fe)}return pt}),Ss=Ct(function(N,K){var pt=K[0],_t;return qt(pt)?(pt=ka(pt),K.length>1&&(_t=K[1])):(K=Fr(ko(K,!1,!1),String),pt=function(jt,At){return!Vn(K,At)}),ai(N,pt,_t)});function Ol(N,K,pt){return M.call(N,0,Math.max(0,N.length-(K==null||pt?1:K)))}function qi(N,K,pt){return N==null||N.length<1?K==null||pt?void 0:[]:K==null||pt?N[0]:Ol(N,N.length-K)}function co(N,K,pt){return M.call(N,K==null||pt?1:K)}function xn(N,K,pt){return N==null||N.length<1?K==null||pt?void 0:[]:K==null||pt?N[N.length-1]:co(N,Math.max(0,N.length-K))}function Os(N){return Ao(N,Boolean)}function Tl(N,K){return ko(N,K,!1)}const Ci=Ct(function(N,K){return K=ko(K,!0,!0),Ao(N,function(pt){return!Vn(K,pt)})}),Uu=Ct(function(N,K){return Ci(N,K)});function Yo(N,K,pt,_t){Y(K)||(_t=pt,pt=K,K=!1),pt!=null&&(pt=Fn(pt,_t));for(var jt=[],At=[],Gt=0,fe=Pt(N);Gt<fe;Gt++){var ze=N[Gt],Le=pt?pt(ze,Gt,N):ze;K&&!pt?((!Gt||At!==Le)&&jt.push(ze),At=Le):pt?Vn(At,Le)||(At.push(Le),jt.push(ze)):Vn(jt,ze)||jt.push(ze)}return jt}const El=Ct(function(N){return Yo(ko(N,!0,!0))});function Ts(N){for(var K=[],pt=arguments.length,_t=0,jt=Pt(N);_t<jt;_t++){var At=N[_t];if(!Vn(K,At)){var Gt;for(Gt=1;Gt<pt&&Vn(arguments[Gt],At);Gt++);Gt===pt&&K.push(At)}}return K}function si(N){for(var K=N&&xs(N,Pt).length||0,pt=Array(K),_t=0;_t<K;_t++)pt[_t]=Gi(N,_t);return pt}const Wu=Ct(si);function Fa(N,K){for(var pt={},_t=0,jt=Pt(N);_t<jt;_t++)K?pt[N[_t]]=K[_t]:pt[N[_t][0]]=N[_t][1];return pt}function Pl(N,K,pt){K==null&&(K=N||0,N=0),pt||(pt=K<N?-1:1);for(var _t=Math.max(Math.ceil((K-N)/pt),0),jt=Array(_t),At=0;At<_t;At++,N+=pt)jt[At]=N;return jt}function Va(N,K){if(K==null||K<1)return[];for(var pt=[],_t=0,jt=N.length;_t<jt;)pt.push(M.call(N,_t,_t+=K));return pt}function kl(N,K){return N._chain?_e(K).chain():K}function Mo(N){return lo(In(N),function(K){var pt=_e[K]=N[K];_e.prototype[K]=function(){var _t=[this._wrapped];return O.apply(_t,arguments),kl(this,pt.apply(_e,_t))}}),_e}lo(["pop","push","reverse","shift","sort","splice","unshift"],function(N){var K=x[N];_e.prototype[N]=function(){var pt=this._wrapped;return pt!=null&&(K.apply(pt,arguments),(N==="shift"||N==="splice")&&pt.length===0&&delete pt[0]),kl(this,pt)}}),lo(["concat","join","slice"],function(N){var K=x[N];_e.prototype[N]=function(){var pt=this._wrapped;return pt!=null&&(pt=K.apply(pt,arguments)),kl(this,pt)}});const fo=_e;var Xi=Mo(v);Xi._=Xi;const Al=Xi}},Db={};function _n(i){var s=Db[i];if(s!==void 0)return s.exports;var f=Db[i]={exports:{}};return nM[i].call(f.exports,f,f.exports,_n),f.exports}_n.n=i=>{var s=i&&i.__esModule?()=>i.default:()=>i;return _n.d(s,{a:s}),s};_n.d=(i,s)=>{for(var f in s)_n.o(s,f)&&!_n.o(i,f)&&Object.defineProperty(i,f,{enumerable:!0,get:s[f]})};_n.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();_n.o=(i,s)=>Object.prototype.hasOwnProperty.call(i,s);_n.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var Jx={};(()=>{_n.d(Jx,{ZP:()=>JE,kr:()=>sw,j7:()=>aw});var i=_n(50),s=_n(163);function f(l){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];var e=l.raw;return e.reduce(function(n,o,c){var h=r[c-1],m=e[c-1];return Array.isArray(h)?h=h.join(""):m&&m.slice(-1)==="$"?n=n.slice(0,-1):h=(0,s.escape)(h),n+h+o})}var v={stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:void 0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:!1,jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',chevron:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',eye:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>',eyeOff:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>'},i18n:{},undoManager:{},assetManager:{},canvas:{},layerManager:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,customUI:!1};const _=v;var w=_n(316),x=_n.n(w),S=_n(895);const E=function(l){var r=l.$;if(r&&r.prototype&&r.prototype.constructor.name!=="jQuery"){var t=r.fn;t.hide=function(){return this.css("display","none")},t.show=function(){return this.css("display","block")},t.focus=function(){var o=this.get(0);return o&&o.focus(),this},t.bind=function(o,c){return this.on(o,c)},t.unbind=function(o,c){if((0,i.isObject)(o)){for(var h in o)o.hasOwnProperty(h)&&this.off(h,o[h]);return this}else return this.off(o,c)},t.click=function(o){return o?this.on("click",o):this.trigger("click")},t.change=function(o){return o?this.on("change",o):this.trigger("change")},t.keydown=function(o){return o?this.on("keydown",o):this.trigger("keydown")},t.delegate=function(o,c,h,m){return m||(m=h),this.on(c,o,function(y){y.data=h,m(y)})},t.scrollLeft=function(){var o=this.get(0);o=o.nodeType==9?o.defaultView:o;var c=o instanceof Window?o:null;return c?c.pageXOffset:o.scrollLeft||0},t.scrollTop=function(){var o=this.get(0);o=o.nodeType==9?o.defaultView:o;var c=o instanceof Window?o:null;return c?c.pageYOffset:o.scrollTop||0};var e=r.prototype.offset;t.offset=function(o){var c,h;return o&&(c=o.top,h=o.left),typeof c<"u"&&this.css("top","".concat(c,"px")),typeof h<"u"&&this.css("left","".concat(h,"px")),e.call(this)},r.map=function(o,c){for(var h=[],m=0;m<o.length;m++)h.push(c(o[m],m));return h};var n=Array.prototype.indexOf;r.inArray=function(o,c,h){return c==null?-1:n.call(c,o,h)},r.Event=function(o,c){if(!(this instanceof r.Event))return new r.Event(o,c);this.type=o,this.isDefaultPrevented=function(){return!1}}}};var O=_n(346),M=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),A=function(l){M(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r}(O.Hn),L=function(l){M(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.getByComponent=function(t){var e=this;return this.filter(function(n){return e.getComponent(n)===t})[0]},r.prototype.addComponent=function(t,e){var n=this,o=((0,i.isArray)(t)?t:[t]).filter(function(c){return!n.hasComponent(c)}).map(function(c){return new A({component:c})})[0];return this.push(o,e)},r.prototype.getComponent=function(t){return t.get("component")},r.prototype.hasComponent=function(t){var e=this.getByComponent(t);return e&&this.contains(e)},r.prototype.lastComponent=function(){var t=this.last();return t?this.getComponent(t):void 0},r.prototype.allComponents=function(){var t=this;return this.map(function(e){return t.getComponent(e)}).filter(function(e){return e})},r.prototype.removeComponent=function(t,e){var n=this,o=((0,i.isArray)(t)?t:[t]).map(function(c){return n.getByComponent(c)});return this.remove(o,e)},r}(O.FE);const R=L;var $=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),at=function(){return at=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},at.apply(this,arguments)},mt=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},Z=function(){function l(r,t,e){this.debounced=[],this.collections=[],this.cls=[],this._em=r,this._name=t;var n=this.name.charAt(0).toLowerCase()+this.name.slice(1),o=(0,i.isUndefined)(r.config[n])?r.config[this.name]:r.config[n],c=o===!0?{}:o||{};c.pStylePrefix=r.config.pStylePrefix||"",!(0,i.isUndefined)(o)&&!o&&(c._disable=1),c.em=r,this._config=(0,s.deepMerge)(e||{},c)}return Object.defineProperty(l.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),l.prototype.render=function(r){},l.prototype.postLoad=function(r){},Object.defineProperty(l.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),l.prototype.getConfig=function(r){return r?this.config[r]:this.config},l.prototype.__logWarn=function(r,t){t===void 0&&(t={}),this.em.logWarning("[".concat(this.name,"]: ").concat(r),t)},l.prototype.destroy=function(){this.__destroy()},l.prototype.__destroy=function(){var r,t,e;(r=this.view)===null||r===void 0||r.remove(),(t=this.state)===null||t===void 0||t.stopListening(),(e=this.state)===null||e===void 0||e.clear(),this.debounced.forEach(function(n){return n.cancel()}),this.collections.forEach(function(n){n.stopListening(),n.reset()})},l.prototype.__appendTo=function(){var r=this.getConfig().appendTo;if(r){var t=(0,i.isElement)(r)?r:document.querySelector(r);if(!t)return this.__logWarn('"appendTo" element not found');t.appendChild(this.render())}},l}();const J=Z;var G=function(l){$(r,l);function r(t,e,n,o,c,h){h===void 0&&(h={});var m=l.call(this,t,e,c)||this;return m.cls=[],m.private=!1,m.all=n,m.events=o,!h.skipListen&&m.__initListen(),m}return r.prototype.postLoad=function(t){},r.prototype.render=function(t){},r.prototype.getProjectData=function(t){var e={},n=this.storageKey;return n&&(e[n]=t||this.getAll()),e},r.prototype.loadProjectData=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var n=e.all,o=e.onResult,c=e.reset,h=this.storageKey,m={action:"load"},y=n||this.all,C=t[h];if(typeof C=="string")try{C=JSON.parse(C)}catch{this.__logWarn("Data parsing failed",{input:C})}return c&&C&&y.reset(void 0,m),o?C&&o(C,m):C&&(0,s.isDef)(C.length)&&y.reset(C,m),C},r.prototype.clear=function(t){t===void 0&&(t={});var e=this.all;return e&&e.reset(void 0,t),this},r.prototype.getAll=function(){return mt([],this.all.models,!0)},r.prototype.getAllMap=function(){return this.getAll().reduce(function(t,e){return t[e.get(e.idAttribute)]=e,t},{})},r.prototype.__initListen=function(t){t===void 0&&(t={});var e=this,n=e.all,o=e.em,c=e.events;n&&o&&n.on("add",function(h,m,y){return o.trigger(c.add,h,y)}).on("remove",function(h,m,y){return o.trigger(c.remove,h,y)}).on("change",function(h,m){return o.trigger(c.update,h,h.changedAttributes(),m)}).on("all",this.__catchAllEvent,this),this.cls=[n].concat(t.collections||[]),(t.propagate||[]).forEach(function(h){var m=h.entity,y=h.event;m.on("all",function(C,P,D,z){var q=z||D,ot=at({event:C},q);[o,n].map(function(ft){return ft.trigger(y,P,ot)})})})},r.prototype.__remove=function(t,e){var n=this;e===void 0&&(e={});var o=this.em,c=(0,i.isString)(t)?this.get(t):t,h=function(){return c&&n.all.remove(c,e),c};return!e.silent&&(o==null||o.trigger(this.events.removeBefore,c,h,e)),!e.abort&&h()},r.prototype.__catchAllEvent=function(t,e,n,o){var c=this,h=c.em,m=c.events,y=o||n;h&&m.all&&h.trigger(m.all,{event:t,model:e,options:y}),this.__onAllEvent()},r.prototype.__appendTo=function(t){var e=this.config.appendTo;if(e){var n=(0,i.isElement)(e)?e:document.querySelector(e);if(!n)return this.__logWarn('"appendTo" element not found');n.appendChild(this.render(t))}},r.prototype.__onAllEvent=function(){},r.prototype._createId=function(t){t===void 0&&(t=16);var e=this.getAll(),n=e.length+t,o=this.getAllMap(),c;do c=(0,s.createId)(n);while(o[c]);return c},r.prototype.__listenAdd=function(t,e){var n=this;t.on("add",function(o,c,h){return n.em.trigger(e,o,h)})},r.prototype.__listenRemove=function(t,e){var n=this;t.on("remove",function(o,c,h){return n.em.trigger(e,o,h)})},r.prototype.__listenUpdate=function(t,e){var n=this;t.on("change",function(o,c){return n.em.trigger(e,o,o.changedAttributes(),c)})},r.prototype.__destroy=function(){var t;this.cls.forEach(function(e){e.stopListening(),e.reset()}),(t=this.view)===null||t===void 0||t.remove(),this.view=void 0},r}(Z),X={stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:void 0,autoscrollLimit:50,extHl:!1,frameContent:"<!DOCTYPE html>",frameStyle:`
    body { background-color: #fff }
    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }
    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }
    * ::-webkit-scrollbar { width: 10px }
  `,notTextable:["button","a","input[type=checkbox]","input[type=radio]"],allowExternalDrop:!0};const yt=X;var bt=_n(642),Tt={default:"",devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]};const Ct=Tt;var Q=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),V=function(l){Q(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.defaults=function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}},r.prototype.initialize=function(){var t=this;this.get("widthMedia")===null&&this.set("widthMedia",this.get("width")),this.get("width")===null&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0);var e=["width","height","widthMedia"];e.forEach(function(n){return t.checkUnit(n)})},r.prototype.checkUnit=function(t){var e=this.get(t)||"",n=(parseFloat(e)||0).toString()===e.toString();n&&this.set(t,"".concat(e,"px"))},r.prototype.getName=function(){return this.get("name")||this.get("id")},r.prototype.getWidthMedia=function(){return this.get("widthMedia")||""},r}(O.Hn);const W=V;var Y=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),it=function(l){Y(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r}(O.FE);const U=it;it.prototype.model=W;var dt=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),B=function(l,r){return Object.defineProperty?Object.defineProperty(l,"raw",{value:r}):l.raw=r,l},It=function(l){dt(r,l);function r(t){var e=l.call(this,t)||this;return e.config=t.config||{},e.em=e.config.em,e.ppfx=e.config.pStylePrefix||"",e.listenTo(e.em,"change:device",e.updateSelect),e}return r.prototype.template=function(t){var e=t.ppfx,n=t.label;return f(lt||(lt=B([`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `],[`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `])),e,n,e,e,e,e,e,e,e)},r.prototype.events=function(){return{change:"updateDevice","click [data-add-trasp]":"startAdd"}},r.prototype.startAdd=function(){},r.prototype.updateDevice=function(){var t=this.em;if(t){var e=this.devicesEl;t.set("device",e?e.val():"")}},r.prototype.updateSelect=function(){var t=this,e=t.em,n=t.devicesEl;if(e&&e.getDeviceModel&&n){var o=e.getDeviceModel();n.val(o?o.get("id"):"")}},r.prototype.getOptions=function(){var t=this,e=t.collection,n=t.em,o="";return e.forEach(function(c){var h=c.attributes,m=h.name,y=h.id,C=n&&n.t&&n.t("deviceManager.devices.".concat(y))||m;o+='<option value="'.concat(y||m,'">').concat(C,"</option>")}),o},r.prototype.render=function(){var t=this,e=t.em,n=t.ppfx,o=t.$el,c=t.el,h=e&&e.t&&e.t("deviceManager.device");return o.html(this.template({ppfx:n,label:h})),this.devicesEl=o.find(".".concat(n,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(e.get("device")),c.className="".concat(n,"devices-c"),this},r}(O.G7);const gt=It;var lt,kt=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ht=function(){return Ht=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Ht.apply(this,arguments)},Wt="device",ie="".concat(Wt,":"),qt="".concat(ie,"select"),Zt="".concat(ie,"update"),St="".concat(ie,"add"),zt="".concat(ie,"remove"),Kt="".concat(zt,":before"),le="change:device",ae={all:Wt,select:qt,update:Zt,add:St,remove:zt,removeBefore:Kt},Jt=function(l){kt(r,l);function r(t){var e,n=l.call(this,t,"DeviceManager",new U,ae,Ct)||this;return n.Device=W,n.Devices=U,n.storageKey="",n.devices=n.all,(e=n.config.devices)===null||e===void 0||e.forEach(function(o){return n.add(o,{silent:!0})}),n.select(n.config.default||n.devices.at(0)),t.on(le,n._onSelect,n),n}return r.prototype._onSelect=function(t,e,n){var o=this,c=o.em,h=o.events,m=t.previous("device"),y=this.get(e),C=h.select;c.trigger(C,y,this.get(m)),this.__catchAllEvent(C,y,n)},r.prototype.add=function(t,e){e===void 0&&(e={});var n,o=e;if((0,i.isString)(t)){var c=e;o=arguments[2]||{},n=Ht(Ht({},o),{id:t,name:o.name||t,width:c})}else n=t;return n.id||(n.id=n.name||this._createId()),this.devices.add(n,o)},r.prototype.get=function(t){var e=this.getAll().filter(function(n){return n.get("name")===t})[0];return e||this.devices.get(t)||null},r.prototype.remove=function(t,e){return e===void 0&&(e={}),this.__remove(t,e)},r.prototype.getDevices=function(){return this.devices.models},r.prototype.select=function(t,e){e===void 0&&(e={});var n=(0,i.isString)(t)?this.get(t):t;return n&&this.em.set("device",n.get("id"),e),this},r.prototype.getSelected=function(){return this.get(this.em.get("device"))},r.prototype.getAll=function(){return this.devices},r.prototype.render=function(){var t,e=this.em;return(t=this.view)===null||t===void 0||t.remove(),this.view=new gt({collection:this.devices,config:Ht({em:e},this.config)}),this.view.render().el},r.prototype.destroy=function(){this.__destroy()},r}(G);const ge=Jt;var He;(function(l){l.add="page:add",l.addBefore="page:add:before",l.remove="page:remove",l.removeBefore="page:remove:before",l.select="page:select",l.selectBefore="page:select:before",l.update="page:update",l.all="page"})(He||(He={}));const pn=He;var jn=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gn=function(l){jn(r,l);function r(t,e,n){return l.call(this,e,{module:t,modelConstructor:n})||this}return r.prototype.add=function(t,e){var n=this,o,c=(0,i.isArray)(t)?t:(0,i.isUndefined)(t)?void 0:[t];return c=(o=c==null?void 0:c.map(function(h){return h instanceof n.newModel?h:new n.newModel(n.module,h)}))!==null&&o!==void 0?o:[void 0],l.prototype.add.call(this,(0,i.isArray)(t)?c:c[0],e)},r.prototype.preinitialize=function(t,e){this.newModel=e.modelConstructor,this.module=e.module},r}(O.FE);const ve=gn;var F=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),et=function(){return et=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},et.apply(this,arguments)},ht=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},Et="__aw",Vt="__ah",ct=function(l,r){var t,e=l.get(r),n=(t=l.view)===null||t===void 0?void 0:t.el[r==="width"?"offsetWidth":"offsetHeight"];return(0,i.isNumber)(e)?e:(0,i.isString)(e)&&e.endsWith("px")?parseFloat(e):n||0},Nt=function(l){F(r,l);function r(t,e){var n=l.call(this,t,e)||this,o=n.em,c=n.attributes,h=c.styles,m=c.component,y=o.Components,C=y.getConfig(),P=o.Css.getAll(),D={},z={em:o,config:C,frame:n,idMap:D};if(!(0,s.isComponent)(m)){var q=(0,s.isObject)(m)?m:{components:m};!q.type&&(q.type="wrapper");var ot=y.getType("wrapper").model;n.set("component",new ot(q,z))}if(!h)n.set("styles",P);else if(!(0,s.isObject)(h)){var ft=h;(0,i.keys)(D).length&&(ft=(0,i.isString)(ft)?o.Parser.parseCss(ft):ft,o.Css.checkId(ft,{idMap:D})),P.add(ft),n.set("styles",P)}return!e.width&&n.set(Et,1),!e.height&&n.set(Vt,1),!n.id&&n.set("id",(0,s.createId)()),n}return r.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",refFrame:null,_undo:!0,_undoexc:["changesCount"]}},Object.defineProperty(r.prototype,"width",{get:function(){return ct(this,"width")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return ct(this,"height")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"refFrame",{get:function(){return this.get("refFrame")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"root",{get:function(){var t=this.refFrame;return(t==null?void 0:t.getComponent())||this.getComponent()},enumerable:!1,configurable:!0}),r.prototype.initRefs=function(){var t=this.refFrame;if((0,i.isString)(t)){var e=this.module.framesById[t];e&&this.set({refFrame:e},{silent:!0})}},r.prototype.getBoxRect=function(){var t=this.attributes,e=t.x,n=t.y,o=this,c=o.width,h=o.height;return{x:e,y:n,width:c,height:h}},r.prototype.onRemove=function(){!this.refFrame&&this.getComponent().remove({root:1})},r.prototype.changesUp=function(t){t===void 0&&(t={}),!(t.temporary||t.noCount||t.avoidStore)&&this.set("changesCount",this.get("changesCount")+1)},r.prototype.getComponent=function(){return this.get("component")},r.prototype.getStyles=function(){return this.get("styles")},r.prototype.disable=function(){this.trigger("disable")},r.prototype.remove=function(){var t;(t=this.view)===null||t===void 0||t.remove(),this.view=void 0;var e=this.collection;return e&&e.remove(this)},r.prototype.getHead=function(){return ht([],this.head,!0)},r.prototype.setHead=function(t){return this.set("head",ht([],t,!0))},r.prototype.addHeadItem=function(t){this.head.push(t)},r.prototype.getHeadByAttr=function(t,e,n){return this.head.filter(function(o){return o.attributes&&o.attributes[t]==e&&(!n||n===o.tag)})[0]},r.prototype.removeHeadByAttr=function(t,e,n){var o=this.getHeadByAttr(t,e,n),c=this.head.indexOf(o);c>=0&&this.head.splice(c,1)},r.prototype.addLink=function(t){var e="link";!this.getHeadByAttr("href",t,e)&&this.addHeadItem({tag:e,attributes:{href:t,rel:"stylesheet"}})},r.prototype.removeLink=function(t){this.removeHeadByAttr("href",t,"link")},r.prototype.addScript=function(t){var e="script";!this.getHeadByAttr("src",t,e)&&this.addHeadItem({tag:e,attributes:{src:t}})},r.prototype.removeScript=function(t){this.removeHeadByAttr("src",t,"script")},r.prototype.getPage=function(){var t;return(t=this.collection)===null||t===void 0?void 0:t.page},r.prototype._emitUpdated=function(t){t===void 0&&(t={}),this.em.trigger("frame:updated",et({frame:this},t))},r.prototype.hasAutoHeight=function(){var t=this.attributes.height;return!!(t==="auto"||this.config.infiniteCanvas)},r.prototype.toJSON=function(t){t===void 0&&(t={});var e=bt.Z.prototype.toJSON.call(this,t),n=(0,i.result)(this,"defaults");return t.fromUndo&&delete e.component,delete e.styles,delete e.changesCount,e[Et]&&delete e.width,e[Vt]&&delete e.height,e.refFrame&&(e.refFrame=e.refFrame.id,delete e.component),(0,i.forEach)(e,function(o,c){c.indexOf("_")===0&&delete e[c]}),(0,i.forEach)(n,function(o,c){e[c]===o&&delete e[c]}),(0,i.forEach)(["attributes","head"],function(o){(0,i.isEmpty)(e[o])&&delete e[o]}),e},r}(bt.Z);const Pt=Nt;var xe=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xe=function(l){xe(r,l);function r(t,e){e===void 0&&(e=[]);var n=l.call(this,t,e,Pt)||this;return n.loadedItems=0,n.itemsToLoad=0,(0,i.bindAll)(n,"itemLoaded"),n.on("add",n.onAdd),n.on("reset",n.onReset),n.on("remove",n.onRemove),n.forEach(function(o){return n.onAdd(o)}),n}return r.prototype.onAdd=function(t){this.module.framesById[t.id]=t},r.prototype.onReset=function(t,e){var n=this,o=(e==null?void 0:e.previousModels)||[];o.map(function(c){return n.onRemove(c)})},r.prototype.onRemove=function(t){t.onRemove(),delete this.module.framesById[t.id]},r.prototype.initRefs=function(){this.forEach(function(t){return t.initRefs()})},r.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},r.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},r.prototype.listenToLoadItems=function(t){var e=this;this.forEach(function(n){return n[t?"on":"off"]("loaded",e.itemLoaded)})},r}(ve);const Ne=Xe;var Ge=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),nn=function(l){Ge(r,l);function r(t){var e=this,n=t.em,o=t.config,c=o.scripts,h=o.styles;return e=l.call(this,t,{scripts:c,styles:h})||this,e.set("frames",new Ne(t)),e.on("change:zoom",e.onZoomChange),e.on("change:x change:y",e.onCoordsChange),e.on("change:pointer change:pointerScreen",e.onPointerChange),e.listenTo(n,"change:device ".concat(Zt),e.updateDevice),e.listenTo(n,pn.select,e._pageUpdated),e}return r.prototype.defaults=function(){return{frame:"",frames:[],rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[],pointer:O.pH,pointerScreen:O.pH}},Object.defineProperty(r.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),r.prototype.init=function(){var t=this.em,e=t.Pages._initPage();this.set("frames",e.getFrames()),this.updateDevice({frame:e.getMainFrame()})},r.prototype._pageUpdated=function(t,e){var n=this.em;n.setSelected(),n.get("readyCanvas")&&n.stopDefault(),e==null||e.getFrames().map(function(o){return o.disable()}),this.set("frames",t.getFrames()),this.updateDevice({frame:t.getMainFrame()})},r.prototype.updateDevice=function(t){t===void 0&&(t={});var e=this.em,n=e.getDeviceModel(),o=t.frame||e.getCurrentFrameModel();if(o&&n){var c=n.attributes,h=c.width,m=c.height;o.set({width:h,height:m},{noUndo:1})}},r.prototype.onZoomChange=function(){var t=this,e=t.em,n=t.module,o=this.get("zoom");o<1&&this.set("zoom",1),e.trigger(n.events.zoom)},r.prototype.onCoordsChange=function(){var t=this,e=t.em,n=t.module;e.trigger(n.events.coords)},r.prototype.onPointerChange=function(){var t=this,e=t.em,n=t.module;e.trigger(n.events.pointer)},r.prototype.getPointerCoords=function(t){t===void 0&&(t=O.vA.World);var e=this.attributes,n=e.pointer,o=e.pointerScreen;return t===O.vA.World?n:o},r}(bt.Z);const _e=nn;var rn=_n(675),ln=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),tn=function(l){ln(r,l);function r(t,e){e===void 0&&(e=[]);var n=l.call(this,t,e,rn.Z)||this;n.on("add",n.onAdd),n.on("change",n.onChange),n.on("remove",n.onRemove);var o=n.em;n.refreshDbn=(0,i.debounce)(function(){return n.refresh()},0);var c="component:resize styleable:change component:input component:update frame:updated undo redo";return n.listenTo(o,c,function(){return n.refreshDbn()}),n}return Object.defineProperty(r.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"events",{get:function(){return this.module.events},enumerable:!1,configurable:!0}),r.prototype.refresh=function(){var t=this,e=t.em,n=t.events;e.trigger(n.spot)},r.prototype.onAdd=function(t){this.__trgEvent(this.events.spotAdd,{spot:t})},r.prototype.onChange=function(t){this.__trgEvent(this.events.spotUpdate,{spot:t})},r.prototype.onRemove=function(t){this.__trgEvent(this.events.spotRemove,{spot:t})},r.prototype.__trgEvent=function(t,e){var n=this.module,o=n.em;o.trigger(t,e),this.refreshDbn()},r}(ve);const Tn=tn;var Ce;(function(l){l.dragEnter="canvas:dragenter",l.dragOver="canvas:dragover",l.dragEnd="canvas:dragend",l.dragData="canvas:dragdata",l.drop="canvas:drop",l.spot="canvas:spot",l.spotAdd="canvas:spot:add",l.spotUpdate="canvas:spot:update",l.spotRemove="canvas:spot:remove",l.coords="canvas:coords",l.zoom="canvas:zoom",l.pointer="canvas:pointer",l.refresh="canvas:refresh",l.frameLoad="canvas:frame:load",l.frameLoadHead="canvas:frame:load:head",l.frameLoadBody="canvas:frame:load:body"})(Ce||(Ce={}));const En=Ce;var Re=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),un=function(l){Re(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"pfx",{get:function(){return this.ppfx+this.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ppfx",{get:function(){return this.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"module",{get:function(){var t,e;return(e=(t=this.model)===null||t===void 0?void 0:t.module)!==null&&e!==void 0?e:this.collection.module},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"config",{get:function(){return this.module.config},enumerable:!1,configurable:!0}),r.prototype.preinitialize=function(t){this.className=""},r}(O.G7);const Ze=un;var ee=_n(491),Nn=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),So=function(l){Nn(r,l);function r(t,e){t===void 0&&(t={}),e===void 0&&(e=!1);var n=l.call(this,t)||this;return n.itemsView="",n.itemType="type",n.reuseView=!1,n.viewCollection=[],e&&n.listenTo(n.collection,"add",n.addTo),n}return r.prototype.addTo=function(t){this.add(t)},r.prototype.itemViewNotFound=function(t){},r.prototype.add=function(t,e){var n=this,o=n.reuseView,c=n.viewCollection,h=e||null,m=t.get(this.itemType),y;t.view&&o?y=t.view:y=this.renderView(t,m),c.push(y);var C=y.render().el;h?h.appendChild(C):this.$el.append(C)},r.prototype.render=function(){var t=this,e=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(n){return t.add(n,e)}),this.$el.append(e),this.onRender(),this},r.prototype.onRender=function(){},r.prototype.onRemoveBefore=function(t,e){},r.prototype.onRemove=function(t,e){},r.prototype.remove=function(t){t===void 0&&(t={});var e=this.viewCollection;return this.onRemoveBefore(e,t),this.clearItems(),O.G7.prototype.remove.apply(this,t),this.onRemove(e,t),this},r.prototype.clearItems=function(){this.viewCollection},r}(Ze);const tt=So;var wt=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Mt=function(l){wt(r,l);function r(t){t===void 0&&(t={});var e=l.call(this,t)||this;e.config=t.config||{};var n=e.model;return e.listenTo(n,"change",e.render),e.listenTo(n,"destroy remove",e.remove),e.listenTo(n.get("selectors"),"change",e.render),e}return r.prototype.tagName=function(){return"style"},r.prototype.render=function(){var t=this,e=t.model,n=t.el,o=e.get("important");return n.innerHTML=e.toCSS({important:o}),this},r}(O.G7);const $t=Mt;var he=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Me=function(l){he(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype._createElement=function(){return document.createTextNode("")},r.prototype.render=function(){var t=this.model,e=t.get("important");return this.el.textContent=t.getDeclaration({important:e}),this},r}($t);const Je=Me;var hr=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vr=function(l,r){return"".concat(l).concat(r?"-".concat(parseFloat(r)):"")},In=function(l){hr(r,l);function r(t){var e=l.call(this,t)||this;(0,i.bindAll)(e,"sortRules");var n=t.config||{};e.atRules={},e.config=n,e.em=n.em,e.pfx=n.stylePrefix||"",e.className=e.pfx+"rules";var o=e.collection;return e.listenTo(o,"add",e.addTo),e.listenTo(o,"reset",e.render),e}return r.prototype.addTo=function(t){this.addToCollection(t)},r.prototype.addToCollection=function(t,e){if(this.renderStarted){var n=e||null,o=this.config,c={model:t,config:o},h,m;if(t.get("atRuleType")==="keyframes"){var y=t.getAtRule(),C=this.atRules[y];if(!C){var P=document.createElement("style");C=document.createTextNode(""),P.appendChild(document.createTextNode("".concat(y,"{"))),P.appendChild(C),P.appendChild(document.createTextNode("}")),this.atRules[y]=C,h=P}m=new Je(c),C.appendData(m.render().el.textContent)}else m=new $t(c),h=m.render().el;var D=this.className,z=t.get("mediaText"),q=vr(D),ot=q;if(z&&(ot=vr(D,this.getMediaWidth(z))),h){var ft=n||this.el,xt=void 0;try{xt=ft.querySelector("#".concat(ot))}catch{}xt||(xt=ft.querySelector("#".concat(q))),xt==null||xt.appendChild(h)}return h}},r.prototype.getMediaWidth=function(t){return t&&t.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")},r.prototype.sortRules=function(t,e){var n=this.em,o=(n.getConfig().mediaCondition||"").indexOf("min-width")!==-1;if(!o)return 0;var c=o?t:e,h=o?e:t;return c-h},r.prototype.render=function(){var t=this;this.renderStarted=!0,this.atRules={};var e=this,n=e.em,o=e.$el,c=e.collection,h=this.className,m=document.createDocumentFragment();o.empty();var y=n.Devices.getAll().pluck("priority").sort(this.sortRules);return y.every(function(C){return C})&&y.unshift(0),y.forEach(function(C){return m.appendChild((0,ee.ut)("div",{id:vr(h,C)}))}),c.each(function(C){return t.addToCollection(C,m)}),o.append(m),o.attr("class",h),this},r}(O.G7);const mi=In;var gr=function(){return gr=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},gr.apply(this,arguments)},Gr=function(){function l(r,t){var e=this;this.em=r,this.canvas=r.Canvas;var n=t||this.canvas.getFrames().map(function(c){return c.getComponent().getEl()}),o=Array.isArray(n)?n:[n];this.el=o[0],this.counter=0,(0,i.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave"),o.forEach(function(c){return e.toggleEffects(c,!0)})}return l.prototype.toggleEffects=function(r,t){var e={on:ee.on,off:ee.S1},n=t?"on":"off";e[n](r,"dragenter",this.handleDragEnter),e[n](r,"dragover",this.handleDragOver),e[n](r,"drop",this.handleDrop),e[n](r,"dragleave",this.handleDragLeave)},l.prototype.__customTglEff=function(r){var t,e=r?ee.on:ee.S1,n=this.el.ownerDocument,o=(t=n.defaultView)===null||t===void 0?void 0:t.frameElement;this.sortOpts=r?{onStart:function(c){var h=c.sorter;(0,ee.on)(o,"pointermove",h.onMove)},onEnd:function(c){var h=c.sorter;(0,ee.S1)(o,"pointermove",h.onMove)},customTarget:function(c){var h=c.event;return n.elementFromPoint(h.clientX,h.clientY)}}:null,e(o,"pointerenter",this.handleDragEnter),e(o,"pointermove",this.handleDragOver),e(document,"pointerup",this.handleDrop),e(o,"pointerout",this.handleDragLeave)},l.prototype.startCustom=function(){this.__customTglEff(!0)},l.prototype.endCustom=function(r){this.over?this.endDrop(r):this.__customTglEff(!1)},l.prototype.endDrop=function(r,t){var e=this,n=e.em,o=e.dragStop;this.counter=0,o&&o(r||!this.over),this.__customTglEff(!1),n.trigger("canvas:dragend",t)},l.prototype.handleDragLeave=function(r){this.updateCounter(-1,r)},l.prototype.updateCounter=function(r,t){this.counter+=r,this.counter===0&&this.endDrop(!0,t)},l.prototype.handleDragEnter=function(r){var t=this,e=this,n=e.em,o=e.canvas,c=r.dataTransfer,h=n.get("dragContent");if(!(!h&&!o.getConfig().allowExternalDrop)&&(this.updateCounter(1,r),!this.over)){this.over=!0;var m=n.Utils,y=h||"<br>",C,P;if(n.stopDefault(),n.inAbsoluteMode()){var D=n.Components.getWrapper(),z=D.append({})[0],q=n.Commands.run("core:component-drag",{event:r,guidesInfo:1,center:1,target:z,onEnd:function(ft,xt,Ft){var Rt=Ft.cancelled,Xt;if(!Rt){Xt=D.append(y)[0];var de=o.getOffset(),Oe=z.getStyle(),De=Oe.top,pe=Oe.left,Fe=Oe.position,Ye=(0,ee.GX)(ft.target),yn=parseInt("".concat(parseFloat(pe)+Ye.x-de.left),10),se=parseInt("".concat(parseFloat(De)+Ye.y-de.top),10);Xt.addStyle({left:yn+"px",top:se+"px",position:Fe})}t.handleDragEnd(Xt,c),z.remove()}});C=function(ft){return q.stop(r,{cancel:ft})},P=function(ft){return y=ft}}else{var ot=new m.Sorter(gr({em:n,wmargin:1,nested:1,canvasRelative:1,direction:"a",container:this.el,placer:o.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:"gjs-",onEndMove:function(ft){return t.handleDragEnd(ft,c)},document:this.el.ownerDocument},this.sortOpts||{}));ot.setDropContent(y),ot.startSort(),this.sorter=ot,C=function(ft){ft&&(ot.moved=!1),ot.endMove()},P=function(ft){return ot.setDropContent(ft)}}this.dragStop=C,this.dragContent=P,n.trigger("canvas:dragenter",c,y)}},l.prototype.handleDragEnd=function(r,t){var e=this.em;this.over=!1,r&&(e.set("dragResult",r),e.trigger("canvas:drop",t,r)),e.runDefault({preserveSelected:1})},l.prototype.handleDragOver=function(r){r.preventDefault(),this.em.trigger("canvas:dragover",r)},l.prototype.handleDrop=function(r){r.preventDefault();var t=this.dragContent,e=r.dataTransfer,n=this.getContentByData(e).content;r.target.style.border="",n&&t&&t(n),this.endDrop(!n,r)},l.prototype.getContentByData=function(r){var t=this.em,e=r&&r.types,n=r&&r.files||[],o=t.get("dragContent"),c=r&&r.getData("text");if(n.length){c=[];for(var h=0;h<n.length;h++){var m=n[h],y=m.type.split("/")[0];y=="image"&&c.push({type:y,file:m,attributes:{alt:m.name}})}}else if(o)c=o;else if((0,i.indexOf)(e,"text/html")>=0)c=r&&r.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,i.indexOf)(e,"text/uri-list")>=0)c={type:"link",attributes:{href:c},content:c};else if((0,i.indexOf)(e,"text/json")>=0){var C=r&&r.getData("text/json");C&&(c=JSON.parse(C))}else e.length===1&&e[0]==="text/plain"&&(c="<div>".concat(c,"</div>"));var P={content:c};return t.trigger("canvas:dragdata",r,P),P},l}();const yi=Gr;var Rn=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Cn=function(){return Cn=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Cn.apply(this,arguments)},Zn=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},Kr=function(l){Rn(r,l);function r(t,e){var n=l.call(this,{model:t})||this;n.dragging=!1,n.loaded=!1,n.lastMaxHeight=0,n.tools={},(0,i.bindAll)(n,"updateClientY","stopAutoscroll","autoscroll","_emitUpdate");var o=n.el;n.module._config=Cn(Cn({},n.config||{}),{frameView:n}),n.frameWrapView=e,n.showGlobalTools=(0,i.debounce)(n.showGlobalTools.bind(n),50);var c=n.getCanvasModel();return n.listenTo(t,"change:head",n.updateHead),n.listenTo(c,"change:styles",n.renderStyles),t.view=n,(0,s.setViewEl)(o,n),n}return Object.defineProperty(r.prototype,"tagName",{get:function(){return"iframe"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"attributes",{get:function(){return{allowfullscreen:"allowfullscreen"}},enumerable:!1,configurable:!0}),r.prototype.getBoxRect=function(){var t=this,e=t.el,n=t.module,o=n.getCanvasView(),c=n.getCoords(),h=e.getBoundingClientRect(),m=o.getCanvasOffset(),y=o.getViewportDelta(),C=n.getZoomMultiplier(),P=(h.x-m.left-y.x-c.x)*C,D=(h.y-m.top-y.y-c.y)*C,z=h.width*C,q=h.height*C;return{x:P,y:D,width:z,height:q}},r.prototype.updateHead=function(){var t=this.model,e=this.getHead(),n=[],o=[],c=t.head,h=t.previous("head"),m=function(C){return C===void 0&&(C={}),Object.keys(C).sort().map(function(P){return"[".concat(P,'="').concat(C[P],'"]')}).join("")},y=function(C,P,D){C.forEach(function(z){var q=z.tag,ot=z.attributes,ft=P.some(function(xt){return xt.tag===q&&m(xt.attributes)===m(ot)});!ft&&D.push(z)})};y(c,h,o),y(h,c,n),n.forEach(function(C){var P,D=e.querySelector("".concat(C.tag).concat(m(C.attributes)));(P=D==null?void 0:D.parentNode)===null||P===void 0||P.removeChild(D)}),(0,ee.SJ)(e,o)},r.prototype.getEl=function(){return this.el},r.prototype.getCanvasModel=function(){return this.em.Canvas.getModel()},r.prototype.getWindow=function(){return this.getEl().contentWindow},r.prototype.getDoc=function(){return this.getEl().contentDocument},r.prototype.getHead=function(){return this.getDoc().querySelector("head")},r.prototype.getBody=function(){return this.getDoc().querySelector("body")},r.prototype.getWrapper=function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},r.prototype.getJsContainer=function(){return this.jsContainer||(this.jsContainer=(0,ee.ut)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},r.prototype.getToolsEl=function(){var t;return(t=this.frameWrapView)===null||t===void 0?void 0:t.elTools},r.prototype.getGlobalToolsEl=function(){return this.em.Canvas.getGlobalToolsEl()},r.prototype.getHighlighter=function(){return this._getTool("[data-hl]")},r.prototype.getBadgeEl=function(){return this._getTool("[data-badge]")},r.prototype.getOffsetViewerEl=function(){return this._getTool("[data-offset]")},r.prototype.getRect=function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},r.prototype.getOffsetRect=function(){var t=this.el,e=this.getBody(),n=e.scrollTop,o=e.scrollLeft,c=t.offsetHeight,h=t.offsetWidth;return{top:t.offsetTop,left:t.offsetLeft,height:c,width:h,scrollTop:n,scrollLeft:o,scrollBottom:n+c,scrollRight:o+h}},r.prototype._getTool=function(t){var e=this.tools,n=this.getToolsEl();return e[t]||(e[t]=n.querySelector(t)),e[t]},r.prototype.remove=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._toggleEffects(!1),this.tools={},(t=this.wrapper)===null||t===void 0||t.remove(),Ze.prototype.remove.apply(this,e),this},r.prototype.startAutoscroll=function(){var t=this;this.lastMaxHeight=this.getWrapper().offsetHeight-this.el.offsetHeight,setTimeout(function(){t._toggleAutoscrollFx(!0),requestAnimationFrame(t.autoscroll)},0)},r.prototype.autoscroll=function(){if(this.dragging){var t=this.lastClientY,e=this.em.Canvas,n=this.getWindow(),o=n.pageYOffset,c=t||0,h=e.getConfig().autoscrollLimit,m=this.getRect().height-h,y=o;if(c<h&&(y-=h-c),c>m&&(y+=c-m),!(0,i.isUndefined)(t)&&y!==o&&y>0&&y<this.lastMaxHeight){var C=this.getGlobalToolsEl();C.style.opacity="0",this.showGlobalTools(),n.scrollTo(0,y),e.spots.refreshDbn()}requestAnimationFrame(this.autoscroll)}},r.prototype.updateClientY=function(t){t.preventDefault(),this.lastClientY=(0,ee.VB)(t).clientY*this.em.getZoomDecimal()},r.prototype.showGlobalTools=function(){this.getGlobalToolsEl().style.opacity=""},r.prototype.stopAutoscroll=function(){this.dragging&&this._toggleAutoscrollFx(!1)},r.prototype._toggleAutoscrollFx=function(t){this.dragging=t;var e=this.getWindow(),n=t?"on":"off",o={on:ee.on,off:ee.S1};o[n](e,"mousemove dragover",this.updateClientY),o[n](e,"mouseup",this.stopAutoscroll)},r.prototype.render=function(){var t=this,e=t.$el,n=t.ppfx,o=t.em;return e.attr({class:"".concat(n,"frame")}),this.renderScripts(),o.trigger("frame:render",this),this},r.prototype.renderScripts=function(){var t=this,e=this,n=e.el,o=e.model,c=e.em,h="frame:load",m={el:n,model:o,view:this},y=this.getCanvasModel(),C=function(P){var D;if(P.length>0){var z=P.shift(),q=(0,ee.ut)("script",Cn({type:"text/javascript"},(0,i.isString)(z)?{src:z}:z));(D=n.contentDocument)===null||D===void 0||D.head.appendChild(q),q.hasAttribute("nomodule")&&"noModule"in HTMLScriptElement.prototype?C(P):q.onerror=q.onload=C.bind(null,P)}else c==null||c.trigger(En.frameLoadHead,m),t.renderBody(),c==null||c.trigger(En.frameLoadBody,m),c==null||c.trigger(h,m)};n.onload=function(){var P=t.config.frameContent;if(P){var D=t.getDoc();D.open(),D.write(P),D.close()}m.window=t.getWindow(),c==null||c.trigger("".concat(h,":before"),m),c==null||c.trigger(En.frameLoad,m),C(Zn([],y.get("scripts"),!0))}},r.prototype.renderStyles=function(t){t===void 0&&(t={});var e=this.getHead(),n=this.getCanvasModel(),o=function(P){return P.map(function(D){return{tag:"link",attributes:Cn({rel:"stylesheet"},(0,i.isString)(D)?{href:D}:D)}})},c=o(t.prev||n.previous("styles")),h=o(n.get("styles")),m=[],y=[],C=function(P,D,z){P.forEach(function(q){var ot=q.attributes.href,ft=D.some(function(xt){return xt.attributes.href===ot});!ft&&z.push(q)})};C(h,c,y),C(c,h,m),m.forEach(function(P){var D,z=e.querySelector('link[href="'.concat(P.attributes.href,'"]'));(D=z==null?void 0:z.parentNode)===null||D===void 0||D.removeChild(z)}),(0,ee.SJ)(e,y)},r.prototype.renderBody=function(){var t=this,e,n,o=this,c=o.config,h=o.em,m=o.model,y=o.ppfx,C=this.getDoc(),P=this.getBody(),D=this.getWindow(),z=m.hasAutoHeight(),q=h.config;D._isEditor=!0,this.renderStyles({prev:[]});var ot="#ffca6f";(0,ee.R3)(P,`<style>
      `.concat(q.baseCss||c.frameStyle||"",`

      `).concat(z?"body { overflow: hidden }":"",`

      [data-gjs-type="wrapper"] {
        `).concat(z?"":"min-height: 100vh;",`
        padding-top: 0.001em;
      }

      .`).concat(y,`dashed *[data-gjs-highlightable] {
        outline: 1px dashed rgba(170,170,170,0.7);
        outline-offset: -2px;
      }

      .`).concat(y,`selected {
        outline: 2px solid #3b97e3 !important;
        outline-offset: -2px;
      }

      .`).concat(y,`selected-parent {
        outline: 2px solid `).concat(ot,` !important
      }

      .`).concat(y,`no-select {
        user-select: none;
        -webkit-user-select:none;
        -moz-user-select: none;
      }

      .`).concat(y,`freezed {
        opacity: 0.5;
        pointer-events: none;
      }

      .`).concat(y,`no-pointer {
        pointer-events: none;
      }

      .`).concat(y,`pointer-init {
        pointer-events: initial;
      }

      .`).concat(y,`plh-image {
        background: #f5f5f5;
        border: none;
        height: 100px;
        width: 100px;
        display: block;
        outline: 3px solid #ffca6f;
        cursor: pointer;
        outline-offset: -2px
      }

      .`).concat(y,`grabbing {
        cursor: grabbing;
        cursor: -webkit-grabbing;
      }

      .`).concat(y,`is__grabbing {
        overflow-x: hidden;
      }

      .`).concat(y,`is__grabbing,
      .`).concat(y,`is__grabbing * {
        cursor: grabbing !important;
      }

      `).concat(q.canvasCss||"",`
      `).concat(q.protectedCss||"",`
    </style>`));var ft=m.root,xt=h.Components.getType("wrapper").view;this.wrapper=new xt({model:ft,config:Cn(Cn({},ft.config),{em:h,frameView:this})}).render(),(0,ee.R3)(P,(e=this.wrapper)===null||e===void 0?void 0:e.el),(0,ee.R3)(P,new mi({collection:m.getStyles(),config:Cn(Cn({},h.Css.getConfig()),{frameView:this})}).render().el),(0,ee.R3)(P,this.getJsContainer()),(0,ee.on)(P,"click",function(Ft){var Rt;return Ft&&((Rt=Ft.target)===null||Rt===void 0?void 0:Rt.tagName)=="A"&&Ft.preventDefault()}),(0,ee.on)(P,"submit",function(Ft){return Ft&&Ft.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent",opts:{passive:!c.infiniteCanvas}}].forEach(function(Ft){return Ft.event.split(" ").forEach(function(Rt){C.addEventListener(Rt,function(Xt){return t.el.dispatchEvent((0,ee.t3)(Xt,Ft.class))},Ft.opts)})}),this._toggleEffects(!0),(0,s.hasDnd)(h)&&(this.droppable=new yi(h,(n=this.wrapper)===null||n===void 0?void 0:n.el)),this.loaded=!0,m.trigger("loaded")},r.prototype._toggleEffects=function(t){var e=t?ee.on:ee.S1,n=this.getWindow();n&&e(n,"".concat(ee.G1," resize"),this._emitUpdate)},r.prototype._emitUpdate=function(){this.model._emitUpdated()},r}(Ze);const Oo=Kr;var Hi=_n(668),ao=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),mr=function(){return mr=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},mr.apply(this,arguments)},Jn=function(l){ao(r,l);function r(t,e){var n=l.call(this,{model:t})||this;return(0,i.bindAll)(n,"onScroll","frameLoaded","updateOffset","remove","startDrag"),mr(mr({},t.config),{frameWrapView:n}),n.cv=e,n.frame=new Oo(t,n),n.classAnim="".concat(n.ppfx,"frame-wrapper--anim"),n.updateOffset=(0,i.debounce)(n.updateOffset.bind(n),0),n.updateSize=(0,i.debounce)(n.updateSize.bind(n),0),n.listenTo(t,"loaded",n.frameLoaded),n.listenTo(t,"change:x change:y",n.updatePos),n.listenTo(t,"change:width change:height",n.updateSize),n.listenTo(t,"destroy remove",n.remove),n.updatePos(),n.setupDragger(),n}return r.prototype.events=function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}},r.prototype.setupDragger=function(){var t=this,e=this,n=e.module,o=e.model,c,h,m,y=function(C){n.toggleFramesEvents(C)};this.dragger=new Hi.Z({onStart:function(){var C=o.attributes,P=C.x,D=C.y;m=t.em.getZoomMultiplier(),c=P,h=D,y(!1)},onEnd:function(){return y(!0)},setPosition:function(C){o.set({x:c+C.x*m,y:h+C.y*m})}})},r.prototype.startDrag=function(t){var e;t&&((e=this.dragger)===null||e===void 0||e.start(t))},r.prototype.__clear=function(t){var e=this.frame;e&&e.remove(t),(0,ee.L_)(this.elTools)},r.prototype.remove=function(t){var e=this;return this.__clear(t),Ze.prototype.remove.apply(this,t),["frame","dragger","cv","elTools"].forEach(function(n){return e[n]=0}),this},r.prototype.updateOffset=function(){var t,e=this,n=e.em,o=e.$el,c=e.frame;!n||n.destroyed||(n.runDefault({preserveSelected:1}),o.removeClass(this.classAnim),(t=c==null?void 0:c.model)===null||t===void 0||t._emitUpdated())},r.prototype.updatePos=function(t){var e=this,n=e.model,o=e.el,c=n.attributes,h=c.x,m=c.y,y=o.style;this.frame.rect=void 0,y.left=isNaN(h)?h:"".concat(h,"px"),y.top=isNaN(m)?m:"".concat(m,"px"),t&&this.updateOffset()},r.prototype.updateSize=function(){this.updateDim()},r.prototype.updateDim=function(){var t=this,e=t.em,n=t.el,o=t.$el,c=t.model,h=t.classAnim,m=t.frame;if(m){m.rect=void 0,o.addClass(h);var y=this.__handleSize(),C=y.noChanges,P=y.width,D=y.height;((0,i.isNull)(P)||(0,i.isNull)(D))&&c.set(mr(mr({},P?{}:{width:n.offsetWidth}),D?{}:{height:n.offsetHeight}),{silent:1}),e.stopDefault({preserveSelected:1}),C?this.updateOffset():setTimeout(this.updateOffset,350)}},r.prototype.onScroll=function(){var t=this,e=t.frame,n=t.em;n.trigger("frame:scroll",{frame:e,body:e.getBody(),target:e.getWindow()})},r.prototype.frameLoaded=function(){var t=this,e=t.frame;t.config,e.getWindow().onscroll=this.onScroll,this.updateDim()},r.prototype.__handleSize=function(){var t,e,n="px",o=this,c=o.model,h=o.el,m=h.style,y=c.attributes,C=y.width,P=y.height,D=m.width||"",z=m.height||"",q=C||"",ot=P||"",ft=D==q&&z==ot,xt=(0,i.isNumber)(q)?"".concat(q).concat(n):q,Ft=(0,i.isNumber)(ot)?"".concat(ot).concat(n):ot;if(m.width=xt,c.hasAutoHeight()){var Rt=this.frame.el;if(Rt.contentDocument){var Xt=Rt.contentDocument,de=new ResizeObserver(function(){m.height="".concat(Xt.body.scrollHeight,"px")});de.observe(Xt.body),(t=this.sizeObserver)===null||t===void 0||t.disconnect(),this.sizeObserver=de}}else m.height=Ft,(e=this.sizeObserver)===null||e===void 0||e.disconnect(),delete this.sizeObserver;return{noChanges:ft,width:C,height:P,newW:q,newH:ot}},r.prototype.render=function(){var t=this,e=t.frame,n=t.$el,o=t.ppfx,c=t.cv,h=t.model,m=t.el,y=h.attributes.onRender;this.__clear(),this.__handleSize(),e.render(),n.empty().attr({class:"".concat(o,"frame-wrapper")}).append(`
      <div class="`.concat(o,`frame-wrapper__top gjs-two-color" data-frame-top>
        <div class="`).concat(o,`frame-wrapper__name" data-action-move>
          `).concat(h.get("name")||"",`
        </div>
        <div class="`).concat(o,`frame-wrapper__top-r">
          <div class="`).concat(o,`frame-wrapper__icon" data-action-remove style="display: none">
            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>
          </div>
        </div>
      </div>
      <div class="`).concat(o,`frame-wrapper__right" data-frame-right></div>
      <div class="`).concat(o,`frame-wrapper__left" data-frame-left></div>
      <div class="`).concat(o,`frame-wrapper__bottom" data-frame-bottom></div>
      `)).append(e.el);var C=(0,ee.ut)("div",{class:"".concat(o,"tools"),style:"pointer-events:none; display: none"},`
      <div class="`.concat(o,`highlighter" data-hl></div>
      <div class="`).concat(o,`badge" data-badge></div>
      <div class="`).concat(o,`placeholder">
        <div class="`).concat(o,`placeholder-int"></div>
      </div>
      <div class="`).concat(o,`ghost"></div>
      <div class="`).concat(o,`toolbar" style="pointer-events:all"></div>
      <div class="`).concat(o,`resizer"></div>
      <div class="`).concat(o,`offset-v" data-offset>
        <div class="gjs-marginName" data-offset-m>
          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>
          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>
          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>
          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>
        </div>
        <div class="gjs-paddingName" data-offset-m>
          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>
          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>
          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>
          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>
        </div>
      </div>
      <div class="`).concat(o,`offset-fixed-v"></div>
    `));this.elTools=C;var P=c==null?void 0:c.toolsWrapper;return P&&P.appendChild(C),y&&y({el:m,elTop:m.querySelector("[data-frame-top]"),elRight:m.querySelector("[data-frame-right]"),elBottom:m.querySelector("[data-frame-bottom]"),elLeft:m.querySelector("[data-frame-left]"),frame:h,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this},r}(Ze);const ri=Jn;var Yr=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qr=function(l){Yr(r,l);function r(t,e){t===void 0&&(t={});var n=l.call(this,t,!0)||this;return n.listenTo(n.collection,"reset",n.render),n.canvasView=e.canvasView,n._module=e.module,n}return r.prototype.onRemoveBefore=function(t,e){e===void 0&&(e={}),t.forEach(function(n){return n.remove(e)})},r.prototype.onRender=function(){var t=this,e=t.$el,n=t.ppfx;e.attr({class:"".concat(n,"frames")})},r.prototype.clearItems=function(){var t=this.viewCollection||[];t.forEach(function(e){return e.remove()}),this.viewCollection=[]},r.prototype.renderView=function(t,e){return new ri(t,this.canvasView)},r}(tt);const _i=qr;var cn=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),be=function(){return be=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},be.apply(this,arguments)},Xr=function(l){cn(r,l);function r(t){var e=l.call(this,{model:t})||this;e.ready=!1,(0,i.bindAll)(e,"clearOff","onKeyPress","onWheel","onPointer");var n=e,o=n.em,c=n.pfx,h=n.ppfx,m=e.module.events;return e.className="".concat(c,"canvas ").concat(h,"no-touch-actions").concat(o.config.customUI?"":" ".concat(c,"canvas-bg")),e.clsUnscale="".concat(c,"unscale"),e._initFrames(),e.listenTo(o,m.refresh,e.clearOff),e.listenTo(o,"component:selected",e.checkSelected),e.listenTo(o,"".concat(m.coords," ").concat(m.zoom),e.updateFrames),e.listenTo(t,"change:frames",e._onFramesUpdate),e.toggleListeners(!0),e}return r.prototype.template=function(){var t=this.pfx;return`
      <div class="`.concat(t,`canvas__frames" data-frames>
        <div class="`).concat(t,`canvas__spots" data-spots></div>
      </div>
      <div id="`).concat(t,'tools" class="').concat(t,`canvas__tools" data-tools></div>
      <style data-canvas-style></style>
    `)},r.prototype._onFramesUpdate=function(){this._initFrames(),this._renderFrames()},r.prototype._initFrames=function(){var t=this,e=t.frames,n=t.model,o=t.config,c=t.em,h=n.frames;c.set("readyCanvas",0),h.once("loaded:all",function(){return c.set("readyCanvas",1)}),e==null||e.remove(),this.frames=new _i({collection:h},be(be({},o),{canvasView:this}))},r.prototype.checkSelected=function(t,e){var n;e===void 0&&(e={});var o=e.scroll,c=this.em.getCurrentFrame();o&&((n=t.views)===null||n===void 0||n.forEach(function(h){h.frameView===c&&h.scrollIntoView(o)}))},r.prototype.remove=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this.frames)===null||t===void 0||t.remove(),this.frames=void 0,Ze.prototype.remove.apply(this,e),this.toggleListeners(!1),this},r.prototype.preventDefault=function(t){var e;t&&(t.preventDefault(),(e=t._parentEvent)===null||e===void 0||e.preventDefault())},r.prototype.toggleListeners=function(t){var e=this,n=e.el,o=e.config,c=t?ee.on:ee.S1;c(document,"keypress",this.onKeyPress),c(window,"scroll resize",this.clearOff),c(n,"wheel",this.onWheel,{passive:!o.infiniteCanvas}),c(n,"pointermove",this.onPointer)},r.prototype.screenToWorld=function(t,e){var n=this.module,o=n.getCoords(),c=n.getZoomMultiplier(),h=this.getViewportDelta();return{x:(t-o.x-h.x)*c,y:(e-o.y-h.y)*c}},r.prototype.onPointer=function(t){if(this.config.infiniteCanvas){var e=this.getCanvasOffset(),n=(0,ee.GX)(),o={x:t.clientX-e.left+n.x,y:t.clientY-e.top+n.y};if(t._parentEvent){var c=t.target.getBoundingClientRect(),h=this.module.getZoomDecimal();o.x=c.left-e.left+n.x+t.clientX*h,o.y=c.top-e.top+n.y+t.clientY*h}this.model.set({pointerScreen:o,pointer:this.screenToWorld(o.x,o.y)})}},r.prototype.onKeyPress=function(t){var e=this.em,n=(0,ee.sN)(t);n===" "&&e.getZoomDecimal()!==1&&!e.Canvas.isInputFocused()&&(this.preventDefault(t),e.Editor.runCommand("core:canvas-move"))},r.prototype.onWheel=function(t){var e=this,n=e.module,o=e.config;if(o.infiniteCanvas){this.preventDefault(t);var c=t.deltaX,h=t.deltaY,m=n.getZoomDecimal(),y=(0,ee.Vb)(t),C=n.getCoords();if(y){var P=m-h*m*.01;n.setZoom(P*100);var D=this.model.getPointerCoords(O.vA.Screen),z=this.getCanvasOffset(),q=D.x-z.width/2,ot=D.y-z.height/2,ft=P/m,xt=q-(q-C.x)*ft,Ft=ot-(ot-C.y)*ft;n.setCoords(xt,Ft)}else this.onPointer(t),n.setCoords(C.x-c,C.y-h)}},r.prototype.updateFrames=function(t){var e=this.em,n=this.toolsWrapper,o={preserveSelected:1};this.updateFramesArea(),this.clearOff(),n.style.display="none",e.trigger("canvas:update",t),this.timerZoom&&clearTimeout(this.timerZoom),this.timerZoom=setTimeout(function(){e.stopDefault(o),e.runDefault(o),n.style.display=""},300)},r.prototype.updateFramesArea=function(){var t=this,e=t.framesArea,n=t.model,o=t.module,c=t.cvStyle,h=t.clsUnscale,m=o.getZoomMultiplier();if(e){var y=n.attributes,C=y.x,P=y.y,D=o.getZoomDecimal();e.style.transform="scale(".concat(D,") translate(").concat(C*m,"px, ").concat(P*m,"px)")}c&&(c.innerHTML=`
        .`.concat(h," { scale: ").concat(m,` }
      `))},r.prototype.fitViewport=function(t){var e,n;t===void 0&&(t={});var o=this,c=o.em,h=o.module,m=o.model,y=this.getCanvasOffset(),C=t.el,P=C&&((e=(0,s.getComponentView)(C))===null||e===void 0?void 0:e.frameView),D=P?P.model:t.frame||c.getCurrentFrameModel()||m.frames.at(0),z=D.attributes,q=z.x,ot=z.y,ft={x:q??0,y:ot??0,width:D.width,height:D.height};if(C){var xt=this.getElBoxRect(C);ft.x=ft.x+xt.x,ft.y=ft.y+xt.y,ft.width=xt.width,ft.height=xt.height}var Ft=t.ignoreHeight,Rt=(n=t.gap)!==null&&n!==void 0?n:0,Xt=(0,i.isNumber)(Rt),de=Xt?Rt:Rt.x,Oe=Xt?Rt:Rt.y,De=ft.width+de*2,pe=ft.height+Oe*2,Fe=y.width,Ye=y.height,yn=Fe/De,se=Ye/pe,Sr=Ft?yn:Math.min(yn,se),rs=Sr*100;h.setZoom(rs);var os=-ft.x+(D.width>=Fe?Fe/2-De/2:-de),da=-ft.y+Ye/2-pe/2,Ro={x:(os+de)*Sr,y:(da+Oe)*Sr};if(Ft){var Ks=h.getZoomMultiplier(),gu=Ye*Ks,mu=gu-Ye,xm=mu/2;Ro.y=(-ft.y+Oe)*Sr-xm/Ks}h.setCoords(Ro.x,Ro.y)},r.prototype.isElInViewport=function(t){var e=(0,s.getElement)(t),n=(0,ee.Ut)(e),o=this.getFrameOffset(e),c=n.top,h=n.left;return c>=0&&h>=0&&c<=o.height&&h<=o.width},r.prototype.offset=function(t,e){e===void 0&&(e={});var n=e.noScroll,o=(0,ee.Ut)(t),c=n?{x:0,y:0}:(0,ee.GX)(t);return{top:o.top+c.y,left:o.left+c.x,width:o.width,height:o.height}},r.prototype.getRectToScreen=function(t){var e,n,o,c,h=this.module.getZoomDecimal(),m=this.module.getCoords(),y=this.getViewportDelta(),C=((e=t.x)!==null&&e!==void 0?e:0)*h+m.x+y.x||0,P=((n=t.y)!==null&&n!==void 0?n:0)*h+m.y+y.y||0;return{x:C,y:P,width:((o=t.width)!==null&&o!==void 0?o:0)*h,height:((c=t.height)!==null&&c!==void 0?c:0)*h}},r.prototype.getElBoxRect=function(t,e){var n,o,c;e===void 0&&(e={});var h=this.module,m=(0,ee.Ut)(t),y=m.width,C=m.height,P=m.left,D=m.top,z=(n=(0,s.getComponentView)(t))===null||n===void 0?void 0:n.frameView,q=z==null?void 0:z.getBoxRect(),ot=h.getZoomMultiplier(),ft=(o=q==null?void 0:q.x)!==null&&o!==void 0?o:0,xt=(c=q==null?void 0:q.y)!==null&&c!==void 0?c:0,Ft=this.el,Rt=(0,ee.GX)(),Xt=P+ft+(Ft.scrollLeft+Rt.x)*ot,de=D+xt+(Ft.scrollTop+Rt.y)*ot,Oe={x:Xt,y:de,width:y,height:C};return e.local&&(Oe.x=P,Oe.y=D),e.toScreen?this.getRectToScreen(Oe):Oe},r.prototype.getViewportRect=function(t){t===void 0&&(t={});var e=this.getCanvasOffset(),n=e.top,o=e.left,c=e.width,h=e.height,m=this.module;if(t.toWorld){var y=m.getZoomMultiplier(),C=m.getCoords(),P=this.getViewportDelta(),D=-C.x-P.x||0,z=-C.y-P.y||0;return{x:D*y,y:z*y,width:c*y,height:h*y}}else return{x:o,y:n,width:c,height:h}},r.prototype.getViewportDelta=function(t){var e=this.module.getZoomMultiplier(),n=this.getCanvasOffset(),o=n.width,c=n.height,h=o*e,m=c*e,y=h-o,C=m-c;return{x:y/2/e,y:C/2/e}},r.prototype.clearOff=function(){this.frmOff=void 0,this.cvsOff=void 0},r.prototype.getFrameOffset=function(t){var e;if(!this.frmOff||t){var n=(e=this.frame)===null||e===void 0?void 0:e.el,o=t==null?void 0:t.ownerDocument.defaultView,c=o?o.frameElement:n;this.frmOff=this.offset(c||n)}return this.frmOff},r.prototype.getCanvasOffset=function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},r.prototype.getElementPos=function(t,e){e===void 0&&(e={});var n=this.module.getZoomDecimal(),o=this.getFrameOffset(t),c=this.el,h=this.getCanvasOffset(),m=this.offset(t,e),y=e.avoidFrameOffset?0:o.top,C=e.avoidFrameOffset?0:o.left,P=e.avoidFrameZoom?m.top:m.top*n,D=e.avoidFrameZoom?m.left:m.left*n,z=e.avoidFrameOffset?P:P+y-h.top+c.scrollTop,q=e.avoidFrameOffset?D:D+C-h.left+c.scrollLeft,ot=e.avoidFrameZoom?m.height:m.height*n,ft=e.avoidFrameZoom?m.width:m.width*n;return{top:z,left:q,height:ot,width:ft,zoom:n,rect:m}},r.prototype.getElementOffsets=function(t){if(!t||(0,ee.BM)(t))return{};var e={},n=window.getComputedStyle(t),o=this.module.getZoomDecimal(),c=["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"];return c.forEach(function(h){e[h]=parseFloat(n[h])*o}),e},r.prototype.getPosition=function(t){var e;t===void 0&&(t={});var n=(e=this.frame)===null||e===void 0?void 0:e.el.contentDocument;if(!n)return{top:0,left:0,width:0,height:0};var o=n.body,c=this.module.getZoomDecimal(),h=this.getFrameOffset(),m=this.getCanvasOffset(),y=t.noScroll;return{top:h.top+(y?0:o.scrollTop)*c-m.top,left:h.left+(y?0:o.scrollLeft)*c-m.left,width:m.width,height:m.height}},r.prototype.updateScript=function(t){var e=t.model,n=e.getId();if(!t.scriptContainer){t.scriptContainer=(0,ee.ut)("div",{"data-id":n});var o=this.getJsContainer();o==null||o.appendChild(t.scriptContainer)}t.el.id=n,t.scriptContainer.innerHTML="";var c=document.createElement("script"),h=e.getScriptString(),m=e.get("script-props")?h:`function(){
`.concat(h,`
;}`),y=JSON.stringify(e.__getScriptProps());c.innerHTML=`
      setTimeout(function() {
        var item = document.getElementById('`.concat(n,`');
        if (!item) return;
        (`).concat(m,".bind(item))(").concat(y,`)
      }, 1);`),setTimeout(function(){var C=t.scriptContainer;C==null||C.appendChild(c)},0)},r.prototype.getJsContainer=function(t){var e=this.getFrameView(t);return e==null?void 0:e.getJsContainer()},r.prototype.getFrameView=function(t){return(t==null?void 0:t.frameView)||this.em.getCurrentFrame()},r.prototype._renderFrames=function(){if(this.ready){var t=this,e=t.model,n=t.frames,o=t.em,c=t.framesArea,h=e.frames;h.listenToLoad(),n.render();var m=h.at(0),y=m==null?void 0:m.view;o.setCurrentFrame(y),c==null||c.appendChild(n.el),this.frame=y,this.updateFramesArea()}},r.prototype.renderFrames=function(){this._renderFrames()},r.prototype.render=function(){var t=this,e=t.el,n=t.$el,o=t.ppfx,c=t.config,h=t.em;n.html(this.template());var m=n.find("[data-frames]");this.framesArea=m.get(0);var y=n.find("[data-tools]");return this.toolsWrapper=y.get(0),y.append(`
      <div class="`.concat(o,"tools ").concat(o,`tools-gl" style="pointer-events:none">
        <div class="`).concat(o,`placeholder">
          <div class="`).concat(o,`placeholder-int"></div>
        </div>
      </div>
      <div id="`).concat(o,`tools" style="pointer-events:none">
        `).concat(c.extHl?'<div class="'.concat(o,'highlighter-sel"></div>'):"",`
        <div class="`).concat(o,`badge"></div>
        <div class="`).concat(o,`ghost"></div>
        <div class="`).concat(o,`toolbar" style="pointer-events:all"></div>
        <div class="`).concat(o,`resizer"></div>
        <div class="`).concat(o,`offset-v"></div>
        <div class="`).concat(o,`offset-fixed-v"></div>
      </div>
    `)),this.toolsEl=e.querySelector("#".concat(o,"tools")),this.hlEl=e.querySelector(".".concat(o,"highlighter")),this.badgeEl=e.querySelector(".".concat(o,"badge")),this.placerEl=e.querySelector(".".concat(o,"placeholder")),this.ghostEl=e.querySelector(".".concat(o,"ghost")),this.toolbarEl=e.querySelector(".".concat(o,"toolbar")),this.resizerEl=e.querySelector(".".concat(o,"resizer")),this.offsetEl=e.querySelector(".".concat(o,"offset-v")),this.fixedOffsetEl=e.querySelector(".".concat(o,"offset-fixed-v")),this.toolsGlobEl=e.querySelector(".".concat(o,"tools-gl")),this.spotsEl=e.querySelector("[data-spots]"),this.cvStyle=e.querySelector("[data-canvas-style]"),this.el.className=(0,s.getUiClass)(h,this.className),this.ready=!0,this._renderFrames(),this},r}(Ze);const Fn=Xr;var Nr=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),We=function(){return We=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},We.apply(this,arguments)},To=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},oi=function(l){Nr(r,l);function r(t){var e=l.call(this,t,"Canvas",yt)||this;return e.events=Ce,e.framesById={},e.canvas=new _e(e),e.spots=new Tn(e),e.model=e.canvas,e.startAutoscroll=e.startAutoscroll.bind(e),e.stopAutoscroll=e.stopAutoscroll.bind(e),e}return r.prototype.getCanvasView=function(){return this.canvasView},r.prototype.postLoad=function(){this.model.init()},r.prototype.getModel=function(){return this.canvas},r.prototype.getElement=function(){return this.getCanvasView().el},r.prototype.getFrame=function(t){return this.getFrames()[t||0]},r.prototype.getFrameEl=function(){var t=(this.canvasView||{}).frame;return t==null?void 0:t.el},r.prototype.getFramesEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.framesArea},r.prototype.getWindow=function(){var t=(this.canvasView||{}).frame;return t==null?void 0:t.getWindow()},r.prototype.getDocument=function(){var t=this.getFrameEl();return t==null?void 0:t.contentDocument},r.prototype.getBody=function(){var t=this.getDocument();return t==null?void 0:t.body},r.prototype._getLocalEl=function(t,e,n){var o=t,c=e==null?void 0:e.frameView;return o=c?c[n]():o,o},r.prototype.getGlobalToolsEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.toolsGlobEl},r.prototype.getToolsEl=function(t){return this._getLocalEl(this.getCanvasView().toolsEl,t,"getToolsEl")},r.prototype.getHighlighter=function(t){return this._getLocalEl(this.getCanvasView().hlEl,t,"getHighlighter")},r.prototype.getBadgeEl=function(t){return this._getLocalEl(this.getCanvasView().badgeEl,t,"getBadgeEl")},r.prototype.getPlacerEl=function(){return this.getCanvasView().placerEl},r.prototype.getGhostEl=function(){return this.getCanvasView().ghostEl},r.prototype.getToolbarEl=function(){return this.getCanvasView().toolbarEl},r.prototype.getResizerEl=function(){return this.getCanvasView().resizerEl},r.prototype.getOffsetViewerEl=function(t){return this._getLocalEl(this.getCanvasView().offsetEl,t,"getOffsetViewerEl")},r.prototype.getFixedOffsetViewerEl=function(){return this.getCanvasView().fixedOffsetEl},r.prototype.getSpotsEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.spotsEl},r.prototype.render=function(){var t;return(t=this.canvasView)===null||t===void 0||t.remove(),this.canvasView=new Fn(this.canvas),this.canvasView.render().el},r.prototype.getOffset=function(){var t=this.offset(this.getFrameEl()),e=this.offset(this.getElement());return{top:t.top-e.top,left:t.left-e.left}},r.prototype.offset=function(t){return this.getCanvasView().offset(t)},r.prototype.setCustomBadgeLabel=function(t){this.config.customBadgeLabel=t},r.prototype.getElementPos=function(t,e){return this.getCanvasView().getElementPos(t,e)},r.prototype.getElementOffsets=function(t){return this.getCanvasView().getElementOffsets(t)},r.prototype.getRect=function(){var t,e=(t=this.getCanvasView().getPosition())!==null&&t!==void 0?t:{},n=e.top,o=n===void 0?0:n,c=e.left,h=c===void 0?0:c;return We(We({},this.getCanvasView().getCanvasOffset()),{topScroll:o,leftScroll:h})},r.prototype.getTargetToElementDim=function(t,e,n){n===void 0&&(n={});var o=n||{},c=this.getCanvasView().getPosition();if(c){var h=o.elPos||this.getCanvasView().getElementPos(e),m=n.toRight||0,y=o.targetHeight||t.offsetHeight,C=o.targetWidth||t.offsetWidth,P=o.event||null,D=h.top-y,z=h.left;z+=m?h.width:0,z=m?z-C:z;var q=z<c.left?c.left:z,ot=D<c.top?c.top:D;ot=ot>h.top+h.height?h.top+h.height:ot;var ft={top:ot,left:q,elementTop:h.top,elementLeft:h.left,elementWidth:h.width,elementHeight:h.height,targetWidth:t.offsetWidth,targetHeight:t.offsetHeight,canvasTop:c.top,canvasLeft:c.left,canvasWidth:c.width,canvasHeight:c.height};return P&&this.em&&this.em.trigger(P,ft),ft}},r.prototype.canvasRectOffset=function(t,e,n){var o=this;n===void 0&&(n={});var c=function(m){var y=m.defaultView;return y==null?void 0:y.frameElement},h=function(m,y,C){y===void 0&&(y=1);var P=o.em.getZoomDecimal(),D=y?"top":"left",z=m.ownerDocument,q=n.offset?c(z):{},ot=q.offsetTop,ft=ot===void 0?0:ot,xt=q.offsetLeft,Ft=xt===void 0?0:xt,Rt=z.body||{},Xt=Rt.scrollTop,de=Xt===void 0?0:Xt,Oe=Rt.scrollLeft,De=Oe===void 0?0:Oe,pe=y?de:De,Fe=y?ft:Ft;return C[D]-(pe-Fe)*P};return{top:h(t,1,e),left:h(t,0,e)}},r.prototype.getTargetToElementFixed=function(t,e,n){n===void 0&&(n={});var o=n.pos||this.getElementPos(t,{noScroll:!0}),c=n.canvasOff||this.canvasRectOffset(t,o),h=e.offsetHeight||0,m=e.offsetWidth||0,y=o.left+o.width,C=this.getCanvasView(),P=C.getPosition(),D=C.getFrameOffset(t),z=n.event,q=-h,ot=(0,i.isUndefined)(n.left)?o.width-m:n.left;if(ot=o.left<-ot?-o.left:ot,ot=y>P.width?ot-(y-P.width):ot,c.top<h){var ft=o.height+h,xt=ft<D.height;xt?q=q+ft:q=-c.top<o.height?-c.top:o.height}var Ft={top:q,left:ot,canvasOffsetTop:c.top,canvasOffsetLeft:c.left,elRect:o,canvasOffset:c,canvasRect:P,targetWidth:m,targetHeight:h};return z&&this.em.trigger(z,Ft),Ft},r.prototype.getMouseRelativePos=function(t,e){e===void 0&&(e={});var n=e.subWinOffset,o=t.target.ownerDocument,c=o.defaultView||o.parentWindow,h=c.frameElement,m=n?c.pageYOffset:0,y=n?c.pageXOffset:0,C=this.getZoomMultiplier(),P=0,D=0;if(h){var z=h.getBoundingClientRect();P=z.top||0,D=z.left||0}return{y:(t.clientY+P-m)*C,x:(t.clientX+D-y)*C}},r.prototype.getMouseRelativeCanvas=function(t,e){var n,o=this.getZoomDecimal(),c=(n=this.getCanvasView().getPosition(e))!==null&&n!==void 0?n:{},h=c.top,m=h===void 0?0:h,y=c.left,C=y===void 0?0:y;return{y:t.clientY*o+m,x:t.clientX*o+C}},r.prototype.hasFocus=function(){return this.getDocument().hasFocus()},r.prototype.isInputFocused=function(){var t=this.getDocument(),e=this.getFrameEl(),n=To(["body"],this.config.notTextable,!0),o=e&&document.activeElement===e,c=o?t&&t.activeElement:document.activeElement;return c&&!n.some(function(h){return c.matches(h)})},r.prototype.scrollTo=function(t,e){e===void 0&&(e={});var n=(0,s.getElement)(t),o=n&&(0,s.getViewEl)(n);o&&o.scrollIntoView(e)},r.prototype.startAutoscroll=function(t){var e=t&&t.view||this.em.getCurrentFrame();e&&e.startAutoscroll()},r.prototype.stopAutoscroll=function(t){var e=t&&t.view||this.em.getCurrentFrame();e&&e.stopAutoscroll()},r.prototype.setZoom=function(t){return this.canvas.set("zoom",typeof t=="string"?parseFloat(t):t),this},r.prototype.getZoom=function(){return parseFloat(this.canvas.get("zoom"))},r.prototype.setCoords=function(t,e,n){var o;n===void 0&&(n={});var c=t||t===0,h=e||e===0,m={x:this.canvas.get("x"),y:this.canvas.get("y")};if(c&&(m.x=parseFloat("".concat(t))),h&&(m.y=parseFloat("".concat(e))),n.toWorld){var y=(o=this.canvasView)===null||o===void 0?void 0:o.getViewportDelta();y&&(c&&(m.x=m.x-y.x),h&&(m.y=m.y-y.y))}return this.canvas.set(m),this},r.prototype.getCoords=function(){var t=this.canvas.attributes,e=t.x,n=t.y;return{x:e,y:n}},r.prototype.getPointer=function(t){var e=this.canvas.attributes,n=e.pointer,o=e.pointerScreen;return t?o:n},r.prototype.getZoomDecimal=function(){return this.getZoom()/100},r.prototype.getZoomMultiplier=function(){var t=this.getZoomDecimal();return t?1/t:1},r.prototype.fitViewport=function(t){var e;(e=this.canvasView)===null||e===void 0||e.fitViewport(t)},r.prototype.toggleFramesEvents=function(t){var e=this.getFramesEl().style;e.pointerEvents=t?"":"none"},r.prototype.getFrames=function(){return this.canvas.frames.map(function(t){return t})},r.prototype.addFrame=function(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),this.canvas.frames.add(new Pt(this,We({},t)),e)},r.prototype.getLastDragResult=function(){return this.em.get("dragResult")},r.prototype.addSpot=function(t,e){var n;e===void 0&&(e={});var o=t,c=this.getSpots(o);if(c.length){var h=c[0];return h.set(o),h}var m=o.componentView||((n=o.component)===null||n===void 0?void 0:n.view),y=new rn.Z(this,We(We({},o),{id:o.id||"cs_".concat(o.type,"_").concat(m==null?void 0:m.cid),type:o.type||""}));return this.spots.add(y,e),y},r.prototype.getSpots=function(t){return t===void 0&&(t={}),this.spots.where(t.id?{id:t.id}:t)},r.prototype.removeSpots=function(t){t===void 0&&(t={});var e=(0,i.isArray)(t)?t:this.getSpots(t),n=this.spots.remove(e);return n},r.prototype.hasCustomSpot=function(t){var e=this.config.customSpots;return!!(e===!0||e&&t&&e[t])},r.prototype.getWorldRectToScreen=function(t){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.getRectToScreen(t)},r.prototype.refresh=function(t){t===void 0&&(t={});var e=this,n=e.em,o=e.events,c=e.canvasView;c==null||c.clearOff(),(t.spots||t.all)&&(this.refreshSpots(),n.trigger("canvas:updateTools")),n.set("canvasOffset",this.getOffset()),n.trigger(o.refresh,t)},r.prototype.refreshSpots=function(){this.spots.refresh()},r.prototype.destroy=function(){var t=this,e;this.canvas.stopListening(),(e=this.canvasView)===null||e===void 0||e.remove(),["model","droppable"].forEach(function(n){return t[n]={}})},r}(J);const Uo=oi,I={stylePrefix:"comp-",components:[],draggableComponents:!0,disableTextInnerChilds:!1,processor:void 0,useFrameDoc:!1,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]};var rt="text/html",Ut=rt;const te=function(l,r){r===void 0&&(r={});var t=new DOMParser,e=r.htmlType||Ut,n=e===rt,o=n?l:"<div>".concat(l,"</div>"),c=t.parseFromString(o,e),h;if(n){var m=c.head,y=c.body,C=m.querySelectorAll("script");(0,i.each)(C,function(D){return y.appendChild(D)});var P=[];(0,i.each)(m.children,function(D){return P.push(D)}),(0,i.each)(P,function(D,z){return y.insertBefore(D,y.children[z])}),h=y}else h=c.firstChild;return h};var Ee=function(){return Ee=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Ee.apply(this,arguments)},Qe="data-gjs-",on="parse:html",Se=function(l,r){return r===void 0&&(r={}),{compTypes:"",modelAttrStart:Qe,getPropAttribute:function(t,e){var n=t.replace(this.modelAttrStart,""),o=(e==null?void 0:e.length)||0,c=e==null?void 0:e.substring(0,1),h=e==null?void 0:e.substring(o-1),m=e==="true"?!0:e==="false"?!1:e;try{m=c=="{"&&h=="}"||c=="["&&h=="]"?JSON.parse(m):m}catch{}return{name:n,value:m}},splitPropsFromAttr:function(t){var e=this;t===void 0&&(t={});var n={},o={};return(0,i.each)(t,function(c,h){if(h.indexOf(e.modelAttrStart)===0){var m=e.getPropAttribute(h,c);n[m.name]=m.value}else o[h]=c}),{props:n,attrs:o}},parseStyle:function(t){for(var e={};t.indexOf("/*")>=0;){var n=t.indexOf("/*"),o=t.indexOf("*/")+2;t=t.replace(t.slice(n,o),"")}for(var c=t.split(";"),h=0,m=c.length;h<m;h++){var y=c[h].trim();if(y){var C=y.split(":"),P=C[0].trim(),D=C.slice(1).join(":").trim();e[P]?((0,i.isArray)(e[P])||(e[P]=[e[P]]),e[P].push(D)):e[P]=D}}return e},parseClass:function(t){for(var e=[],n=t.split(" "),o=0,c=n.length;o<c;o++){var h=n[o].trim();h&&e.push(h)}return e},parseNode:function(t,e){e===void 0&&(e={});for(var n=[],o=t.childNodes,c=0,h=o.length;c<h;c++){var m=o[c],y=m.attributes||[],C=y.length,P=n[n.length-1],D=m.childNodes.length,z=this.compTypes,q={};if(z){var ot="",ft=m.getAttribute&&m.getAttribute("".concat(this.modelAttrStart,"type"));if(ft)q={type:ft};else{for(var xt=0;xt<z.length;xt++){var Ft=z[xt];if(ot=Ft.model.isComponent(m,e),ot){typeof ot!="object"&&(ot={type:Ft.id});break}}q=ot}}if(!q.tagName){var Rt=m.tagName||"",Xt=m.namespaceURI||"";q.tagName=Rt&&Xt==="http://www.w3.org/1999/xhtml"?Rt.toLowerCase():Rt}C&&(q.attributes={});for(var de=0;de<C;de++){var Oe=y[de].nodeName,De=y[de].nodeValue;if(Oe=="style")q.style=this.parseStyle(De);else if(Oe=="class")q.classes=this.parseClass(De);else{if(Oe=="contenteditable")continue;if(Oe.indexOf(this.modelAttrStart)===0){var pe=this.getPropAttribute(Oe,De);q[pe.name]=pe.value}else De===""&&m[Oe]===!0&&(De=!0),q.attributes[Oe]=De}}if(D&&!q.components){var Fe=m.childNodes[0];D===1&&Fe.nodeType===3?(!q.type&&(q.type="text"),q.components={type:"textnode",content:Fe.nodeValue}):q.components=this.parseNode(m,Ee(Ee({},e),{inSvg:e.inSvg||q.type==="svg"}))}if(q.type=="textnode"){if(P&&P.type=="textnode"){P.content+=q.content;continue}if(!e.keepEmptyTextNodes){var Ye=m.nodeValue;if(Ye!=" "&&!Ye.trim())continue}}!D&&"".concat(m.outerHTML).slice(-2)==="/>"&&(q.void=!0);var yn=q.components;if(!q.type&&yn){for(var se=r.textTypes,Sr=se===void 0?[]:se,rs=r.textTags,os=rs===void 0?[]:rs,da=1,Ro=0,Ks=0;Ks<yn.length;Ks++){var gu=yn[Ks],mu=gu.type;if(!Sr.includes(mu)&&!os.includes(gu.tagName)){da=0;break}mu==="textnode"&&(Ro=1)}da&&Ro&&(q.type="text")}!q.tagName&&(0,i.isUndefined)(q.content)||n.push(q)}return n},parse:function(t,e,n){var o;n===void 0&&(n={});var c=(l==null?void 0:l.get("Config"))||{},h={html:[]},m=Ee(Ee({},r),n),y=Ee(Ee(Ee({},r.optionsHtml),{htmlType:((o=r.optionsHtml)===null||o===void 0?void 0:o.htmlType)||r.htmlType}),n),C=y.preParser,P=(0,i.isFunction)(C)?C(t,{editor:l==null?void 0:l.getEditor()}):t,D=(0,i.isFunction)(m.parserHtml)?m.parserHtml(P,y):te(P,y),z=D.querySelectorAll("script"),q=z.length,ot=(0,i.isUndefined)(c.allowScripts)?y.allowScripts:c.allowScripts;if(!ot)for(;q--;)z[q].parentNode.removeChild(z[q]);if((!y.allowUnsafeAttr||!y.allowUnsafeAttrValue)&&this.__sanitizeNode(D,y),e){for(var ft=D.querySelectorAll("style"),xt=ft.length,Ft="";xt--;)Ft=ft[xt].innerHTML+Ft,ft[xt].parentNode.removeChild(ft[xt]);Ft&&(h.css=e.parse(Ft))}l==null||l.trigger("".concat(on,":root"),{input:P,root:D});var Rt=this.parseNode(D,m),Xt=Rt.length===1&&!m.returnArray?Rt[0]:Rt;return h.html=Xt,l==null||l.trigger(on,{input:P,output:h}),h},__sanitizeNode:function(t,e){var n=this,o=t.attributes||[],c=t.childNodes||[],h=[];(0,i.each)(o,function(m){var y=m.nodeName||"",C=m.nodeValue||"";!e.allowUnsafeAttr&&y.startsWith("on")&&h.push(y),!e.allowUnsafeAttrValue&&C.startsWith("javascript:")&&h.push(y)}),h.map(function(m){return t.removeAttribute(m)}),(0,i.each)(c,function(m){return n.__sanitizeNode(m,e)})}}};const Ir=Se;var ys=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Eo=function(){return Eo=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Eo.apply(this,arguments)},Po=Ir(),Oa=function(l){return(0,i.isArray)(l)?l[l.length-1]:l},yl=function(l){ys(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.parseStyle=function(t){return Po.parseStyle(t)},r.prototype.extendStyle=function(t){return Eo(Eo({},this.getStyle()),t)},r.prototype.getStyle=function(t){var e=this.get("style")||{},n=Eo({},e);return t&&(0,i.isString)(t)?n[t]:n},r.prototype.setStyle=function(t,e){var n=this;t===void 0&&(t={}),e===void 0&&(e={}),(0,i.isString)(t)&&(t=this.parseStyle(t));var o=this.getStyle(e);e.partial||e.avoidStore?(e.avoidStore=!0,t.__p=!0):delete t.__p;var c=Eo({},t),h=Eo({},c);(0,i.keys)(h).forEach(function(y){h[y]===""&&delete h[y]}),this.set("style",h,e);var m=(0,s.shallowDiff)(o,c);return delete m.__p,(0,i.keys)(m).forEach(function(y){var C=n.em;e.noEvent||(n.trigger("change:style:".concat(y)),C&&(C.trigger("styleable:change",n,y,e),C.trigger("styleable:change:".concat(y),n,y,e)))}),c},r.prototype.addStyle=function(t,e,n){var o;e===void 0&&(e=""),n===void 0&&(n={}),typeof t=="string"?t=(o={},o[t]=e,o):n=e||{},n.addStyle=t,t=this.extendStyle(t),this.setStyle(t,n)},r.prototype.removeStyle=function(t){var e=this.getStyle();delete e[t],this.setStyle(e)},r.prototype.styleToString=function(t){t===void 0&&(t={});var e=[],n=this.getStyle(t),o=t.important,c=function(m){var y=(0,i.isArray)(o)?o.indexOf(m)>=0:o,C=m.substring(0,2),P=C==="__";if(P)return"continue";var D=n[m],z=(0,i.isArray)(D)?D:[D];z.forEach(function(q){var ot="".concat(q).concat(y?" !important":"");ot&&e.push("".concat(m,":").concat(ot,";"))})};for(var h in n)c(h);return e.join("")},r.prototype.getSelectors=function(){return this.get("selectors")||this.get("classes")},r.prototype.getSelectorsString=function(t){return this.selectorsToString?this.selectorsToString(t):this.getSelectors().getFullString()},r}(O.Hn);const zi=yl;var _s=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zr=function(){return Zr=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Zr.apply(this,arguments)},Ta=function(l,r){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&r.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(l);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(l,e[n])&&(t[e[n]]=l[e[n]]);return t},Bi=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},so=function(l,r){if(r===void 0&&(r=[]),!l)return[];var t=(0,i.isArray)(l)||(0,i.isFunction)(l.map)?l:[l];return t.map(function(e){r.push(e.getId()),so(e.components().models,r)}),r},Ea=function(l,r,t){r===void 0&&(r={}),t===void 0&&(t={}),t.visitedCmps=t.visitedCmps||{};var e=t.visitedCmps,n=(0,i.isArray)(l)?l:[l];return n.map(function(o){var c=o.attributes,h=c===void 0?{}:c,m=o.components,y=o.tagName,C=o.style,P=h.id;h.draggable;var D=Ta(h,["id","draggable"]),z=o;if(P){if(e[P])e[P].push(z),P=cr.getNewId(r),z.attributes.id=P;else if(e[P]=[],r[P]){z=r[P];var q=z;y&&q.set({tagName:y},Zr(Zr({},t),{silent:!0})),(0,i.keys)(D).length&&q.addAttributes(D,Zr({},t)),(0,i.keys)(C).length&&q.addStyle(C,t)}}if(m){var ot=Ea(m,r);if((0,i.isFunction)(z.components)){var ft=z.components();ft.length>0&&ft.reset(ot,t)}else z.components=ot}return z})},Er=function(l){_s(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.initialize=function(t,e){e===void 0&&(e={}),this.opt=e,this.listenTo(this,"add",this.onAdd),this.listenTo(this,"remove",this.removeChildren),this.listenTo(this,"reset",this.resetChildren);var n=e.em,o=e.config;this.config=o,this.em=n,this.domc=e.domc||(n==null?void 0:n.Components)},r.prototype.resetChildren=function(t,e){var n=this;e===void 0&&(e={});var o=this,c=e.previousModels||[],h=c.filter(function(C){return!t.get(C.cid)}),m=so(t),y=so(c).filter(function(C){return m.indexOf(C)>=0});e.keepIds=(e.keepIds||[]).concat(y),h.forEach(function(C){return n.removeChildren(C,o,e)}),t.each(function(C){return n.onAdd(C)})},r.prototype.resetFromString=function(t,e){var n,o;t===void 0&&(t=""),e===void 0&&(e={}),e.keepIds=so(this);var c=this,h=c.domc,m=c.em,y=c.parent,C=m==null?void 0:m.Css,P=(h==null?void 0:h.allById())||{},D=this.parseString(t,e),z=Ea(D,P,e),q=e.visitedCmps,ot=q===void 0?{}:q;Object.keys(ot).forEach(function(ft){var xt=ot[ft];if(xt.length){var Ft=(C==null?void 0:C.getRules("#".concat(ft)))||[];Ft.length&&xt.forEach(function(Rt){Ft.forEach(function(Xt){var de=Xt.clone();de.set("selectors",["#".concat(Rt.attributes.id)]),C.getAll().add(de)})})}}),this.reset(z,e),m==null||m.trigger("component:content",y,e,t),(o=(n=y).__checkInnerChilds)===null||o===void 0||o.call(n)},r.prototype.removeChildren=function(t,e,n){var o=this;if(n===void 0&&(n={}),!!t){var c=this,h=c.domc,m=c.em,y=n.temporary||n.fromUndo;if(t.prevColl=this,!y){var C=t.getId(),P=m.Selectors.getAll(),D=m.Css.getAll(),z=(n.keepIds||[]).indexOf(C)<0,q=h?h.allById():{};delete q[C];var ot=z?D.remove(D.filter(function(Ft){return Ft.getSelectors().getFullString()==="#".concat(C)}),n):[];P.remove(ot.map(function(Ft){return Ft.getSelectors().at(0)})),t.opt.temporary||(m.Commands.run("core:component-style-clear",{target:t}),t.removed(),t.trigger("removed"),m.trigger("component:remove",t));var ft=t.components();ft.forEach(function(Ft){return o.removeChildren(Ft,e,n)})}var xt=t.components();m.stopListening(xt),m.stopListening(t),m.stopListening(t.get("classes")),t.__postRemove()}},r.prototype.model=function(t,e){var n=e.collection.opt,o=n.em,c,h=o.Components.componentTypes;e.em=o,e.config=n.config,e.componentTypes=h,e.domc=n.domc;for(var m=0;m<h.length;m++){var y=h[m].id;if(y==t.type){c=h[m].model;break}}return c||(c=h[h.length-1].model,o&&t.type&&o.logWarning("Component type '".concat(t.type,"' not found"),{attrs:t,options:e})),new c(t,e)},r.prototype.parseString=function(t,e){e===void 0&&(e={});var n=this,o=n.em,c=n.domc,h=o.Css,m=o.Parser.parseHtml(t);if(cr.checkId(m.html,m.css,c.componentsById,e),m.css&&h&&!e.temporary){e.at;var y=Ta(e,["at"]);h.addCollection(m.css,Zr(Zr({},y),{extend:1}))}return m.html},r.prototype.add=function(t,e){var n=this;e===void 0&&(e={}),e.keepIds=Bi(Bi([],e.keepIds||[],!0),so(e.previousModels),!0),(0,i.isString)(t)?t=this.parseString(t,e):(0,i.isArray)(t)&&(t=Bi([],t,!0),t.forEach(function(h,m){if((0,i.isString)(h)){var y=n.parseString(h,e);t[m]=(0,i.isArray)(y)&&!y.length?null:y}}));var o=(0,i.isArray)(t);t=(o?t:[t]).filter(Boolean).map(function(h){return n.processDef(h)}),t=o?(0,i.flatten)(t,1):t[0];var c=O.FE.prototype.add.apply(this,[t,e]);return this.__firstAdd=c,c},r.prototype.processDef=function(t){if(t.cid&&t.ccid)return t;var e=this,n=e.em,o=e.config,c=o===void 0?{}:o,h=c.processor,m=t;if(h){m=Zr({},m);var y=h(m);y&&((0,i.each)(m,function(ft,xt){return delete m[xt]}),(0,i.extend)(m,y))}if(m.$$typeof&&typeof m.props=="object"){m=Zr({},m),m.props=Zr({},m.props);var C=n.Components,P=n.Parser,D=P.parserHtml;(0,i.each)(m,function(ft,xt){(0,i.includes)(["props","type"],xt)||delete m[xt]});var z=m.props,q=z.children;delete z.children,delete m.props;var ot=D.splitPropsFromAttr(z);m.attributes=ot.attrs,q&&(m.components=q),m.type?C.getType(m.type)||(m.tagName=m.type,delete m.type):m.type="textnode",(0,i.extend)(m,ot.props)}return m},r.prototype.onAdd=function(t,e,n){n===void 0&&(n={});var o=this,c=o.domc,h=o.em,m=t.getStyle(),y=h&&h.getConfig().avoidInlineStyle;if(c&&c.Component.ensureInList(t),!(0,i.isEmpty)(m)&&!y&&h&&h.get&&h.getConfig().forceClass&&!n.temporary){var C=t.cid;h.Css.setClassRule(C,m),t.setStyle({}),t.addClass(C)}t.__postAdd({recursive:!0})},r}(O.FE);const ko=Er;var Hu=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ui=1,Rr=2,_l=function(l){Hu(r,l);function r(t,e){e===void 0&&(e={});var n=l.call(this,t,e)||this,o=e.config,c=o===void 0?{}:o,h=n.get("name"),m=n.get("label");h?m||n.set("label",h):n.set("name",m);var y=n.get("name"),C=c.escapeName,P=C?C(y):r.escapeName(y);return n.set("name",P),n.em=e.em,n}return r.prototype.defaults=function(){return{name:"",label:"",type:Ui,active:!0,private:!1,protected:!1,_undo:!0}},r.prototype.isId=function(){return this.get("type")===Rr},r.prototype.isClass=function(){return this.get("type")===Ui},r.prototype.getFullName=function(t){t===void 0&&(t={});var e=t.escape,n=this.get("name"),o="";switch(this.get("type")){case Ui:o=".";break;case Rr:o="#";break}return o+(e?e(n):n)},r.prototype.toString=function(){return this.getFullName()},r.prototype.getName=function(){return this.get("name")||""},r.prototype.getLabel=function(){return this.get("label")||""},r.prototype.setLabel=function(t){return this.set("label",t)},r.prototype.getActive=function(){return!!this.get("active")},r.prototype.setActive=function(t){return this.set("active",t)},r.prototype.toJSON=function(t){t===void 0&&(t={});var e=this.em,n=O.Hn.prototype.toJSON.call(this,[t]),o=(0,i.result)(this,"defaults");if(e&&e.getConfig().avoidDefaults){(0,i.forEach)(o,function(h,m){n[m]===h&&delete n[m]}),n.label===n.name&&delete n.label;var c=(0,i.keys)(n).length;c===1&&n.name&&(n=n.name),c===2&&n.name&&n.type&&(n=this.getFullName())}return n},r.escapeName=function(t){return"".concat(t).trim().replace(/([^a-z0-9\w-\\:@\\/]+)/gi,"-")},r.TYPE_CLASS=Ui,r.TYPE_ID=Rr,r}(O.Hn);const ur=_l;_l.prototype.idAttribute="name";var Pa=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wi=function(l,r){return l.reduce(function(t,e,n){return t.concat(wi(l.slice(n+1),"".concat(r).concat(e)))},[r])},ka=function(l){Pa(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.modelId=function(t){return"".concat(t.name,"_").concat(t.type||ur.TYPE_CLASS)},r.prototype.getStyleable=function(){return(0,i.filter)(this.models,function(t){return t.getActive()&&!t.get("private")})},r.prototype.getValid=function(t){var e=t===void 0?{}:t,n=e.noDisabled;return(0,i.filter)(this.models,function(o){return!o.get("private")}).filter(function(o){return n?o.get("active"):1})},r.prototype.getFullString=function(t,e){e===void 0&&(e={});var n=[],o=t||this;return o.forEach(function(c){return n.push(c.getFullName(e))}),e.sort&&n.sort(),n.join("").trim()},r.prototype.getFullName=function(t){t===void 0&&(t={});var e=t.combination,n=t.array,o=[],c=this.map(function(h){return h.getFullName(t)}).sort();return e?c.forEach(function(h,m){o=o.concat(wi(c.slice(m+1),h))}):o=c,n?o:e?o.join(","):o.join("")},r}(O.FE);const Wo=ka;ka.prototype.model=ur;var zu=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ws=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},bs=function(l){zu(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.defaults=function(){return{id:"",label:"",open:!0,attributes:{}}},r.prototype.getId=function(){return this.get("id")},r.prototype.getLabel=function(){return this.get("label")},r}(O.Hn);const ii=bs;function wl(l){var r=new Set,t=new Map,e={items:[]};l.forEach(function(o){var c=o.category;if(c){r.add(c);var h=t.get(c);h?h.push(o):t.set(c,[o])}else e.items.push(o)});var n=Array.from(r).map(function(o){return{category:o,items:t.get(o)||[]}});return ws(ws([],n,!0),[e],!1)}var Aa=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ma="category",bi=function(l){Aa(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.initCategory=function(t){var e=t.get(Ma),n=e instanceof ii;if(e&&!n){(0,i.isString)(e)?e={id:e,label:e}:(0,s.isObject)(e)&&!e.id&&(e.id=e.label);var o=this.getCategories().add(e);return t.set(Ma,o,{silent:!0}),o}else if(n){var o=e;return this.getCategories().add(o),o}},r}(O.FE),La=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Wi=function(l){La(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.add=function(t,e){var n=(0,i.isArray)(t)?t:[t];return n.forEach(function(o){return o&&(o.id=(0,s.normalizeKey)("".concat(o.id)))}),l.prototype.add.call(this,t,e)},r.prototype.get=function(t){return l.prototype.get.call(this,(0,i.isString)(t)?(0,s.normalizeKey)(t):t)},r}(O.FE);const Da=Wi;Wi.prototype.model=ii;var $o;(function(l){l.select="trait:select",l.value="trait:value",l.custom="trait:custom",l.all="trait"})($o||($o={}));const $i=$o;var lo=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Fr=function(){return Fr=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Fr.apply(this,arguments)},Jr=function(l){lo(r,l);function r(t,e){var n=l.call(this,t)||this,o=n.attributes,c=o.target,h=o.name;return!n.get("id")&&n.set("id",h),c&&n.setTarget(c),n.em=e,n}return r.prototype.defaults=function(){return{type:"text",label:"",name:"",unit:"",step:1,value:"",default:"",placeholder:"",category:"",changeProp:!1,options:[]}},Object.defineProperty(r.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"category",{get:function(){var t=this.get("category");return t instanceof ii?t:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"component",{get:function(){return this.target},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"changeProp",{get:function(){return!!this.get("changeProp")},enumerable:!1,configurable:!0}),r.prototype.setTarget=function(t){if(t){var e=this.attributes,n=e.name,o=e.changeProp,c=e.value,h=e.getValue;this.target=t,this.unset("target");var m=o?"change:".concat(n):"change:attributes:".concat(n);this.listenTo(t,m,this.targetUpdated);var y=c||(h?void 0:this.getValue());!(0,i.isUndefined)(y)&&this.set({value:y},{silent:!0})}},r.prototype.getId=function(){return this.get("id")},r.prototype.getType=function(){return this.get("type")},r.prototype.getName=function(){return this.get("name")},r.prototype.getLabel=function(t){var e;t===void 0&&(t={});var n=t.locale,o=n===void 0?!0:n,c=this.getId(),h=this.get("label")||this.getName();return o&&((e=this.em)===null||e===void 0?void 0:e.t("traitManager.traits.labels.".concat(c)))||h},r.prototype.getValue=function(t){return this.getTargetValue(t)},r.prototype.setValue=function(t,e){var n=this;e===void 0&&(e={});var o=this,c=o.component,h=o.em,m=e.partial,y={},C=this.attributes.setValue;if(C){C({value:t,component:c,editor:h==null?void 0:h.getEditor(),trait:this,partial:!!m,options:e,emitUpdate:function(){return n.targetUpdated()}});return}m&&(y.avoidStore=!0),this.setTargetValue(t,y)},r.prototype.getDefault=function(){return this.get("default")},r.prototype.getOptions=function(){return this.get("options")||[]},r.prototype.getOption=function(t){var e=this,n=(0,s.isDef)(t)?t:this.getValue();return this.getOptions().filter(function(o){return e.getOptionId(o)===n})[0]},r.prototype.getOptionId=function(t){return t.id||t.value},r.prototype.getOptionLabel=function(t,e){var n;e===void 0&&(e={});var o=e.locale,c=o===void 0?!0:o,h=(0,i.isString)(t)?this.getOption(t):t,m=this.getOptionId(h),y=h.label||h.name||m,C=this.getName();return c&&((n=this.em)===null||n===void 0?void 0:n.t("traitManager.traits.options.".concat(C,".").concat(m)))||y},r.prototype.getCategoryLabel=function(t){t===void 0&&(t={});var e=this,n=e.em,o=e.category,c=t.locale,h=c===void 0?!0:c,m=o==null?void 0:o.getId(),y=o==null?void 0:o.getLabel();return h&&(n==null?void 0:n.t("traitManager.categories.".concat(m)))||y||""},r.prototype.runCommand=function(){var t=this.em,e=this.attributes.command;if(e&&t)return(0,i.isString)(e)?t.Commands.run(e):e(t.Editor,this)},r.prototype.props=function(){return this.attributes},r.prototype.targetUpdated=function(){var t=this,e=t.component,n=t.em,o=this.getTargetValue({useType:!0});this.set({value:o},{fromTarget:1});var c={trait:this,component:e,value:o};e.trigger($i.value,c),n==null||n.trigger($i.value,c),n==null||n.trigger("trait:update",c)},r.prototype.getTargetValue=function(t){t===void 0&&(t={});var e=this,n=e.component,o=e.em,c=this.getName(),h=this.get("getValue"),m;if(h?m=h({editor:o==null?void 0:o.getEditor(),trait:this,component:n}):this.changeProp?m=n.get(c):m=n.getAttributes()[c],t.useType){var y=this.getType();if(y==="checkbox"){var C=this.attributes,P=C.valueTrue,D=C.valueFalse;!(0,i.isUndefined)(P)&&P===m?m=!0:!(0,i.isUndefined)(D)&&D===m&&(m=!1)}}return(0,i.isUndefined)(m)?"":m},r.prototype.setTargetValue=function(t,e){var n;e===void 0&&(e={});var o=this,c=o.component,h=o.attributes,m=this.getName();if(!(0,i.isUndefined)(t)){var y=t;if(t==="false"?y=!1:t==="true"&&(y=!0),this.getType()==="checkbox"){var C=h.valueTrue,P=h.valueFalse;y&&!(0,i.isUndefined)(C)&&(y=C),!y&&!(0,i.isUndefined)(P)&&(y=P)}var D=(n={},n[m]=y,n);D.__p=e.avoidStore?null:void 0,this.changeProp?c.set(D,e):c.addAttributes(D,e)}},r.prototype.setValueFromInput=function(t,e,n){e===void 0&&(e=!0),n===void 0&&(n={});var o={value:t};this.set(o,Fr(Fr({},n),{avoidStore:1})),e&&(this.set("value","",n),this.set(o,n))},r.prototype.getInitValue=function(){var t=this.component,e=this.getName(),n;if(t){var o=t.get("attributes");n=this.changeProp?t.get(e):o[e]}return n||this.get("value")||this.get("default")},r}(O.Hn);const Go=Jr;var Cs=function(){function l(r){r===void 0&&(r={}),this.config=r}return l.prototype.build=function(r,t){return(0,i.isString)(r)?this.buildFromString(r,t):new Go(r,t)},l.prototype.buildFromString=function(r,t){var e={name:r,type:"text"};switch(r){case"target":e.type="select",e.default=!1,e.options=this.config.optionsTarget;break}return new Go(e,t)},l}();const Ao=Cs;var bl=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),uo=function(l){bl(r,l);function r(t,e){var n=l.call(this,t)||this;n.categories=new Da,n.em=e.em,n.on("add",n.handleAdd),n.on("reset",n.handleReset);var o=n.module,c=o==null?void 0:o.getConfig();return n.tf=new Ao(c),n}return Object.defineProperty(r.prototype,"module",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),r.prototype.getCategories=function(){return this.categories},r.prototype.handleReset=function(t,e){var n=e===void 0?{}:e,o=n.previousModels,c=o===void 0?[]:o;c.forEach(function(h){return h.trigger("remove")})},r.prototype.handleAdd=function(t){t.em=this.em;var e=this.target;e&&(t.target=e),this.initCategory(t)},r.prototype.setTarget=function(t){this.target=t,this.models.forEach(function(e){return e.setTarget(t)})},r.prototype.add=function(t,e){if(t!=null){var n=this,o=n.target,c=n.em;if((0,i.isArray)(t)){for(var h=[],m=0,y=t.length;m<y;m++){var C=t[m];h[m]=C instanceof Go?C:this.tf.build(C,c),h[m].setTarget(o)}return l.prototype.add.call(this,h,e)}var P=t instanceof Go?t:this.tf.build(t,c);return P.setTarget(o),l.prototype.add.call(this,P,e)}},r}(bi);const Ko=uo;var Vn=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Be=function(){return Be=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Be.apply(this,arguments)},Gi=function(l,r){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&r.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(l);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(l,e[n])&&(t[e[n]]=l[e[n]]);return t},Wn=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},xs=function(l){return l.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},Ki=function(l){return!!(l!=null&&l.getConfig().avoidInlineStyle)},Cl="component:drag",yr="__symbols",Pr="__symbol",ja="__symbol_ovrd",Na="component:update",Yi="".concat(Na,"-inside"),Bu=function(l){Vn(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){var t;return t={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:{},traits:["id","title"],propagate:"",dmode:"",toolbar:null,delegate:null},t[Pr]=0,t[yr]=0,t[ja]=0,t._undo=!0,t._undoexc=["status","open"],t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"classes",{get:function(){return this.get("classes")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"traits",{get:function(){return this.get("traits")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"content",{get:function(){var t;return(t=this.get("content"))!==null&&t!==void 0?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"toolbar",{get:function(){return this.get("toolbar")||[]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resizable",{get:function(){return this.get("resizable")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"delegate",{get:function(){return this.get("delegate")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"locked",{get:function(){return this.get("locked")},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.updated=function(t,e,n){},r.prototype.removed=function(){},r.prototype.initialize=function(t,e){var n=this;t===void 0&&(t={}),e===void 0&&(e={}),(0,i.bindAll)(this,"__upSymbProps","__upSymbCls","__upSymbComps");var o=e.em,c=this.parent(),h=c==null?void 0:c.attributes,m=this.get("propagate");if(m&&this.set("propagate",(0,i.isArray)(m)?m:[m]),h&&h.propagate&&!m){var y={},C=h.propagate;C.forEach(function(ot){return y[ot]=c.get(ot)}),y.propagate=C,this.set(Be(Be({},y),t))}if(e&&e.config&&e.config.voidElements.indexOf(this.get("tagName"))>=0&&this.set("void",!0),e.em=o,this.opt=e,this.em=o,this.frame=e.frame,this.config=e.config||{},this.set("attributes",Be(Be({},(0,i.result)(this,"defaults").attributes||{}),this.get("attributes")||{})),this.ccid=r.createId(this,e),this.initClasses(),this.initComponents(),this.initTraits(),this.initToolbar(),this.initScriptProps(),this.listenTo(this,"change:script",this.scriptUpdated),this.listenTo(this,"change:tagName",this.tagUpdated),this.listenTo(this,"change:attributes",this.attrUpdated),this.listenTo(this,"change:attributes:id",this._idUpdated),this.on("change:toolbar",this.__emitUpdateTlb),this.on("change",this.__onChange),this.on(Yi,this.__propToParent),this.set("status",""),this.views=[],["classes","traits","components"].forEach(function(ot){var ft="add remove ".concat(ot!=="components"?"change":"");n.listenTo(n.get(ot),ft.trim(),function(){for(var xt=[],Ft=0;Ft<arguments.length;Ft++)xt[Ft]=arguments[Ft];return n.emitUpdate.apply(n,Wn([ot],xt,!1))})}),!e.temporary){var P=o&&o.Css,D=this.attributes,z=D.styles,q=D.type;z&&P&&P.addCollection(z,{avoidUpdateStyle:!0},{group:"cmp:".concat(q)}),this.__postAdd(),this.init(),this.__isSymbolOrInst()&&this.__initSymb(),o&&o.trigger("component:create",this)}},r.prototype.__postAdd=function(t){t===void 0&&(t={});var e=this.em,n=e==null?void 0:e.UndoManager,o=this.components();n&&!this.__hasUm&&(n.add(o),n.add(this.getSelectors()),this.__hasUm=!0),t.recursive&&o.map(function(c){return c.__postAdd(t)})},r.prototype.__postRemove=function(){var t=this.em,e=t==null?void 0:t.get("UndoManager");e&&(e.remove(this.components()),e.remove(this.getSelectors()),delete this.__hasUm)},r.prototype.__onChange=function(t,e){var n=this,o=this.changedAttributes()||{};(0,i.keys)(o).forEach(function(c){return n.emitUpdate(c)}),["status","open","toolbar","traits"].forEach(function(c){return delete o[c]}),(0,s.isEmptyObj)(o)||(this.__changesUp(e),this.__propSelfToParent({component:this,changed:o,options:e}))},r.prototype.__onStyleChange=function(t){var e=this,n=this.em;if(n){var o="component:styleUpdate",c=(0,i.keys)(t),h={style:t};n.trigger(o,this,h),c.forEach(function(m){return n.trigger("".concat(o,":").concat(m),e,h)})}},r.prototype.__changesUp=function(t){var e=this,n=e.em,o=e.frame;[o,n].forEach(function(c){return c&&c.changesUp(t)})},r.prototype.__propSelfToParent=function(t){this.trigger(Na,t),this.__propToParent(t)},r.prototype.__propToParent=function(t){var e=this.parent();e&&e.trigger(Yi,t)},r.prototype.__emitUpdateTlb=function(){this.emitUpdate("toolbar")},r.prototype.is=function(t){return this.get("type")==t},r.prototype.props=function(){return this.attributes},r.prototype.index=function(){var t=this.collection;return t?t.indexOf(this):0},r.prototype.setDragMode=function(t){return this.set("dmode",t)},r.prototype.getDragMode=function(){return this.get("dmode")||""},r.prototype.find=function(t){var e,n=[],o=(e=this.view)===null||e===void 0?void 0:e.$el.find(t);return o==null||o.each(function(c){var h=o.eq(c),m=h.data("model");m&&n.push(m)}),n},r.prototype.findType=function(t){var e=[],n=function(o){return o.forEach(function(c){c.is(t)&&e.push(c),n(c.components())})};return n(this.components()),e},r.prototype.closest=function(t){var e,n=(e=this.view)===null||e===void 0?void 0:e.$el.closest(t);return n!=null&&n.length?n.data("model"):void 0},r.prototype.closestType=function(t){for(var e=this.parent();e&&!e.is(t);)e=e.parent();return e},r.prototype.contains=function(t){var e=!1;if(!t)return e;var n=function(o){!e&&o.forEach(function(c){c===t&&(e=!0),!e&&n(c.components())})};return n(this.components()),e},r.prototype.tagUpdated=function(){this.trigger("rerender")},r.prototype.replaceWith=function(t,e){e===void 0&&(e={});var n=this.collection,o=n.indexOf(this);n.remove(this);var c=n.add(t,Be(Be({},e),{at:o}));return(0,i.isArray)(c)?c:[c]},r.prototype.attrUpdated=function(t,e,n){var o=this;n===void 0&&(n={});var c=this.get("attributes"),h=c.class;h&&this.setClass(h),delete c.class;var m=c.style;m&&this.setStyle(m),delete c.style;var y=Be({},this.previous("attributes")),C=(0,s.shallowDiff)(y,this.get("attributes"));(0,i.keys)(C).forEach(function(P){return o.trigger("change:attributes:".concat(P),o,C[P],n)})},r.prototype.setAttributes=function(t,e){return e===void 0&&(e={}),this.set("attributes",Be({},t),e),this},r.prototype.addAttributes=function(t,e){return e===void 0&&(e={}),this.setAttributes(Be(Be({},this.getAttributes({noClass:!0})),t),e)},r.prototype.removeAttributes=function(t,e){t===void 0&&(t=[]),e===void 0&&(e={});var n=Array.isArray(t)?t:[t],o=this.getAttributes();return n.map(function(c){return delete o[c]}),this.setAttributes(o,e)},r.prototype.getStyle=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var n=this.em,o=(0,i.isString)(t)?t:"",c=o?e:t;if(Ki(n)&&!c.inline){var h=n.get("state"),m=n.Css,y=m.getIdRule(this.getId(),Be({state:h},c));if(this.rule=y,y)return y.getStyle(o)}return l.prototype.getStyle.call(this,o)},r.prototype.setStyle=function(t,e){var n=this;t===void 0&&(t={}),e===void 0&&(e={});var o=this,c=o.opt,h=o.em;if(Ki(h)&&!c.temporary&&!e.inline){var m=this.get("style")||{};t=(0,i.isString)(t)?this.parseStyle(t):t,t=Be(Be({},t),m);var y=h.get("state"),C=h.Css,P=this.getStyle(e);this.rule=C.setIdRule(this.getId(),t,Be({state:y},e));var D=(0,s.shallowDiff)(P,t);this.set("style","",{silent:!0}),(0,i.keys)(D).forEach(function(z){return n.trigger("change:style:".concat(z))})}else t=l.prototype.setStyle.apply(this,arguments);return c.temporary||this.__onStyleChange(e.addStyle||t),t},r.prototype.getAttributes=function(t){t===void 0&&(t={});var e=this.em,n=[],o=Be({},this.get("attributes")),c=e==null?void 0:e.Selectors,h=this.getId();if(t.noClass?delete o.class:(this.classes.forEach(function(C){return n.push((0,i.isString)(C)?C:C.getName())}),n.length&&(o.class=n.join(" "))),!t.noStyle){var m=this.get("style");(0,s.isObject)(m)&&!(0,s.isEmptyObj)(m)&&(o.style=this.styleToString({inline:1}))}if(!(0,i.has)(o,"id")){var y=!1;(Ki(e)||!(0,i.isEmpty)(this.getStyle()))&&(y=!!(c!=null&&c.get(h,c.Selector.TYPE_ID))),(this.__getSymbol()||this.__getSymbols()||this.get("script-export")||this.get("script"))&&(y=!0),y&&(o.id=h)}return o},r.prototype.addClass=function(t){var e=this.em.Selectors.addClass(t);return this.classes.add(e)},r.prototype.setClass=function(t){return this.classes.reset(),this.addClass(t)},r.prototype.removeClass=function(t){var e=[];t=(0,i.isArray)(t)?t:[t];var n=this.classes,o=ur.TYPE_CLASS;return t.forEach(function(c){var h=c.split(" ");h.forEach(function(m){var y=n.where({name:m,type:o})[0];y&&e.push(n.remove(y))})}),e},r.prototype.getClasses=function(){var t=this.getAttributes(),e=t.class;return e?e.split(" "):[]},r.prototype.__logSymbol=function(t,e,n){n===void 0&&(n={});var o=this.__getSymbol(),c=this.__getSymbols();!o&&!c||this.em.log(t,{model:this,toUp:e,context:"symbols",opts:n})},r.prototype.__initSymb=function(){this.__symbReady||(this.on("change",this.__upSymbProps),this.__symbReady=!0)},r.prototype.__isSymbol=function(){return(0,i.isArray)(this.get(yr))},r.prototype.__isSymbolOrInst=function(){return!!(this.__isSymbol()||this.get(Pr))},r.prototype.__isSymbolTop=function(){var t=this.parent(),e=this.__isSymbolOrInst();return e&&(!t||t&&!t.__isSymbol()&&!t.__getSymbol())},r.prototype.__isSymbolNested=function(){if(!this.__isSymbolOrInst()||this.__isSymbolTop())return!1;var t=(this.__isSymbol()?this:this.__getSymbol()).__getSymbTop(),e=this.__getSymbTop(),n=e.__isSymbol()?e:e.__getSymbol();return n!==t},r.prototype.__getAllById=function(){var t=this.em;return t?t.Components.allById():{}},r.prototype.__getSymbol=function(){var t=this.get(Pr);if(t&&(0,i.isString)(t)){var e=this.__getAllById()[t];e?(t=e,this.set(Pr,e)):t=0}return t},r.prototype.__getSymbols=function(){var t=this,e=this.get(yr);return e&&(0,i.isArray)(e)&&(e.forEach(function(n,o){n&&(0,i.isString)(n)&&(e[o]=t.__getAllById()[n])}),e=e.filter(function(n){return n&&!(0,i.isString)(n)})),e},r.prototype.__isSymbOvrd=function(t){t===void 0&&(t="");var e=this.get(ja),n=t.split(":")[0],o=t!==n?[t,n]:[t];return e===!0||(0,i.isArray)(e)&&o.some(function(c){return e.indexOf(c)>=0})},r.prototype.__getSymbToUp=function(t){var e=this;t===void 0&&(t={});var n=[],o=t.changed;if(t.fromInstance||t.noPropagate||t.fromUndo||o&&this.__isSymbOvrd(o))return n;var c=this.__getSymbols()||[],h=this.__getSymbol(),m=h?Wn([h],h.__getSymbols()||[],!0):c;return n=m.filter(function(y){return y!==e}).filter(function(y){return!(o&&y.__isSymbOvrd(o))}),n},r.prototype.__getSymbTop=function(t){for(var e=this,n=this.parent(t);n&&(n.__isSymbol()||n.__getSymbol());)e=n,n=n.parent(t);return e},r.prototype.__upSymbProps=function(t,e){var n=this;e===void 0&&(e={});var o=this.changedAttributes()||{},c=o.attributes||{};if(delete o.status,delete o.open,delete o[yr],delete o[Pr],delete o[ja],delete o.attributes,delete c.id,(0,s.isEmptyObj)(c)||(o.attributes=c),!(0,s.isEmptyObj)(o)){var h=this.__getSymbToUp(e);(0,i.keys)(o).map(function(m){n.__isSymbOvrd(m)&&delete o[m]}),this.__logSymbol("props",h,{opts:e,changed:o}),h.forEach(function(m){var y=Be({},o);(0,i.keys)(y).map(function(C){m.__isSymbOvrd(C)&&delete y[C]}),m.set(y,Be({fromInstance:n},e))})}},r.prototype.__upSymbCls=function(t,e,n){var o=this;n===void 0&&(n={});var c=this.__getSymbToUp(n);this.__logSymbol("classes",c,{opts:n}),c.forEach(function(h){h.set("classes",o.get("classes"),{fromInstance:o})}),this.__changesUp(n)},r.prototype.__upSymbComps=function(t,e,n){var o=this,c=n||e||{},h=c.fromInstance,m=c.fromUndo,y={fromInstance:h,fromUndo:m},C=t.opt.temporary;if(n)if(n.add){var z=[],q=!!this.__getSymbols(),P=this.__getSymbToUp(Be(Be({},y),{changed:"components:add"}));if(P.length){var ot=t.__getSymbol();z=(ot?ot.__getSymbols():t.__getSymbols())||[],z=Wn([],z,!0),z.push(ot||t)}!C&&this.__logSymbol("add",P,{opts:n,addedInstances:z.map(function(pe){return pe.cid}),added:t.cid}),P.forEach(function(pe){var Fe=pe.__getSymbTop(),Ye=z.filter(function(se){var Sr=se.__getSymbTop({prev:1});return Fe&&Sr&&Sr===Fe})[0],yn=Ye||t.clone({symbol:!0,symbolInv:q});pe.append(yn,Be({fromInstance:o},n))})}else{var ft=t.__getSymbol();if(ft&&!n.temporary&&ft.set(yr,ft.__getSymbols().filter(function(De){return De!==t})),!t.__isSymbolTop()){var xt="components:remove",Ft=n.index,Rt=t.parent(),Xt=Be({fromInstance:t},n),de=t.__isSymbolNested(),Oe=function(pe){var Fe=pe.parent();Fe&&!Fe.__isSymbOvrd(xt)&&pe.remove(Xt)},P=Rt!=null&&Rt.__isSymbOvrd(xt)?[]:t.__getSymbToUp(y);de&&(P=Rt==null?void 0:Rt.__getSymbToUp(Be(Be({},y),{changed:xt})),Oe=function(pe){var Fe=pe.components().at(Ft);Fe&&Fe.remove(Be({fromInstance:Rt},Xt))}),!C&&this.__logSymbol("remove",P,{opts:n,removed:t.cid,isSymbNested:de}),P.forEach(Oe)}}else{var P=this.__getSymbToUp(Be(Be({},y),{changed:"components:reset"})),D=t.models;this.__logSymbol("reset",P,{components:D}),P.forEach(function(De){var pe=D.map(function(Fe){return Fe.clone({symbol:!0})});De.components().reset(pe,Be({fromInstance:o},e))})}this.__changesUp(c)},r.prototype.initClasses=function(t,e,n){n===void 0&&(n={});var o="change:classes",c=this.get("attributes")||{},h=c.class,m=Gi(c,["class"]),y=[this,o,this.initClasses],C=this.get("classes")||h||[],P=(0,i.isString)(C)?C.split(" "):C;this.stopListening.apply(this,y);var D=this.normalizeClasses(P),z=new Wo([]);return this.set("classes",z,n),z.add(D),z.on("add remove reset",this.__upSymbCls),h&&D.length&&this.set("attributes",m),this.listenTo.apply(this,y),this},r.prototype.initComponents=function(){var t="change:components",e=[this,t,this.initComponents];this.stopListening.apply(this,e);var n=new ko([],this.opt);n.parent=this;var o=this.get("components"),c=!this.opt.avoidChildren;return this.set("components",n),c&&o&&n.add((0,i.isFunction)(o)?o(this):o,this.opt),n.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,e),this},r.prototype.initTraits=function(t){var e=this.em,n="change:traits";this.off(n,this.initTraits),this.__loadTraits();var o=Be({},this.get("attributes")),c=this.traits;return c.each(function(h){if(!h.changeProp){var m=h.getName(),y=h.getInitValue();m&&y&&(o[m]=y)}}),c.length&&this.set("attributes",o),this.on(n,this.initTraits),t&&e&&e.trigger("component:toggled"),this},r.prototype.initScriptProps=function(){if(!this.opt.temporary){var t="script-props",e=["change:".concat(t),this.initScriptProps];this.off.apply(this,e);var n=this.previous(t)||[],o=this.get(t)||[],c=n.map(function(m){return"change:".concat(m)}).join(" "),h=o.map(function(m){return"change:".concat(m)}).join(" ");c&&this.off(c,this.__scriptPropsChange),h&&this.on(h,this.__scriptPropsChange),this.on.apply(this,e)}},r.prototype.__scriptPropsChange=function(t,e,n){n===void 0&&(n={}),!n.avoidStore&&this.trigger("rerender")},r.prototype.append=function(t,e){e===void 0&&(e={});var n=(0,i.isArray)(t)?Wn([],t,!0):[t],o=n.map(function(h){return(0,i.isString)(h)||h.collection&&h.collection.remove(h,{temporary:!0}),h}),c=this.components().add(o,e);return(0,i.isArray)(c)?c:[c]},r.prototype.components=function(t,e){e===void 0&&(e={});var n=this.get("components");return(0,i.isUndefined)(t)?n:(n.reset(void 0,e),t?this.append(t,e):[])},r.prototype.getChildAt=function(t){return this.components().at(t||0)||void 0},r.prototype.getLastChild=function(){var t=this.components();return t.at(t.length-1)||null},r.prototype.empty=function(t){return t===void 0&&(t={}),this.components().reset(void 0,t),this},r.prototype.parent=function(t){t===void 0&&(t={});var e=this.collection||t.prev&&this.prevColl;return e?e.parent:void 0},r.prototype.parents=function(){var t=this.parent();return t?[t].concat(t.parents()):[]},r.prototype.scriptUpdated=function(){this.set("scriptUpdated",1)},r.prototype.initToolbar=function(){var t=this.em,e=this,n=t&&t.getConfig().stylePrefix||"";if(!e.get("toolbar")&&t){var o=[];e.collection&&o.push({label:t.getIcon("arrowUp"),command:function(c){return c.runCommand("core:component-exit",{force:1})}}),e.get("draggable")&&o.push({attributes:{class:"".concat(n,"no-touch-actions"),draggable:!0},label:t.getIcon("move"),command:"tlb-move"}),e.get("copyable")&&o.push({label:t.getIcon("copy"),command:"tlb-clone"}),e.get("removable")&&o.push({label:t.getIcon("delete"),command:"tlb-delete"}),e.set("toolbar",o)}},r.prototype.__loadTraits=function(t,e){e===void 0&&(e={});var n=t||this.traits;if(!(n instanceof Ko)){n=(0,i.isFunction)(n)?n(this):n;var o=new Ko([],this.opt);o.setTarget(this),n.length&&(n.forEach(function(c){return c.attributes&&delete c.attributes.value}),o.add(n)),this.set({traits:o},e)}return this},r.prototype.getTraits=function(){return this.__loadTraits(),Wn([],this.traits.models,!0)},r.prototype.setTraits=function(t){var e=(0,i.isArray)(t)?t:[t];return this.set({traits:e}),this.getTraits()},r.prototype.getTrait=function(t){return this.getTraits().filter(function(e){return e.get("id")===t||e.get("name")===t})[0]||null},r.prototype.updateTrait=function(t,e){var n,o=this.getTrait(t);return o&&o.set(e),(n=this.em)===null||n===void 0||n.trigger("component:toggled"),this},r.prototype.getTraitIndex=function(t){var e=this.getTrait(t);return e?this.traits.indexOf(e):-1},r.prototype.removeTrait=function(t){var e=this,n,o=(0,i.isArray)(t)?t:[t],c=o.map(function(y){return e.getTrait(y)}),h=this.traits,m=c.length?h.remove(c):[];return(n=this.em)===null||n===void 0||n.trigger("component:toggled"),(0,i.isArray)(m)?m:[m]},r.prototype.addTrait=function(t,e){var n;e===void 0&&(e={}),this.__loadTraits();var o=this.traits.add(t,e);return(n=this.em)===null||n===void 0||n.trigger("component:toggled"),(0,i.isArray)(o)?o:[o]},r.prototype.normalizeClasses=function(t){var e=[],n=this.em,o=n==null?void 0:n.Selectors;return o?t.models?Wn([],t.models,!0):(t.forEach(function(c){return e.push(o.add(c))}),e):[]},r.prototype.clone=function(t){t===void 0&&(t={});var e=this.em,n=Be({},this.attributes),o=Be({},this.opt),c=this.getId(),h=e==null?void 0:e.Css;n.attributes=Be({},n.attributes),delete n.attributes.id,n.components=[],n.classes=[],n.traits=[],this.__isSymbolTop()&&(t.symbol=!0),this.get("components").each(function(q,ot){n.components[ot]=q.clone(Be(Be({},t),{_inner:1}))}),this.get("traits").each(function(q,ot){n.traits[ot]=q.clone()}),this.get("classes").each(function(q,ot){n.classes[ot]=q.get("name")}),n.status="",o.collection=null;var m=new this.constructor(n,o),y="#".concat(m.getId()),C=h?h.getRules("#".concat(c)):[];C.forEach(function(q){var ot=q.clone();ot.set("selectors",[y]),h.getAll().add(ot)}),m.set(yr,0);var P=this.__getSymbol(),D=this.__getSymbols();!t.symbol&&(P||D)?(m.set(Pr,0),m.set(yr,0)):P?(P.set(yr,Wn(Wn([],P.__getSymbols(),!0),[m],!1)),m.__initSymb()):t.symbol&&(this.__isSymbol()?(this.set(yr,Wn(Wn([],D,!0),[m],!1)),m.set(Pr,this),m.__initSymb()):t.symbolInv?(this.set(yr,[m]),m.set(Pr,this),[this,m].map(function(q){return q.__initSymb()})):(m.set(yr,[this]),[this,m].map(function(q){return q.__initSymb()}),this.set(Pr,m)));var z="component:clone";return e&&e.trigger(z,m),this.trigger(z,m),m},r.prototype.getName=function(t){t===void 0&&(t={});var e=this.em,n=this.attributes,o=n.type,c=n.tagName,h=n.name,m=o||c,y=o?"":c,C="domComponents.names.",P=h&&(e==null?void 0:e.t("".concat(C).concat(h))),D=y&&(e==null?void 0:e.t("".concat(C).concat(y))),z=e&&(e.t("".concat(C).concat(o))||e.t("".concat(C).concat(c))),q=this.get("custom-name");return(t.noCustom?"":q)||P||h||D||(0,s.capitalize)(y)||z||(0,s.capitalize)(m)},r.prototype.getIcon=function(){var t=this.get("icon");return t?t+" ":""},r.prototype.toHTML=function(t){t===void 0&&(t={});var e=this,n=[],o=t.tag,c=o||e.get("tagName"),h=e.get("void"),m=t.attributes,y=this.getAttrToHTML();if(delete t.tag,m&&((0,i.isFunction)(m)?y=m(e,y)||{}:(0,s.isObject)(m)&&(y=m)),t.withProps){var C=this.toJSON();(0,i.forEach)(C,function(Ft,Rt){var Xt=["classes","attributes","components"];Rt[0]!=="_"&&Xt.indexOf(Rt)<0&&(y["data-gjs-".concat(Rt)]=(0,i.isArray)(Ft)||(0,s.isObject)(Ft)?JSON.stringify(Ft):(0,i.isBoolean)(Ft)?"".concat(Ft):Ft)})}for(var P in y){var D=y[P];if(!(0,i.isUndefined)(D)&&D!==null)if((0,i.isBoolean)(D))D&&n.push(P);else{var z="";if(t.altQuoteAttr&&(0,i.isString)(D)&&D.indexOf('"')>=0)z="'".concat(D.replace(/'/g,"&apos;"),"'");else{var q=(0,i.isString)(D)?D.replace(/"/g,"&quot;"):D;z='"'.concat(q,'"')}n.push("".concat(P,"=").concat(z))}}var ot=n.length?" ".concat(n.join(" ")):"",ft=e.getInnerHTML(t),xt="<".concat(c).concat(ot).concat(h?"/":"",">").concat(ft);return!h&&(xt+="</".concat(c,">")),xt},r.prototype.getInnerHTML=function(t){return this.__innerHTML(t)},r.prototype.__innerHTML=function(t){t===void 0&&(t={});var e=this.components();return e.length?e.map(function(n){return n.toHTML(t)}).join(""):this.content},r.prototype.getAttrToHTML=function(){var t=this.getAttributes();return Ki(this.em)&&delete t.style,t},r.prototype.toJSON=function(t){t===void 0&&(t={});var e=w.Model.prototype.toJSON.call(this,t);if(e.attributes=this.getAttributes(),delete e.attributes.class,delete e.toolbar,delete e.traits,delete e.status,delete e.open,delete e._undoexc,delete e.delegate,!t.fromUndo){var n=e[Pr],o=e[yr];o&&(0,i.isArray)(o)&&(e[yr]=o.filter(function(c){return c}).map(function(c){return c.getId?c.getId():c})),n&&!(0,i.isString)(n)&&(e[Pr]=n.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(e),e},r.prototype.getChangedProps=function(t){var e=t||w.Model.prototype.toJSON.apply(this),n=(0,i.result)(this,"defaults");return(0,i.forEach)(n,function(o,c){["type"].indexOf(c)===-1&&e[c]===o&&delete e[c]}),(0,i.isEmpty)(e.type)&&delete e.type,(0,i.forEach)(["attributes","style"],function(o){(0,i.isEmpty)(n[o])&&(0,i.isEmpty)(e[o])&&delete e[o]}),(0,i.forEach)(["classes","components"],function(o){(!e[o]||(0,i.isEmpty)(n[o])&&!e[o].length)&&delete e[o]}),e},r.prototype.getId=function(){var t=this.get("attributes")||{};return t.id||this.ccid||this.cid},r.prototype.setId=function(t,e){var n=Be({},this.get("attributes"));return n.id=t,this.set("attributes",n,e),this},r.prototype.getEl=function(t){var e=this.getView(t);return e&&e.el},r.prototype.getView=function(t){var e=this,n=e.view,o=e.views,c=e.em,h=t||(c==null?void 0:c.getCurrentFrameModel());return h&&(n=o.filter(function(m){return m.frameView===h.view})[0]),n},r.prototype.getCurrentView=function(){var t=this.em.getCurrentFrame(),e=t==null?void 0:t.model;return this.getView(e)},r.prototype.__getScriptProps=function(){var t=this.props(),e=this.get("script-props")||[];return e.reduce(function(n,o){return n[o]=t[o],n},{})},r.prototype.getScriptString=function(t){var e=this,n=t||this.get("script")||"";if(!n)return n;if(this.get("script-props"))n=n.toString().trim();else{if((0,i.isFunction)(n)){var o=n.toString().trim();o=o.slice(o.indexOf("{")+1,o.lastIndexOf("}")),n=o.trim()}var c=this.em.getConfig(),h=xs(c.tagVarStart||"{[ "),m=xs(c.tagVarEnd||" ]}"),y=new RegExp("".concat(h,"([\\w\\d-]*)").concat(m),"g");n=n.replace(y,function(C,P){e.scriptUpdated();var D=e.attributes[P]||"";return(0,i.isArray)(D)||typeof D=="object"?JSON.stringify(D):D})}return n},r.prototype.emitUpdate=function(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var c=this.em,h=Na+(t?":".concat(t):""),m=t&&this.get(t);t&&this.updated.apply(this,Wn([t,m,t&&this.previous(t)],n,!1)),this.trigger.apply(this,Wn([h],n,!1)),c&&c.trigger.apply(c,Wn([h,this],n,!1)),["components","classes"].indexOf(t)>=0&&this.__propSelfToParent({component:this,changed:(e={},e[t]=m,e),options:n[2]||n[1]||{}})},r.prototype.onAll=function(t){return(0,i.isFunction)(t)&&(t(this),this.components().forEach(function(e){return e.onAll(t)})),this},r.prototype.forEachChild=function(t){(0,i.isFunction)(t)&&this.components().forEach(function(e){t(e),e.forEachChild(t)})},r.prototype.remove=function(t){var e=this;t===void 0&&(t={});var n=this.em,o=this.collection,c=function(){o&&o.remove(e,Be(Be({},t),{action:"remove-component"})),o||(e.components("",t),e.components().removeChildren(e,void 0,t))},h=Be({},t);return[this,n].map(function(m){return m.trigger("component:remove:before",e,c,h)}),!h.abort&&c(),this},r.prototype.move=function(t,e){if(e===void 0&&(e={}),t){var n=e.at,o=this.index(),c=t===this.parent(),h=o===n||o===n-1;(!c||!h)&&(c&&n&&n>o&&(e.at=n-1),this.remove({temporary:1}),t.append(this,e),this.emitUpdate())}return this},r.prototype.isInstanceOf=function(t){var e,n,o=(n=(e=this.em)===null||e===void 0?void 0:e.Components.getType(t))===null||n===void 0?void 0:n.model;return o?this instanceof o:!1},r.prototype.isChildOf=function(t){for(var e=(0,i.isString)(t),n=this.parent();n;){if(e){if(n.isInstanceOf(t))return!0}else if(n===t)return!0;n=n.parent()}return!1},r.prototype.resetId=function(t){var e=this.em,n=this.getId();if(!n)return this;var o=r.createId(this);this.setId(o);var c=e==null?void 0:e.Css.getIdRule(n),h=c==null?void 0:c.get("selectors").at(0);return h==null||h.set("name",o),this},r.prototype._getStyleRule=function(t){var e=t===void 0?{}:t,n=e.id,o=this.em,c=n||this.getId();return o==null?void 0:o.Css.getIdRule(c)},r.prototype._getStyleSelector=function(t){var e=this._getStyleRule(t);return e==null?void 0:e.get("selectors").at(0)},r.prototype._idUpdated=function(t,e,n){if(n===void 0&&(n={}),!n.idUpdate){var o=this.ccid,c=(this.get("attributes")||{}).id,h=(this.previous("attributes")||{}).id||o,m=r.getList(this);if(m[c]||!c&&h)return this.setId(h,{idUpdate:!0});delete m[h],m[c]=this,this.ccid=c;var y=this._getStyleSelector({id:h});y&&y.set({name:c,label:c})}},r.getDefaults=function(){return(0,i.result)(this.prototype,"defaults")},r.isComponent=function(t){return{tagName:(0,s.toLowerCase)(t.tagName)}},r.ensureInList=function(t){var e=r.getList(t),n=t.getId(),o=e[n];if(!o)e[n]=t;else if(o!==t){var c=r.getIncrementId(n,e);t.setId(c),e[c]=t}t.components().forEach(function(h){return r.ensureInList(h)})},r.createId=function(t,e){e===void 0&&(e={});var n=r.getList(t),o=e.idMap,c=o===void 0?{}:o,h=t.get("attributes").id,m;return h?(m=r.getIncrementId(h,n,e),t.setId(m),h!==m&&(c[h]=m)):m=r.getNewId(n),n[m]=t,m},r.getNewId=function(t){for(var e=Object.keys(t).length,n=e.toString().length+2,o=(Math.random()+1.1).toString(36).slice(-n),c="i".concat(o);t[c];)c=r.getNewId(t);return c},r.getIncrementId=function(t,e,n){n===void 0&&(n={});var o=n.keepIds,c=o===void 0?[]:o,h=1,m=t;if(c.indexOf(t)<0)for(;e[m];)h++,m="".concat(t,"-").concat(h);return m},r.getList=function(t){var e=t.opt,n=e===void 0?{}:e,o=n.domc,c=n.em,h=o||(c==null?void 0:c.Components);return h?h.componentsById:{}},r.checkId=function(t,e,n,o){e===void 0&&(e=[]),n===void 0&&(n={}),o===void 0&&(o={});var c=(0,i.isArray)(t)?t:[t],h=o.keepIds,m=h===void 0?[]:h,y=o.idMap,C=y===void 0?{}:y;c.forEach(function(P){P.attributes;var D=P.attributes,z=D===void 0?{}:D,q=P.components,ot=z.id;if(ot&&n[ot]&&m.indexOf(ot)<0){var ft=r.getIncrementId(ot,n);C[ot]=ft,z.id=ft,(0,i.isArray)(e)&&e.forEach(function(xt){var Ft=xt.selectors;Ft.forEach(function(Rt,Xt){Rt==="#".concat(ot)&&(Ft[Xt]="#".concat(ft))})})}q&&r.checkId(q,e,n,o)})},r}(zi);const cr=Bu;var xl=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ia=function(){return Ia=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Ia.apply(this,arguments)},Sl=function(l){xl(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Ia(Ia({},l.prototype.defaults),{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0})},enumerable:!1,configurable:!0}),r.prototype.toHTML=function(){var t=this.content,e=this.parent();return e!=null&&e.is("script")?t:this.__escapeContent(t)},r.prototype.__escapeContent=function(t){return(0,s.escapeNodeContent)(t)},r.isComponent=function(t){var e;if(t.nodeType===3)return{type:"textnode",content:(e=t.textContent)!==null&&e!==void 0?e:""}},r}(cr);const Ra=Sl;var ai=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ss=function(){return Ss=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Ss.apply(this,arguments)},Ol=function(l){ai(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Ss({},l.prototype.defaults)},enumerable:!1,configurable:!0}),r.prototype.toHTML=function(){return"<!--".concat(this.content,"-->")},r.isComponent=function(t){var e;if(t.nodeType==8)return{type:"comment",content:(e=t.textContent)!==null&&e!==void 0?e:""}},r}(Ra);const qi=Ol;var co=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xn=function(){return xn=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},xn.apply(this,arguments)},Os="iframe",Tl=function(l){co(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return xn(xn({},l.prototype.defaults),{type:Os,tagName:Os,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,s.toLowerCase)(t.tagName)===Os},r}(cr);const Ci=Tl;var Uu=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yo=function(){return Yo=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Yo.apply(this,arguments)},El='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',Ts=function(l){Uu(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Yo(Yo({},l.prototype.defaults),{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(El,`>
        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>
      </svg>`),fallback:"<svg ".concat(El,`>
        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>
      </svg>`),file:""})},enumerable:!1,configurable:!0}),r.prototype.initialize=function(t,e){l.prototype.initialize.call(this,t,e);var n=this.get("attributes").src;n&&(0,s.buildBase64UrlFromSvg)((0,i.result)(this,"defaults").src)!==n&&this.set("src",n,{silent:!0})},r.prototype.initToolbar=function(){l.prototype.initToolbar.call(this);var t=this.em;if(t){var e=t.Commands,n="image-editor";if(e.has(n)){for(var o=!1,c=this.get("toolbar"),h=0;h<c.length;h++)if(c[h].command==="image-editor"){o=!0;break}o||(c.push({attributes:{class:"fa fa-pencil"},command:n}),this.set("toolbar",c))}}},r.prototype.getAttrToHTML=function(){var t=l.prototype.getAttrToHTML.call(this),e=this.getSrcResult();return e&&(t.src=e),t},r.prototype.getSrcResult=function(t){t===void 0&&(t={});var e=this.get(t.fallback?"fallback":"src")||"",n=e;return e&&e.substr(0,4)==="<svg"&&(n=(0,s.buildBase64UrlFromSvg)(e)),n},r.prototype.isDefaultSrc=function(){var t=this.get("src"),e=(0,i.result)(this,"defaults").src;return t===e||t===(0,s.buildBase64UrlFromSvg)(e)},r.prototype.toJSON=function(t){var e=l.prototype.toJSON.call(this,t),n=e.attributes;return n&&e.src===n.src&&delete e.src,e},r.prototype.parseUri=function(t){var e={},n=function(o){o===void 0&&(o="");for(var c={},h=o.substring(1).split("&"),m=0;m<h.length;m++){var y=h[m].split("="),C=decodeURIComponent(y[0]);C&&(c[C]=decodeURIComponent(y[1]||""))}return c};if((0,s.hasWin)())e=document.createElement("a"),e.href=t;else if(typeof URL<"u")try{e=new URL(t)}catch{}return{hostname:e.hostname||"",pathname:e.pathname||"",protocol:e.protocol||"",search:e.search||"",hash:e.hash||"",port:e.port||"",query:n(e.search)}},r.isComponent=function(t){return(0,s.toLowerCase)(t.tagName)==="img"},r}(cr);const si=Ts;var Wu=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Fa=function(){return Fa=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Fa.apply(this,arguments)},Pl=function(l){Wu(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Fa(Fa({},l.prototype.defaults),{type:"text",droppable:!1,editable:!0})},enumerable:!1,configurable:!0}),r.prototype.initialize=function(t,e){l.prototype.initialize.call(this,t,e),this.__checkInnerChilds()},r.prototype.__checkInnerChilds=function(){var t=this.em.Components.config.disableTextInnerChilds;if(t){var e=function(n){n.isInstanceOf("textnode")||n.set({locked:!0,layerable:!1})};(0,i.isFunction)(t)?this.forEachChild(function(n){t(n)&&e(n)}):this.forEachChild(e)}},r}(cr);const Va=Pl;var kl=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Mo=function(){return Mo=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Mo.apply(this,arguments)},fo="label",Xi=function(l){kl(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Mo(Mo({},l.prototype.defaults),{type:fo,tagName:fo,traits:["id","title","for"]})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,s.toLowerCase)(t.tagName)===fo},r}(Va);const Al=Xi;var N=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),K=function(){return K=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},K.apply(this,arguments)},pt="link",_t=function(l){N(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return K(K({},l.prototype.defaults),{type:pt,tagName:"a",traits:["title","href","target"]})},enumerable:!1,configurable:!0}),r.isComponent=function(t,e){e===void 0&&(e={});var n;if((0,s.toLowerCase)(t.tagName)==="a"){var o=e.textTags||[];n={type:pt,editable:!1};var c=t.childNodes,h=c.length;h||delete n.editable,(0,i.forEach)(c,function(m){var y=m.tagName;(m.nodeType==3&&m.textContent.trim()!==""||y&&o.indexOf((0,s.toLowerCase)(y))>=0)&&delete n.editable})}return n},r}(Va);const jt=_t;var At=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Gt=function(){return Gt=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Gt.apply(this,arguments)},fe=function(l){At(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){var t=l.prototype.defaults;return Gt(Gt({},t),{type:"map",src:"",void:!1,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:t.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:!0},{type:"select",label:"Map type",name:"mapType",changeProp:!0,options:[{id:"q",label:"Roadmap"},{id:"w",label:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:1,max:20,changeProp:!0}]})},enumerable:!1,configurable:!0}),r.prototype.initialize=function(t,e){this.get("src")?this.parseFromSrc():this.updateSrc(),l.prototype.initialize.call(this,t,e),this.listenTo(this,"change:address change:zoom change:mapType",this.updateSrc)},r.prototype.updateSrc=function(){this.set("src",this.getMapUrl())},r.prototype.getMapUrl=function(){var t=this.get("address"),e=this.get("zoom"),n=this.get("mapType");t=t?"&q="+t:"",e=e?"&z="+e:"",n=n?"&t="+n:"";var o=this.get("mapUrl")+"?"+t+e+n;return o+="&output=embed",o},r.prototype.parseFromSrc=function(){var t=this.parseUri(this.get("src")),e=t.query;e.q&&this.set("address",e.q),e.z&&this.set("zoom",e.z),e.t&&this.set("mapType",e.t)},r.isComponent=function(t){if((0,s.toLowerCase)(t.tagName)=="iframe"&&/maps\.google\.com/.test(t.src))return{type:"map",src:t.src}},r}(si);const ze=fe;var Le=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fn=function(){return fn=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},fn.apply(this,arguments)},Qn="script",Ml=function(l){Le(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return fn(fn({},l.prototype.defaults),{type:Qn,tagName:Qn,droppable:!1,draggable:!1,layerable:!1,highlightable:!1})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,s.toLowerCase)(t.tagName)===Qn},r}(cr);const $u=Ml;var sg=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Gu=function(){return Gu=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Gu.apply(this,arguments)},Ku="svg",sp=function(l){sg(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Gu(Gu({},l.prototype.defaults),{type:Ku,tagName:Ku,highlightable:!1,resizable:{ratioDefault:!0}})},enumerable:!1,configurable:!0}),r.prototype.getName=function(){var t=this.get("tagName"),e=this.get("custom-name");return t=t.charAt(0).toUpperCase()+t.slice(1),e||t},r.isComponent=function(t){return(0,s.toLowerCase)(t.tagName)===Ku},r}(cr);const Es=sp;var lp=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ll=function(){return Ll=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Ll.apply(this,arguments)},lf=function(l){lp(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Ll(Ll({},l.prototype.defaults),{selectable:!1,hoverable:!1,layerable:!1})},enumerable:!1,configurable:!0}),r.isComponent=function(t,e){return e===void 0&&(e={}),!!e.inSvg},r}(Es);const Yu=lf;var up=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ha=function(){return Ha=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Ha.apply(this,arguments)},po="table",cp=function(l){up(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Ha(Ha({},l.prototype.defaults),{type:po,tagName:po,droppable:["tbody","thead","tfoot"]})},enumerable:!1,configurable:!0}),r.prototype.initialize=function(t,e){l.prototype.initialize.call(this,t,e);var n=this.get("components");!n.length&&n.add({type:"tbody"})},r.isComponent=function(t){return(0,s.toLowerCase)(t.tagName)===po},r}(cr);const uf=cp;var cf=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Dl=function(){return Dl=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Dl.apply(this,arguments)},qu="tbody",ff=function(l){cf(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Dl(Dl({},l.prototype.defaults),{type:qu,tagName:qu,draggable:["table"],droppable:["tr"],columns:1,rows:1})},enumerable:!1,configurable:!0}),r.prototype.initialize=function(t,e){l.prototype.initialize.call(this,t,e);var n=this.get("components"),o=this.get("columns"),c=this.get("rows");if(!n.length){for(var h=[];c--;){for(var m=[],y=o;y--;)m.push({type:"cell",classes:["cell"]});h.push({type:"row",classes:["row"],components:m})}n.add(h)}},r.isComponent=function(t){return(0,s.toLowerCase)(t.tagName)===qu},r}(cr);const df=ff;var lg=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xu=function(){return Xu=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Xu.apply(this,arguments)},za=function(l){lg(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Xu(Xu({},l.prototype.defaults),{type:"cell",tagName:"td",draggable:["tr"]})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return["td","th"].indexOf((0,s.toLowerCase)(t.tagName))>=0},r}(cr);const Ps=za;var ks=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),As=function(){return As=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},As.apply(this,arguments)},jl="tfoot",fp=function(l){ks(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return As(As({},l.prototype.defaults),{type:jl,tagName:jl})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,s.toLowerCase)(t.tagName)===jl},r}(df);const pf=fp;var Ba=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),li=function(){return li=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},li.apply(this,arguments)},_r="thead",Zi=function(l){Ba(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return li(li({},l.prototype.defaults),{type:_r,tagName:_r})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,s.toLowerCase)(t.tagName)===_r},r}(df);const Ji=Zi;var Zu=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ju=function(){return Ju=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Ju.apply(this,arguments)},hf="tr",Nl=function(l){Zu(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Ju(Ju({},l.prototype.defaults),{tagName:hf,draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,s.toLowerCase)(t.tagName)===hf},r}(cr);const dp=Nl;var vf=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ua=function(){return Ua=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Ua.apply(this,arguments)},gf="video",Qi="yt",Wa="vi",ta="ytnc",Qu="so",ea=function(l){return l&&l!=="0"},tc=function(l){vf(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Ua(Ua({},l.prototype.defaults),{type:gf,tagName:gf,videoId:"",void:!1,provider:Qu,ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:!1,poster:"",muted:0,autoplay:!1,controls:!0,color:"",list:"",src:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}})},enumerable:!1,configurable:!0}),r.prototype.initialize=function(t,e){this.em=e.em,this.get("src")&&this.parseFromSrc(),this.updatePropsFromAttr(),this.updateTraits(),this.on("change:provider",this.updateTraits),this.on("change:videoId change:provider",this.updateSrc),l.prototype.initialize.call(this,t,e)},r.prototype.updatePropsFromAttr=function(){if(this.get("provider")===Qu){var t=this.get("attributes"),e=t.controls,n=t.autoplay,o=t.loop,c={};(0,s.isDef)(e)&&(c.controls=!!e),(0,s.isDef)(n)&&(c.autoplay=!!n),(0,s.isDef)(o)&&(c.loop=!!o),(0,s.isEmptyObj)(c)||this.set(c)}},r.prototype.updateTraits=function(){var t=this.em,e=this.get("provider"),n="iframe",o;switch(e){case Qi:case ta:o=this.getYoutubeTraits();break;case Wa:o=this.getVimeoTraits();break;default:n="video",o=this.getSourceTraits()}this.set({tagName:n},{silent:!0}),this.set({traits:o}),t.get("ready")&&t.trigger("component:toggled")},r.prototype.parseFromSrc=function(){var t=this.get("provider"),e=this.parseUri(this.get("src")),n=e.query;switch(t){case Qi:case ta:case Wa:this.set("videoId",e.pathname.split("/").pop()),n.list&&this.set("list",n.list),ea(n.autoplay)&&this.set("autoplay",!0),ea(n.loop)&&this.set("loop",!0),parseInt(n.controls)===0&&this.set("controls",!1),ea(n.color)&&this.set("color",n.color),n.rel==="0"&&this.set("rel",0),n.modestbranding==="1"&&this.set("modestbranding",1);break}},r.prototype.updateSrc=function(){var t=this.get("provider"),e="";switch(t){case Qi:e=this.getYoutubeSrc();break;case ta:e=this.getYoutubeNoCookieSrc();break;case Wa:e=this.getVimeoSrc();break}this.set({src:e})},r.prototype.getAttrToHTML=function(){var t=l.prototype.getAttrToHTML.call(this),e=this.get("provider");switch(e){case Qi:case ta:case Wa:break;default:t.loop=!!this.get("loop"),t.autoplay=!!this.get("autoplay"),t.controls=!!this.get("controls")}return t},r.prototype.getProviderTrait=function(){return{type:"select",label:"Provider",name:"provider",changeProp:!0,options:[{value:"so",name:"HTML5 Source"},{value:Qi,name:"Youtube"},{value:ta,name:"Youtube (no cookie)"},{value:Wa,name:"Vimeo"}]}},r.prototype.getSourceTraits=function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:!0},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]},r.prototype.getYoutubeTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:!0},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:!0}]},r.prototype.getVimeoTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:!0},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait()]},r.prototype.getAutoplayTrait=function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:!0}},r.prototype.getLoopTrait=function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:!0}},r.prototype.getControlsTrait=function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:!0}},r.prototype.getYoutubeSrc=function(){var t=this.get("videoId"),e=this.get("ytUrl"),n=this.get("list");return e+=t+(t.indexOf("?")<0?"?":""),e+=n?"&list=".concat(n):"",e+=this.get("autoplay")?"&autoplay=1&mute=1":"",e+=this.get("controls")?"":"&controls=0&showinfo=0",e+=this.get("loop")?"&loop=1&playlist=".concat(t):"",e+=this.get("rel")?"":"&rel=0",e+=this.get("modestbranding")?"&modestbranding=1":"",e},r.prototype.getYoutubeNoCookieSrc=function(){var t=this.getYoutubeSrc();return t=t.replace(this.get("ytUrl"),this.get("ytncUrl")),t},r.prototype.getVimeoSrc=function(){var t=this.get("viUrl");return t+=this.get("videoId")+"?",t+=this.get("autoplay")?"&autoplay=1&muted=1":"",t+=this.get("loop")?"&loop=1":"",t+=this.get("controls")?"":"&title=0&portrait=0&badge=0",t+=this.get("color")?"&color="+this.get("color"):"",t},r.isComponent=function(t){var e=t.tagName,n=t.src,o=/youtube\.com\/embed/.test(n),c=/youtube-nocookie\.com\/embed/.test(n),h=/player\.vimeo\.com\/video/.test(n),m=o||c||h;if((0,s.toLowerCase)(e)==gf||(0,s.toLowerCase)(e)=="iframe"&&m){var y={type:"video"};return n&&(y.src=n),m&&(o?y.provider=Qi:c?y.provider=ta:h&&(y.provider=Wa)),y}},r}(si);const pp=tc;var ec=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),nc=function(){return nc=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},nc.apply(this,arguments)},ug=function(l){ec(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return nc(nc({},l.prototype.defaults),{tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})},enumerable:!1,configurable:!0}),r.prototype.__postAdd=function(){var t,e=(t=this.em)===null||t===void 0?void 0:t.UndoManager;return!this.__hasUm&&(e==null||e.add(this)),l.prototype.__postAdd.call(this)},r.prototype.__postRemove=function(){var t,e=(t=this.em)===null||t===void 0?void 0:t.UndoManager;return e==null||e.remove(this),l.prototype.__postRemove.call(this)},r.isComponent=function(){return!1},r}(cr);const cg=ug;var mf=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yf=function(l){mf(r,l);function r(){var t=l!==null&&l.apply(this,arguments)||this;return t.compView=tr,t}return r.prototype.initialize=function(t){this.opts=t||{},this.config=t.config||{},this.em=this.config.em;var e=this.collection;this.listenTo(e,"add",this.addTo),this.listenTo(e,"reset",this.resetChildren),this.listenTo(e,"remove",this.removeChildren)},r.prototype.removeChildren=function(t,e,n){var o=this;n===void 0&&(n={}),t.views.forEach(function(h){if(h){var m=h.childrenView,y=h.scriptContainer;m&&m.stopListening(),(0,ee.L_)(y),h.remove.apply(h)}});var c=t.components();c.forEach(function(h){return o.removeChildren(h,e,n)})},r.prototype.addTo=function(t,e,n){n===void 0&&(n={});var o=this.em,c=this.collection.indexOf(t);if(this.addToCollection(t,null,c),o&&!n.temporary){var h=function(m){o.trigger("component:add",m),m.components().forEach(function(y){return h(y)})};h(t)}},r.prototype.addToCollection=function(t,e,n){for(var o=this,c=o.config,h=o.opts,m=o.em,y=e||null,C=c.frameView,P=(C==null?void 0:C.model)&&t.getView(C.model),D=h.componentTypes||(m==null?void 0:m.Components.getTypes()),z=t.get("type")||"default",q=this.compView,ot=0;ot<D.length;ot++)if(D[ot].id==z){q=D[ot].view;break}var ft=P||new q({model:t,config:c,componentTypes:D}),xt;try{xt=ft.render().el}catch(de){xt=document.createTextNode(""),m.logError(de)}if(y)y.appendChild(xt);else{var Ft=this.parentEl,Rt=Ft.childNodes;if((0,i.isUndefined)(n))Ft.appendChild(xt);else{var Xt=Rt.length==n;Xt&&n--,Xt||!Rt.length?Ft.appendChild(xt):Ft.insertBefore(xt,Rt[n])}}return t.opt.temporary||m==null||m.trigger("component:mount",t),xt},r.prototype.resetChildren=function(t,e){var n=this,o=e===void 0?{}:e,c=o.previousModels,h=c===void 0?[]:c;this.parentEl.innerHTML="",h.forEach(function(m){return n.removeChildren(m,n.collection)}),t.each(function(m){return n.addToCollection(m)})},r.prototype.render=function(t){var e=this,n=this.el,o=document.createDocumentFragment();return this.parentEl=t||this.el,this.collection.each(function(c){return e.addToCollection(c,o)}),n.innerHTML="",n.appendChild(o),this},r}(O.G7);const $a=yf;var Il=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xi=function(){return xi=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},xi.apply(this,arguments)},rc=function(l){Il(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.className=function(){return this.getClasses()},r.prototype.tagName=function(){return this.model.get("tagName")},r.prototype.preinitialize=function(t){t===void 0&&(t={}),this.opts=t},r.prototype.initialize=function(t){t===void 0&&(t={});var e=this.model,n=t.config||{},o=n.em,c=e.opt||{},h=this,m=h.$el,y=h.el;this.opts=t,this.modelOpt=c,this.config=n,this.em=o,this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.attr=e.get("attributes"),this.classe=this.attr.class||[],this.listenTo(e,"change:style",this.updateStyle),this.listenTo(e,"change:attributes",this.renderAttributes),this.listenTo(e,"change:highlightable",this.updateHighlight),this.listenTo(e,"change:status change:locked",this.updateStatus),this.listenTo(e,"change:script rerender",this.reset),this.listenTo(e,"change:content",this.updateContent),this.listenTo(e,"change",this.handleChange),this.listenTo(e,"active",this.onActive),this.listenTo(e,"disable",this.onDisable),m.data("model",e),(0,s.setViewEl)(y,this),e.view=this,this.frameView&&e.views.push(this),this.initClasses(),this.initComponents({avoidRender:!0}),this.events=xi(xi({},this.constructor.getEvents()),{dragstart:"handleDragStart"}),this.delegateEvents(),!c.temporary&&this.init(this._clbObj())},Object.defineProperty(r.prototype,"__cmpStyleOpts",{get:function(){return{state:"",mediaText:""}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"frameView",{get:function(){return this.opts.config.frameView},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"createDoc",{get:function(){var t,e,n=((t=this.frameView)===null||t===void 0?void 0:t.getDoc())||document;return!((e=this.opts.config)===null||e===void 0)&&e.useFrameDoc?n:document},enumerable:!1,configurable:!0}),r.prototype.__isDraggable=function(){var t=this,e=t.model,n=t.config,o=e.attributes.draggable;return n.draggableComponents&&o},r.prototype._clbObj=function(){var t=this,e=t.em,n=t.model,o=t.el;return{editor:e==null?void 0:e.getEditor(),model:n,el:o}},r.prototype.init=function(t){},r.prototype.removed=function(t){},r.prototype.onRender=function(t){},r.prototype.onActive=function(t){},r.prototype.onDisable=function(t){},r.prototype.remove=function(){var t;l.prototype.remove.call(this);var e=this,n=e.model,o=e.$el,c=n.views,h=this.frameView||{};return n.components().forEach(function(m){var y=m.getView(h.model);y==null||y.remove()}),(t=this.childrenView)===null||t===void 0||t.remove(),c.splice(c.indexOf(this),1),this.removed(this._clbObj()),o.data({model:"",collection:"",view:""}),this},r.prototype.handleDragStart=function(t){if(!this.__isDraggable())return!1;t.stopPropagation(),t.preventDefault(),this.em.Commands.run("tlb-move",{target:this.model,event:t})},r.prototype.initClasses=function(){var t=this.model,e=t.classes,n="change:classes";e instanceof Wo&&(this.stopListening(t,n,this.initClasses),this.listenTo(t,n,this.initClasses),this.listenTo(e,"add remove change reset",this.updateClasses),e.length&&this.importClasses())},r.prototype.initComponents=function(t){t===void 0&&(t={});var e=this,n=e.model,o=e.$el,c=e.childrenView,h="change:components",m=n.get("components"),y=[n,h,this.initComponents];m instanceof ko&&(o.data("collection",m),c&&c.remove(),this.stopListening.apply(this,y),!t.avoidRender&&this.renderChildren(),this.listenTo.apply(this,y))},r.prototype.handleChange=function(){var t=this.model,e=(0,i.keys)(t.changed);if(!(e.length===1&&e[0]==="status")){t.emitUpdate();for(var n in t.changed)t.emitUpdate(n)}},r.prototype.importClasses=function(){var t=this,e=t.em,n=t.model,o=e.Selectors;o&&n.classes.forEach(function(c){return o.add(c.getName())})},r.prototype.updateStatus=function(t){t===void 0&&(t={});var e=this,n=e.em,o=e.el,c=e.ppfx,h=e.model,m=n==null?void 0:n.Canvas,y=m==null?void 0:m.config.extHl,C=h.get("status"),P="".concat(c,"selected"),D="".concat(P,"-parent"),z="".concat(c,"freezed"),q="".concat(c,"hovered"),ot="".concat(c,"no-pointer"),ft="".concat(c,"pointer-init"),xt=[P,D,z,q,ot],Ft=y&&!t.noExtHl?"":P;this.$el.removeClass(xt.join(" "));var Rt=o.getAttribute("class")||"",Xt=[Rt],de=!(m!=null&&m.hasCustomSpot(rn.q.Select)),Oe=!(m!=null&&m.hasCustomSpot(rn.q.Target));switch(C){case"selected":de&&Xt.push(Ft);break;case"selected-parent":Oe&&Xt.push(D);break;case"freezed":Xt.push(z);break;case"freezed-selected":Xt.push(z),de&&Xt.push(Ft);break;case"hovered":!t.avoidHover&&Xt.push(q);break}(0,i.isBoolean)(h.locked)&&Xt.push(h.locked?ot:ft);var De=Xt.filter(Boolean).join(" ");De&&o.setAttribute("class",De)},r.prototype.updateHighlight=function(){var t=this.model,e=t.get("textable"),n=t.get("highlightable")&&(e||!t.isChildOf("text"));this.setAttribute("data-gjs-highlightable",n?!0:"")},r.prototype.updateStyle=function(t,e,n){n===void 0&&(n={});var o=this,c=o.model,h=o.em;if(Ki(h)&&!n.inline){var m=this.__cmpStyleOpts,y=c.getStyle(m);!(0,i.isEmpty)(y)&&c.setStyle(y,m)}else this.setAttribute("style",c.styleToString(n))},r.prototype.updateClasses=function(){var t=this.model.classes.pluck("name").join(" ");this.setAttribute("class",t),this.updateStatus(),this.onAttrUpdate()},r.prototype.setAttribute=function(t,e){var n=this.$el;e?n.attr(t,e):n.removeAttr(t)},r.prototype.getClasses=function(){return this.model.getClasses().join(" ")},r.prototype.updateAttributes=function(){var t=[],e=this,n=e.model,o=e.$el,c=e.el,h=n.attributes,m=h.textable,y=h.type,C=xi(xi({id:n.getId(),"data-gjs-type":y||"default"},this.__isDraggable()&&{draggable:!0}),m&&{contenteditable:"false"});(0,i.each)(c.attributes,function(D){return t.push(D.nodeName)}),t.forEach(function(D){return o.removeAttr(D)}),this.updateStyle(),this.updateHighlight();var P=xi(xi({},C),n.getAttributes());(0,i.keys)(P).forEach(function(D){return P[D]===!1&&delete P[D]}),o.attr(P)},r.prototype.updateContent=function(){var t=this.model.content,e=this.model.components().length;this.getChildrenContainer().innerHTML=e?"":t},r.prototype.prevDef=function(t){t.preventDefault()},r.prototype.updateScript=function(){var t=this,e=t.model,n=t.em;e.get("script")&&(n==null||n.Canvas.getCanvasView().updateScript(this))},r.prototype.getChildrenContainer=function(){var t=this.el;return typeof this.getChildrenSelector=="function"?t=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,t},r.prototype.getOffsetRect=function(){var t={top:0,left:0,bottom:0,right:0},e=this.el,n=0,o=0,c=function(h){var m=h.offsetParent;m?(n+=m.offsetTop,o+=m.offsetLeft,c(m)):(t.top=e.offsetTop+n,t.left=e.offsetLeft+o,t.bottom=t.top+e.offsetHeight,t.right=t.left+e.offsetWidth)};return c(e),t},r.prototype.isInViewport=function(){var t=this,e=t.el,n=t.em,o=t.frameView,c=n.Canvas.getCanvasView(),h=c.getElBoxRect(e,{local:!0}),m=o.el,y=m.clientHeight,C=m.clientWidth,P=h.y,D=h.x,z=P+h.height,q=D+h.width,ot=P>=0&&P<y,ft=z>0&&z<y,xt=q>=0&&q<C,Ft=D>0&&D<=C,Rt=(ot||ft)&&(xt||Ft);return Rt},r.prototype.scrollIntoView=function(t){var e;t===void 0&&(t={});var n=this.isInViewport();if(!n||t.force){var o=this.el;if(t.behavior!=="smooth"){var c=this.getOffsetRect();(e=o.ownerDocument.defaultView)===null||e===void 0||e.scrollTo(0,c.top)}else o.scrollIntoView(xi({behavior:"smooth",block:"nearest"},t))}},r.prototype.reset=function(){var t=this.el;this.el="",this._ensureElement(),this._setData(),(0,ee.dL)(t,this.el),this.render()},r.prototype._setData=function(){var t=this.model,e=t.components(),n=this;this.$el.data({model:t,collection:e,view:n})},r.prototype._createElement=function(t){return this.createDoc.createElement(t)},r.prototype.renderChildren=function(){this.updateContent();var t=this.getChildrenContainer(),e=this.childrenView||new $a({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});e.render(t),this.childrenView=e;for(var n=Array.prototype.slice.call(e.el.childNodes),o=0,c=n.length;o<c;o++)t.appendChild(n.shift())},r.prototype.renderAttributes=function(){this.updateAttributes(),this.updateClasses()},r.prototype.onAttrUpdate=function(){},r.prototype.render=function(){return this.renderAttributes(),this.modelOpt.temporary?this:(this.renderChildren(),this.updateScript(),(0,s.setViewEl)(this.el,this),this.postRender(),this)},r.prototype.postRender=function(){this.modelOpt.temporary||this.onRender(this._clbObj())},r.getEvents=function(){return(0,i.result)(this.prototype,"events")},r}(O.G7);const tr=rc;var Rl=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hp=function(l){Rl(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype._setAttributes=function(){},r.prototype.renderAttributes=function(){},r.prototype.updateStatus=function(){},r.prototype.updateClasses=function(){},r.prototype.setAttribute=function(){},r.prototype.updateAttributes=function(){},r.prototype.initClasses=function(){},r.prototype.initComponents=function(){},r.prototype.delegateEvents=function(){return this},r.prototype._createElement=function(){return document.createTextNode("")},r.prototype.render=function(){var t=this,e=t.model,n=t.el;return e.opt.temporary?this:(n.textContent=e.content,this)},r}(tr);const na=hp;var Fl=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ga=function(l){Fl(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype._createElement=function(){return document.createComment(this.model.content)},r}(na);const Vl=Ga;var Ms=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vp=function(l){Ms(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.tagName=function(){return"div"},r.prototype.initialize=function(t){l.prototype.initialize.call(this,t),this.listenTo(this.model,"change:attributes:src",this.updateSrc)},r.prototype.updateSrc=function(){var t=(0,ee.sE)(this.el,"iframe")[0];t&&(0,ee.FW)(t,{src:this.__getSrc()})},r.prototype.render=function(){l.prototype.render.call(this);var t=(0,ee.ut)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(t),this},r.prototype.__getSrc=function(){return this.model.getAttributes().src||""},r}(tr);const gp=vp;var mp=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fg=function(l){mp(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.tagName=function(){return"img"},r.prototype.events=function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}},r.prototype.initialize=function(t){l.prototype.initialize.call(this,t),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()},r.prototype.fetchFile=function(){if(!this.modelOpt.temporary){var t=this,e=t.model,n=t.em,o=e.get("file");if(o&&n){var c=n.Assets.FileUploader();c==null||c.uploadFile({dataTransfer:{files:[o]}},function(h){var m=h&&h.data&&h.data[0],y=m&&((0,i.isString)(m)?m:m.src);y&&e.set({src:y})}),e.set("file","")}}},r.prototype.updateSrc=function(){var t=this.model;t.addAttributes({src:t.getSrcResult()}),this.updateClasses()},r.prototype.updateClasses=function(){l.prototype.updateClasses.call(this);var t=this,e=t.el,n=t.classEmpty,o=t.model,c=o.getSrcResult()&&!o.isDefaultSrc(),h=c?"remove":"add";e.classList[h](n)},r.prototype.onActive=function(t){t==null||t.stopPropagation();var e=this,n=e.em,o=e.model,c=n==null?void 0:n.Assets;c&&o.get("editable")&&c.open({select:function(h,m){o.set({src:h.getSrc()}),m&&c.close()},target:o,types:["image"],accept:"image/*"})},r.prototype.onError=function(){var t=this.model.getSrcResult({fallback:!0});t&&(this.el.src=t)},r.prototype.onLoad=function(){this.em.Canvas.refresh({all:!0})},r.prototype.noDrag=function(t){return t.preventDefault(),!1},r.prototype.render=function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var t=this,e=t.$el,n=t.model,o=e.attr("class")||"";return!n.get("src")&&e.attr("class","".concat(o," ").concat(this.classEmpty).trim()),this.postRender(),this},r}(tr);const Si=fg;var Ka=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Hl=function(){return Hl=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Hl.apply(this,arguments)},oc=function(l,r,t,e){function n(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function h(C){try{y(e.next(C))}catch(P){c(P)}}function m(C){try{y(e.throw(C))}catch(P){c(P)}}function y(C){C.done?o(C.value):n(C.value).then(h,m)}y((e=e.apply(l,r||[])).next())})},ic=function(l,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,n,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(y){return function(C){return m([y,C])}}function m(y){if(e)throw new TypeError("Generator is already executing.");for(;c&&(c=0,y[0]&&(t=0)),t;)try{if(e=1,n&&(o=y[0]&2?n.return:y[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,y[1])).done)return o;switch(n=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,n=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){t.label=y[1];break}if(y[0]===6&&t.label<o[1]){t.label=o[1],o=y;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(y);break}o[2]&&t.ops.pop(),t.trys.pop();continue}y=r.call(l,t)}catch(C){y=[6,C],n=0}finally{e=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},dg=function(l){Ka(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.events=function(){return{dblclick:"onActive",input:"onInput"}},r.prototype.initialize=function(t){l.prototype.initialize.call(this,t),(0,i.bindAll)(this,"disableEditing","onDisable");var e=this.model,n=this.em;this.listenTo(e,"focus",this.onActive),this.listenTo(e,"change:content",this.updateContentText),this.listenTo(e,"sync:content",this.syncContent),this.rte=n==null?void 0:n.RichTextEditor},r.prototype.updateContentText=function(t,e,n){n===void 0&&(n={}),!n.fromDisable&&this.disableEditing()},r.prototype.canActivate=function(){var t=this,e=t.model,n=t.rteEnabled,o=t.em,c=o==null?void 0:o.getEditing(),h=c===e,m=!0,y=!1,C;if((n||!e.get("editable")||h||(y=e.isChildOf("text")))&&(m=!1,y&&!e.get("textable"))){for(var P=e.parent();P&&!P.isInstanceOf("text");)P=P.parent();P&&P.get("editable")?C=P:m=!0}return{result:m,delegate:C}},r.prototype.onActive=function(t){var e,n;return oc(this,void 0,void 0,function(){var o,c,h,m,y,C,P,D,z;return ic(this,function(q){switch(q.label){case 0:return o=this,c=o.rte,h=o.em,m=this.canActivate(),y=m.result,C=m.delegate,y?((n=t==null?void 0:t.stopPropagation)===null||n===void 0||n.call(t),P=this,[4,this.getContent()]):(C&&((e=t==null?void 0:t.stopPropagation)===null||e===void 0||e.call(t),h.setSelected(C),C.trigger("active",t)),[2]);case 1:if(P.lastContent=q.sent(),!c)return[3,5];q.label=2;case 2:return q.trys.push([2,4,,5]),D=this,[4,c.enable(this,this.activeRte,{event:t})];case 3:return D.activeRte=q.sent(),[3,5];case 4:return z=q.sent(),h.logError(z),[3,5];case 5:return this.toggleEvents(!0),[2]}})})},r.prototype.onDisable=function(t){this.disableEditing(t)},r.prototype.disableEditing=function(t){return t===void 0&&(t={}),oc(this,void 0,void 0,function(){var e,n,o,c,h,m,y,C;return ic(this,function(P){switch(P.label){case 0:if(e=this,n=e.model,o=e.rte,c=e.activeRte,h=e.em,m=n&&n.get("editable"),!o)return[3,8];P.label=1;case 1:return P.trys.push([1,3,,4]),[4,o.disable(this,c,t)];case 2:return P.sent(),[3,4];case 3:return y=P.sent(),h.logError(y),[3,4];case 4:return C=m,C?[4,this.getContent()]:[3,6];case 5:C=P.sent()!==this.lastContent,P.label=6;case 6:return C?[4,this.syncContent(t)]:[3,8];case 7:P.sent(),this.lastContent="",P.label=8;case 8:return this.toggleEvents(),[2]}})})},r.prototype.getContent=function(){return oc(this,void 0,void 0,function(){var t,e,n,o;return ic(this,function(c){switch(c.label){case 0:return t=this,e=t.rte,n=t.activeRte,o="",e?[4,e.getContent(this,n)]:[3,2];case 1:o=c.sent(),c.label=2;case 2:return[2,o]}})})},r.prototype.syncContent=function(t){return t===void 0&&(t={}),oc(this,void 0,void 0,function(){var e,n,o,c,h,m,y;return ic(this,function(C){switch(C.label){case 0:return e=this,n=e.model,o=e.rte,c=e.rteEnabled,!c&&!t.force?[2]:[4,this.getContent()];case 1:return h=C.sent(),m=n.components(),y=Hl({fromDisable:1},t),n.set("content","",y),o!=null&&o.customRte&&!o.customRte.parseContent?(m.length&&m.reset(void 0,Hl(Hl({},t),{keepIds:so(m)})),n.set("content",h,y)):m.resetFromString(h,t),[2]}})})},r.prototype.insertComponent=function(t,e){var n;e===void 0&&(e={});var o=this,c=o.model,h=o.el,m=h.ownerDocument,y=m.getSelection();if(y!=null&&y.rangeCount){var C=y.getRangeAt(0),P=C.startContainer,D=C.startOffset,z=(0,s.getComponentModel)(P),q=[];if(z&&(!((n=z.is)===null||n===void 0)&&n.call(z,"textnode"))){var ot=z.collection;ot.forEach(function(Ft){if(Ft===z){var Rt="textnode",Xt=e.useDomContent?P.textContent||"":Ft.content;q.push({type:Rt,content:Xt.slice(0,D)}),q.push(t),q.push({type:Rt,content:Xt.slice(D)})}else q.push(Ft)});var ft=q.filter(Boolean),xt=ft.indexOf(t);return ot.reset(ft,e),ot.at(xt)}}return c.append(t,e)},r.prototype.onInput=function(){var t=this.em,e="component",n=["".concat(e,":update"),"".concat(e,":input")].join(" ");t&&t.trigger(n,this.model)},r.prototype.disablePropagation=function(t){t.stopPropagation()},r.prototype.toggleEvents=function(t){var e=this,n=e.em,o=e.model,c=e.$el,h={on:ee.on,off:ee.S1},m=t?"on":"off";n.setEditing(t?this:!1),this.rteEnabled=!!t;var y=[this.el.ownerDocument,document];if(h.off(y,"mousedown",this.onDisable),h[m](y,"mousedown",this.onDisable),n[m]("toolbar:run:before",this.onDisable),o&&(o[m]("removed",this.onDisable),o.trigger("rte:".concat(t?"enable":"disable"))),c==null||c.off("mousedown",this.disablePropagation),c&&c[m]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var C=this.el;C;)C.draggable=!t,C=C.parentNode,C&&C.tagName=="BODY"&&(C=0)},r}(tr);const yp=dg;var pg=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qr=function(l){pg(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.render=function(){return l.prototype.render.call(this),this.el.addEventListener("click",this.prevDef,!0),this},r}(yp);const er=Qr;var kr=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rr=function(l){kr(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r}(er);const zl=rr;var hg=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ac=function(l){hg(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.tagName=function(){return"div"},r.prototype.events=function(){return{}},r.prototype.initialize=function(t){l.prototype.initialize.call(this,t),this.classEmpty=this.ppfx+"plh-map"},r.prototype.updateSrc=function(){this.getIframe().src=this.model.get("src")},r.prototype.getIframe=function(){if(!this.iframe){var t=document.createElement("iframe");t.src=this.model.get("src"),t.frameBorder="0",t.style.height="100%",t.style.width="100%",t.className=this.ppfx+"no-pointer",this.iframe=t}return this.iframe},r.prototype.render=function(){return l.prototype.render.call(this),this.updateClasses(),this.el.appendChild(this.getIframe()),this},r}(Si);const vg=ac;var gg=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),mg=function(l){gg(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.tagName=function(){return"script"},r.prototype.events=function(){return{}},r}(tr);const _f=mg;var _p=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wf=function(l){_p(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype._createElement=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)},r}(tr);const wp=wf;var bf=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Cf=function(l){bf(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r}(tr);const bp=Cf;var Cp=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xf=function(l){Cp(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r}(tr);const xp=xf;var Bl=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yg=function(l){Bl(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r}(tr);const sc=yg;var Oi=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Sp=function(l){Oi(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r}(tr);const _g=Sp;var Op=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ho=function(l){Op(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r}(tr);const dn=ho;var qo=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ra=function(l){qo(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.events=function(){return{}},r}(tr);const oa=ra;var Tp=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Sf=function(l){Tp(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.tagName=function(){return"div"},r.prototype.events=function(){return{}},r.prototype.initialize=function(){tr.prototype.initialize.apply(this,arguments);var t=this.model,e=["loop","autoplay","controls","color","rel","modestbranding","poster"],n=e.map(function(o){return"change:".concat(o)}).join(" ");this.listenTo(t,"change:provider",this.updateProvider),this.listenTo(t,"change:src",this.updateSrc),this.listenTo(t,n,this.updateVideo)},r.prototype.updateProvider=function(){var t=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(t))},r.prototype.updateSrc=function(){var t=this,e=t.model,n=t.videoEl;if(n){var o=e.get("provider"),c=e.get("src");switch(o){case"yt":c=e.getYoutubeSrc();break;case"ytnc":c=e.getYoutubeNoCookieSrc();break;case"vi":c=e.getVimeoSrc();break}n.src=c}},r.prototype.updateVideo=function(){var t=this,e=t.model,n=t.videoEl,o=e.get("provider");switch(o){case"yt":case"ytnc":case"vi":e.trigger("change:videoId");break;default:if(n){var c=n;c.loop=e.get("loop"),c.autoplay=e.get("autoplay"),c.controls=e.get("controls"),c.poster=e.get("poster")}}},r.prototype.renderByProvider=function(t){var e;switch(t){case"yt":e=this.renderYoutube();break;case"ytnc":e=this.renderYoutubeNoCookie();break;case"vi":e=this.renderVimeo();break;default:e=this.renderSource()}return this.videoEl=e,e},r.prototype.renderSource=function(){var t=document.createElement("video");return t.src=this.model.get("src"),this.initVideoEl(t),t},r.prototype.renderYoutube=function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},r.prototype.renderYoutubeNoCookie=function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeNoCookieSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},r.prototype.renderVimeo=function(){var t=document.createElement("iframe");return t.src=this.model.getVimeoSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},r.prototype.initVideoEl=function(t){t.className=this.ppfx+"no-pointer",t.style.height="100%",t.style.width="100%"},r.prototype.render=function(){tr.prototype.render.apply(this),this.updateClasses();var t=this.model.get("provider");return this.el.appendChild(this.renderByProvider(t)),this.updateVideo(),this},r}(Si);const Ep=Sf;var wg=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Of=function(l){wg(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.tagName=function(){return"div"},r}(tr);const Ul=Of;var Pp=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ar=function(){return Ar=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Ar.apply(this,arguments)},ia=function(l,r){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&r.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(l);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(l,e[n])&&(t[e[n]]=l[e[n]]);return t},Ls;(function(l){l[l.InvalidSource=0]="InvalidSource",l[l.SourceReject=1]="SourceReject",l[l.TargetReject=2]="TargetReject"})(Ls||(Ls={}));var kp=function(l){Pp(r,l);function r(t){var e=l.call(this,t,"DomComponents",new ko(void 0,{em:t}))||this;e.componentTypes=[{id:"cell",model:Ps,view:xp},{id:"row",model:dp,view:dn},{id:"table",model:uf,view:oa},{id:"thead",model:Ji,view:_g},{id:"tbody",model:df,view:bp},{id:"tfoot",model:pf,view:sc},{id:"map",model:ze,view:vg},{id:"link",model:jt,view:er},{id:"label",model:Al,view:zl},{id:"video",model:pp,view:Ep},{id:"image",model:si,view:Si},{id:"script",model:$u,view:_f},{id:"svg-in",model:Yu,view:wp},{id:"svg",model:Es,view:wp},{id:"iframe",model:Ci,view:gp},{id:"comment",model:qi,view:Vl},{id:"textnode",model:Ra,view:na},{id:"text",model:Va,view:yp},{id:"wrapper",model:cg,view:Ul},{id:"default",model:cr,view:tr}],e.componentsById={},e.Component=cr,e.Components=ko,e.ComponentView=tr,e.ComponentsView=$a,e.storageKey="components",t&&(e.config.components=t.config.components||e.config.components);for(var n in I)n in e.config||(e.config[n]=I[n]);var o=e.config.pStylePrefix;if(o&&(e.config.stylePrefix=o+e.config.stylePrefix),t){t.get("Parser").compTypes=e.componentTypes,t.on("change:componentHovered",e.componentHovered,e);var c=t.get("selected");t.listenTo(c,"add",function(h,m,y){return e.selectAdd(c.getComponent(h),y)}),t.listenTo(c,"remove",function(h,m,y){return e.selectRemove(c.getComponent(h),y)})}return e}return r.prototype.load=function(t){var e=this;return this.loadProjectData(t,{onResult:function(n){var o=e.getWrapper();if(o||(e.em.Pages.add({},{select:!0}),o=e.getWrapper()),(0,i.isArray)(n))n.length&&o.components(n);else{var c=n.components,h=c===void 0?[]:c,m=ia(n,["components"]);o.set(m),o.components(h)}}})},r.prototype.store=function(){return{}},r.prototype.getComponent=function(){var t=this.em.Pages.getSelected(),e=t==null?void 0:t.getMainFrame();return e==null?void 0:e.getComponent()},r.prototype.getWrapper=function(){return this.getComponent()},r.prototype.getComponents=function(){var t=this.getWrapper();return t==null?void 0:t.components()},r.prototype.addComponent=function(t,e){return e===void 0&&(e={}),this.getComponents().add(t,e)},r.prototype.render=function(){var t;return(t=this.componentView)===null||t===void 0?void 0:t.render().el},r.prototype.clear=function(t){t===void 0&&(t={});var e=this.getComponents();return e==null||e.filter(Boolean).forEach(function(n){return n.remove(t)}),this},r.prototype.setComponents=function(t,e){e===void 0&&(e={}),this.clear(e).addComponent(t,e)},r.prototype.addType=function(t,e){var n=this.em,o=e.model,c=o===void 0?{}:o,h=e.view,m=h===void 0?{}:h,y=e.isComponent,C=e.extend,P=e.extendView,D=e.extendFn,z=D===void 0?[]:D,q=e.extendFnView,ot=q===void 0?[]:q,ft=this.getType(t),xt=this.getType(C),Ft=this.getType(P),Rt=xt||ft||this.getType("default"),Xt=Rt.model,de=Ft?Ft.view:Rt.view,Oe=function(Fe,Ye,yn){return Fe.reduce(function(se,Sr){var rs=Ye[Sr],os=yn.prototype[Sr];return rs&&os&&(se[Sr]=function(){for(var da=[],Ro=0;Ro<arguments.length;Ro++)da[Ro]=arguments[Ro];os.bind(this).apply(void 0,da),rs.bind(this).apply(void 0,da)}),se},{})};if(typeof c=="object"){var De={defaults:c.defaults};delete c.defaults,e.model=Xt.extend(Ar(Ar({},c),Oe(z,c,Xt)),{isComponent:ft&&!xt&&!y?Xt.isComponent:y||function(){return 0}}),Object.defineProperty(e.model.prototype,"defaults",{get:function(){return Ar(Ar({},(0,i.result)(Xt.prototype,"defaults")||{}),(0,i.result)(De,"defaults")||{})}})}typeof m=="object"&&(e.view=de.extend(Ar(Ar({},m),Oe(ot,m,de)))),ft?(ft.model=e.model,ft.view=e.view):(e.id=t,this.componentTypes.unshift(e));var pe="component:type:".concat(ft?"update":"add");return n==null||n.trigger(pe,ft||e),this},r.prototype.getType=function(t){for(var e=this.componentTypes,n=0;n<e.length;n++){var o=e[n].id;if(o==t)return e[n]}},r.prototype.removeType=function(t){var e=this.componentTypes,n=this.getType(t);if(n){var o=e.indexOf(n);return e.splice(o,1),n}},r.prototype.getTypes=function(){return this.componentTypes},r.prototype.selectAdd=function(t,e){var n=this;e===void 0&&(e={}),t&&(t.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(o){return n.em.trigger(o,t,e)}))},r.prototype.selectRemove=function(t,e){var n=this;e===void 0&&(e={}),t&&(this.em,t.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(o){return n.em.trigger(o,t,e)}))},r.prototype.componentHovered=function(){var t=this.em,e=t.get("componentHovered"),n=t.previous("componentHovered"),o="hovered";n&&n.get("status")==o&&n.set({status:"",state:""}),e&&(0,i.isEmpty)(e.get("status"))&&e.set("status",o)},r.prototype.getShallowWrapper=function(){var t=this,e=t.shallow,n=t.em;if(!e&&n){var o=n.shallow;if(!o)return;var c=o.Components;if(c.componentTypes=this.componentTypes,e=c.getWrapper(),e){var h=[Na,Yi].join(" ");e.on(h,(0,i.debounce)(function(){return e==null?void 0:e.components("")},100))}this.shallow=e}return e},r.prototype.isComponent=function(t){return(0,s.isComponent)(t)},r.prototype.canMove=function(t,e,n){var o={result:!1,reason:Ls.InvalidSource,target:t,source:null};if(!e||!t)return o;var c=(0,s.isComponent)(e)?e:null;if(!c){var h=this.getShallowWrapper();c=(h==null?void 0:h.append(e)[0])||null}if(o.source=c,!c)return o;var m=c.get("draggable");if((0,i.isFunction)(m))m=!!m(c,t,n);else{var y=t.getEl();m=(0,i.isArray)(m)?m.join(","):m,m=(0,i.isString)(m)?y==null?void 0:y.matches(m):m}if(!m)return Ar(Ar({},o),{reason:Ls.SourceReject});var C=t.get("droppable");if((0,i.isFunction)(C))C=!!C(c,t,n);else if(C===!1&&t.isInstanceOf("text")&&c.get("textable"))C=!0;else{var y=c.getEl();C=(0,i.isArray)(C)?C.join(","):C,C=(0,i.isString)(C)?y==null?void 0:y.matches(C):C}var P=[t].concat(t.parents()).indexOf(c)>-1;return!C||P?Ar(Ar({},o),{reason:Ls.TargetReject}):Ar(Ar({},o),{result:!0})},r.prototype.allById=function(){return this.componentsById},r.prototype.getById=function(t){return this.componentsById[t]||null},r.prototype.destroy=function(){var t,e=this.allById();Object.keys(e).forEach(function(n){return e[n]&&e[n].remove()}),(t=this.componentView)===null||t===void 0||t.remove(),[this.em,this.componentsById,this.componentView].forEach(function(n){return{}})},r}(G);const bg=kp;var lc={stylePrefix:"css-",rules:[]};const Tf=lc;var Ap=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Cg=Number.MAX_VALUE,Mp=function(l){var r=/(-?\d*\.?\d+)\w{0,}/.exec(l);return r?r[0]:""},xg=function(l){Ap(r,l);function r(){var t=l.call(this)||this;return(0,i.bindAll)(t,"sortRules"),t.compCls=[],t.ids=[],t}return r.prototype.buildFromModel=function(t,e){var n=this;e===void 0&&(e={});var o="",c=this.em,h=c&&c.getConfig().avoidInlineStyle,m=t.styleToString(),y=t.classes;this.ids.push("#".concat(t.getId())),y.forEach(function(P){return n.compCls.push(P.getFullName())}),!h&&m&&(o="#".concat(t.getId(),"{").concat(m,"}"));var C=t.components();return C.forEach(function(P){return o+=n.buildFromModel(P,e)}),o},r.prototype.build=function(t,e){var n=this;e===void 0&&(e={});var o=e.json,c=e.em,h=e.cssc||(c==null?void 0:c.Css);this.em=c,this.compCls=[],this.ids=[],this.model=t;var m=[],y=t?this.buildFromModel(t,e):"",C=(0,i.isUndefined)(e.clearStyles)&&c?c.getConfig().clearStyles:e.clearStyles;if(h){var P=e.rules||h.getAll(),D={},z=[];e.onlyMatched&&t&&(0,s.hasWin)()&&(P=this.matchedRules(t,P)),P.forEach(function(q){var ot=q.getAtRule();if(ot){var ft=D[ot];ft?ft.push(q):D[ot]=[q];return}var xt=n.buildFromRule(q,z,e);o?m.push(xt):y+=xt}),this.sortMediaObject(D).forEach(function(q){var ot="",ft=q.key,xt=q.value;xt.forEach(function(Ft){var Rt=n.buildFromRule(Ft,z,e);Ft.get("singleAtRule")?y+="".concat(ft,"{").concat(Rt,"}"):ot+=Rt,o&&m.push(Rt)}),ot&&(y+="".concat(ft,"{").concat(ot,"}"))}),c&&C&&P.remove&&P.remove(z)}return o?m.filter(function(q){return q}):y},r.prototype.buildFromRule=function(t,e,n){var o=this,c;n===void 0&&(n={});var h="",m=this.model,y=t.selectorsToString({skipAdd:1}),C=t.get("selectorsAdd"),P=t.get("singleAtRule"),D;if((c=t.get("selectors"))===null||c===void 0||c.forEach(function(q){var ot=q.getFullName();(o.compCls.indexOf(ot)>=0||o.ids.indexOf(ot)>=0||n.keepUnusedStyles)&&(D=1)}),y&&D||C||P||!m){var z=t.getDeclaration({body:1});z&&(n.json?h=t:h+=z)}else e.push(t);return h},r.prototype.matchedRules=function(t,e){var n=this,o=t.getEl(),c=[];return e.forEach(function(h){try{h.selectorsToString().split(",").some(function(m){return o==null?void 0:o.matches(n.__cleanSelector(m))})&&c.push(h)}catch{}}),t.components().forEach(function(h){c=c.concat(n.matchedRules(h,e))}),c=c.filter(function(h,m){return c.indexOf(h)===m}),c},r.prototype.getQueryLength=function(t){var e=/(-?\d*\.?\d+)\w{0,}/.exec(t);return e?parseFloat(e[1]):Cg},r.prototype.sortMediaObject=function(t){var e=this;t===void 0&&(t={});var n=[];return(0,i.each)(t,function(o,c){return n.push({key:c,value:o})}),n.sort(function(o,c){var h=[o.key,c.key].every(function(C){return C.indexOf("min-width")!==-1}),m=h?o.key:c.key,y=h?c.key:o.key;return e.getQueryLength(m)-e.getQueryLength(y)})},r.prototype.sortRules=function(t,e){var n=function(m){return m.get("mediaText")||""},o=[n(t),n(e)].every(function(m){return m.indexOf("min-width")!==-1}),c=n(o?t:e),h=n(o?e:t);return this.getQueryLength(c)-this.getQueryLength(h)},r.prototype.__cleanSelector=function(t){return t.split(" ").map(function(e){return e.split(":")[0]}).join(" ")},r}(O.Hn);const Sg=xg;var uc=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ds=function(){return Ds=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Ds.apply(this,arguments)},Og=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},Ef=((0,s.hasWin)()?window:{}).CSS,Lp=function(l){uc(r,l);function r(t,e){e===void 0&&(e={});var n=l.call(this,t)||this;return n.config=t||{},n.opt=e,n.em=e.em,n.ensureSelectors(null,null,{}),n.on("change",n.__onChange),n}return r.prototype.defaults=function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}},r.prototype.__onChange=function(t,e){var n=this.em,o=this.changedAttributes();o&&!(0,s.isEmptyObj)(o)&&(n==null||n.changesUp(e))},r.prototype.clone=function(){var t=Ds({},this.opt),e=Ds({},this.attributes);return e.selectors=this.get("selectors").map(function(n){return n.clone()}),new this.constructor(e,t)},r.prototype.ensureSelectors=function(t,e,n){var o=this.em,c=o==null?void 0:o.get("SelectorManager"),h=[this,"change:selectors",this.ensureSelectors],m=this.getSelectors();if(this.stopListening.apply(this,h),m.models&&(m=Og([],m.models,!0)),m=(0,i.isString)(m)?[m]:m,Array.isArray(m)){var y=m.filter(function(C){return C}).map(function(C){return c?c.add(C):C});m=new Wo(y)}this.set("selectors",m,n),this.listenTo.apply(this,h)},r.prototype.getAtRule=function(){var t=this.get("atRuleType"),e=this.get("mediaText"),n=t?"@".concat(t):e?"@media":"";return n+(e&&n?" ".concat(e):"")},r.prototype.selectorsToString=function(t){t===void 0&&(t={});var e=[],n=this.get("state"),o=this.get("selectorsAdd"),c={escape:function(y){return Ef&&Ef.escape?Ef.escape(y):y}},h=this.get("selectors").getFullString(0,c),m=n&&!t.skipState?":".concat(n):"";return h&&e.push("".concat(h).concat(m)),o&&!t.skipAdd&&e.push(o),e.join(", ")},r.prototype.getDeclaration=function(t){t===void 0&&(t={});var e="",n=this.attributes.important,o=this.selectorsToString(t),c=this.styleToString(Ds({important:n},t)),h=this.get("singleAtRule");return(o||h)&&(c||t.allowEmpty)&&(e=h?c:"".concat(o,"{").concat(c,"}")),e},r.prototype.getDevice=function(){var t=this.em,e=this.attributes,n=e.atRuleType,o=e.mediaText,c=(t==null?void 0:t.get("DeviceManager").getDevices())||[],h=c.filter(function(m){return m.getWidthMedia()===""})[0];return n!=="media"||!o?h||null:c.filter(function(m){return m.getWidthMedia()===Mp(o)})[0]||null},r.prototype.getState=function(){var t=this.em,e=this.get("state"),n=(t==null?void 0:t.get("SelectorManager").getStates())||[];return n.filter(function(o){return o.getName()===e})[0]||null},r.prototype.getComponent=function(){var t,e=this.getSelectors(),n=e.length==1&&e.at(0),o=n&&n.isId()&&n.get("name");return o&&((t=this.em)===null||t===void 0?void 0:t.Components.getById(o))||null},r.prototype.toCSS=function(t){t===void 0&&(t={});var e="",n=this.getAtRule(),o=this.getDeclaration(t);return(o||t.allowEmpty)&&(e=o),n&&e&&(e="".concat(n,"{").concat(e,"}")),e},r.prototype.toJSON=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=O.Hn.prototype.toJSON.apply(this,e);if(!((t=this.em)===null||t===void 0)&&t.getConfig().avoidDefaults){var c=this.defaults();(0,i.forEach)(c,function(h,m){o[m]===h&&delete o[m]}),delete o.style.__p,(0,i.isEmpty)(o.selectors)&&delete o.selectors,(0,i.isEmpty)(o.style)&&delete o.style}return o},r.prototype.compare=function(t,e,n,o){var c;o===void 0&&(o={});var h=e||"",m=n||"",y=o.selectorsAdd||"",C=o.atRuleType||"",P=!(0,i.isArray)(t)&&!t.models?[t]:t.models||t;m&&!C&&(C="media");var D=P.map(function(ft){return ft.getFullName()}),z=(c=this.get("selectors"))===null||c===void 0?void 0:c.map(function(ft){return ft.getFullName()}),q=D.slice().sort(),ot=z.slice().sort();return!(D.length!==z.length||!q.every(function(ft,xt){return ft===ot[xt]})||this.get("state")!==h||this.get("mediaText")!==m||this.get("selectorsAdd")!==y||this.get("atRuleType")!==C)},r}(zi);const Ya=Lp;var Pf=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Wl=function(l){Pf(r,l);function r(t,e){var n=l.call(this,t)||this;return n.editor=e==null?void 0:e.em,setTimeout(function(){n.on("remove",n.onRemove),n.on("add",n.onAdd)}),n}return r.prototype.toJSON=function(t){var e=O.FE.prototype.toJSON.call(this,t);return e.filter(function(n){return n.style&&!n.shallow})},r.prototype.onAdd=function(t,e,n){t.ensureSelectors(t,e,n)},r.prototype.onRemove=function(t){var e=this.editor;e.stopListening(t),e.UndoManager.remove(t)},r.prototype.add=function(t,e){return e===void 0&&(e={}),typeof t=="string"&&(t=this.editor.get("Parser").parseCss(t)),e.em=this.editor,O.FE.prototype.add.apply(this,[t,e])},r}(O.FE);const Dp=Wl;Wl.prototype.model=Ya;var kf=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),aa=function(){return aa=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},aa.apply(this,arguments)},Tg=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},jp=function(l){kf(r,l);function r(t){var e=l.call(this,t,"CssComposer",null,{},Tf)||this;e.Selectors=Wo,e.storageKey="styles";var n=e.config,o=n.pStylePrefix;return o&&(n.stylePrefix=o+n.stylePrefix),n.rules=e.em.config.style||n.rules||"",e.rules=new Dp([],n),e}return r.prototype.onLoad=function(){this.rules.add(this.config.rules,{silent:!0})},r.prototype.postLoad=function(){var t,e=(t=this.em)===null||t===void 0?void 0:t.get("UndoManager");e&&e.add(this.getAll())},r.prototype.store=function(){return this.getProjectData()},r.prototype.load=function(t){return this.loadProjectData(t,{all:this.rules})},r.prototype.add=function(t,e,n,o,c){o===void 0&&(o={}),c===void 0&&(c={});var h=e||"",m=n||"",y=aa({},o),C=this.get(t,h,m,y);return C&&C.config&&!C.config.singleAtRule||(y.state=h,y.mediaText=m,y.selectors=[],m&&!y.atRuleType&&(y.atRuleType="media"),C=new Ya(y,this.config),C.get("selectors").add(t,c),this.rules.add(C,c)),C},r.prototype.get=function(t,e,n,o){var c=t;if((0,i.isString)(t)){var h=this.em.Selectors,m=t.split(",")[0].trim(),y=this.em.Parser.parserCss.checkNode({selectors:m})[0];c=h.get(y.selectors)}return this.rules.find(function(C){return C.compare(c,e,n,o)})||null},r.prototype.getAll=function(){return this.rules},r.prototype.addCollection=function(t,e,n){e===void 0&&(e={}),n===void 0&&(n={});var o=this.em,c=[];(0,i.isString)(t)&&(t=o.Parser.parseCss(t));for(var h=t instanceof Array?t:[t],m=0,y=h.length;m<y;m++){var C=h[m]||{};if(C.selectors){var P=o==null?void 0:o.Selectors;P||console.warn("Selector Manager not found");for(var D=C.selectors,z=D instanceof Array?D:[D],q=[],ot=0,ft=z.length;ot<ft;ot++){var xt=P.add(z[ot]);q.push(xt)}var Ft=this.get(q,C.state,C.mediaText,C),Rt=this.add(q,C.state,C.mediaText,C,e),Xt=!Ft||!e.avoidUpdateStyle,de=C.style||{};if((0,s.isObject)(n)&&Rt.set(n,e),Xt){var Oe=e.extend?aa(aa({},Rt.get("style")),de):de;Rt.set("style",Oe,e)}c.push(Rt)}}return c},r.prototype.addRules=function(t){return this.addCollection(t)},r.prototype.setRule=function(t,e,n){e===void 0&&(e={}),n===void 0&&(n={});var o=n.atRuleType,c=n.atRuleParams,h=this.em.Parser.parserCss.checkNode({selectors:t,style:e})[0],m=h.state,y=h.selectorsAdd,C=this.em.Selectors,P=C.add(h.selectors),D=this.add(P,m,c,{selectorsAdd:y,atRule:o});return n.addStyles?D.addStyle(e,n):D.setStyle(e,n),D},r.prototype.getRule=function(t,e){e===void 0&&(e={});var n=this.em,o=n.Selectors,c=n.Parser.parserCss.checkNode({selectors:t})[0],h=o.get(c.selectors),m=c.state,y=c.selectorsAdd,C=e.atRuleType,P=e.atRuleParams;return h?this.get(h,m,P,{selectorsAdd:y,atRuleType:C}):void 0},r.prototype.getRules=function(t){var e=this.getAll();if(!t)return Tg([],e.models,!0);var n={sort:!0},o=(0,i.isString)(t)?t.split(",").map(function(h){return h.trim()}):t,c=e.filter(function(h){return o.indexOf(h.getSelectors().getFullString(null,n))>=0});return c},r.prototype.setIdRule=function(t,e,n){e===void 0&&(e={}),n===void 0&&(n={});var o=n.addOpts,c=o===void 0?{}:o,h=n.mediaText,m=n.state||"",y=(0,i.isUndefined)(h)?this.em.getCurrentMedia():h,C=this.em.Selectors,P=C.add({name:t,type:ur.TYPE_ID},c),D=this.add(P,m,y,{},c);return D.setStyle(e,aa(aa({},n),c)),D},r.prototype.getIdRule=function(t,e){e===void 0&&(e={});var n=e.mediaText,o=e.state||"",c=(0,i.isUndefined)(n)?this.em.getCurrentMedia():n,h=this.em.Selectors.get(t,ur.TYPE_ID);return h&&this.get(h,o,c)},r.prototype.setClassRule=function(t,e,n){e===void 0&&(e={}),n===void 0&&(n={});var o=n.state||"",c=n.mediaText||this.em.getCurrentMedia(),h=this.em.Selectors,m=h.add({name:t,type:ur.TYPE_CLASS}),y=this.add(m,o,c);return y.setStyle(e,n),y},r.prototype.getClassRule=function(t,e){e===void 0&&(e={});var n=e.state||"",o=e.mediaText||this.em.getCurrentMedia(),c=this.em.Selectors.get(t,ur.TYPE_CLASS);return c&&this.get(c,n,o)},r.prototype.remove=function(t,e){var n=(0,i.isString)(t)?this.getRules(t):t,o=this.getAll().remove(n,e);return(0,i.isArray)(o)?o:[o]},r.prototype.clear=function(t){return t===void 0&&(t={}),this.getAll().reset([],t),this},r.prototype.getComponentRules=function(t,e){e===void 0&&(e={});var n=e.state,o=e.mediaText,c=e.current;c&&(n=this.em.get("state")||"",o=this.em.getCurrentMedia());var h=t.getId(),m=this.getAll().filter(function(y){return!(0,i.isUndefined)(n)&&y.get("state")!==n||!(0,i.isUndefined)(o)&&y.get("mediaText")!==o?!1:y.getSelectorsString()==="#".concat(h)});return m},r.prototype.render=function(){var t;return(t=this.rulesView)===null||t===void 0||t.remove(),this.rulesView=new mi({collection:this.rules,config:this.config}),this.rulesView.render().el},r.prototype.checkId=function(t,e){e===void 0&&(e={});var n=e.idMap,o=n===void 0?{}:n,c=[];if(!Object.keys(o).length)return c;var h=Array.isArray(t)?t:[t];return h.forEach(function(m){var y=m.selectors;if(y&&y.length==1){var C=y[0];if((0,i.isString)(C)){if(C[0]==="#"){var P=C.substring(1),D=o[P];P&&D&&(y[0]="#".concat(D),c.push(m))}}else if(C.name&&C.type===ur.TYPE_ID){var D=o[C.name];D&&(C.name=D,c.push(m))}}}),c},r.prototype.destroy=function(){var t;this.rules.reset(),this.rules.stopListening(),(t=this.rulesView)===null||t===void 0||t.remove()},r}(G);const wr=jp;var cc={appendTo:"",blocks:[],appendOnClick:!1,custom:!1};const Np=cc;var Ip=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Rp=function(l){Ip(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.defaults=function(){return{label:"",content:"",media:"",category:"",activate:!1,select:void 0,resetId:!1,disable:!1,onClick:void 0,attributes:{}}},Object.defineProperty(r.prototype,"category",{get:function(){var t=this.get("category");return t instanceof ii?t:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),r.prototype.getId=function(){return this.id},r.prototype.getLabel=function(){return this.get("label")},r.prototype.getMedia=function(){return this.get("media")},r.prototype.getContent=function(){return this.get("content")},r.prototype.getCategoryLabel=function(){var t=this.get("category");return(0,i.isFunction)(t==null?void 0:t.get)?t.get("label"):t!=null&&t.label?t==null?void 0:t.label:t},r}(O.Hn);const qa=Rp;var fc=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Af=function(l){fc(r,l);function r(t,e){var n=l.call(this,t)||this;return n.em=e.em,n.on("add",n.handleAdd),n}return r.prototype.getCategories=function(){return this.em.Blocks.getCategories()},r.prototype.handleAdd=function(t){this.initCategory(t)},r}(bi);const $l=Af;Af.prototype.model=qa;var Gl;(function(l){l.add="block:add",l.remove="block:remove",l.removeBefore="block:remove:before",l.update="block:update",l.dragStart="block:drag:start",l.drag="block:drag",l.dragEnd="block:drag:stop",l.custom="block:custom",l.all="block"})(Gl||(Gl={}));var js=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Fp=function(l){js(r,l);function r(t,e){e===void 0&&(e={});var n=l.call(this,t)||this,o=n.model;return n.em=e.em,n.config=e,n.endDrag=n.endDrag.bind(n),n.ppfx=e.pStylePrefix||"",n.listenTo(o,"destroy remove",n.remove),n.listenTo(o,"change",n.render),n}return r.prototype.events=function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}},r.prototype.__getModule=function(){return this.em.Blocks},r.prototype.handleClick=function(t){var e=this,n=e.config,o=e.model,c=e.em,h=o.get("onClick")||n.appendOnClick;if(c.trigger("block:click",o,t),h){if((0,i.isFunction)(h))return h(o,c==null?void 0:c.getEditor(),{event:t})}else return;var m=n.getSorter(),y=o.get("content"),C=c.getSelected();m.setDropContent(y);var P,D,z;if(C)if(D=m.validTarget(C.getEl(),y),D.valid)P=C;else{var q=C.parent();q&&(D=m.validTarget(q.getEl(),y),D.valid&&(P=q,z=q.components().indexOf(C)+1))}if(!P){var ot=c.getWrapper();D=m.validTarget(ot.getEl(),y),D.valid&&(P=ot)}var ft=P&&P.append(y,{at:z})[0];ft&&c.setSelected(ft,{scroll:1})},r.prototype.startDrag=function(t){var e=this,n=e.config,o=e.em,c=e.model,h=c.get("disable");if(!(t.button!==0||!n.getSorter||this.el.draggable||h)){o.refreshCanvas();var m=n.getSorter();m.__currentBlock=c,m.setDragHelper(this.el,t),m.setDropContent(this.model.get("content")),m.startSort(this.el),(0,ee.on)(document,"mouseup",this.endDrag)}},r.prototype.handleDragStart=function(t){this.__getModule().__startDrag(this.model,t)},r.prototype.handleDrag=function(t){this.__getModule().__drag(t)},r.prototype.handleDragEnd=function(){this.__getModule().__endDrag()},r.prototype.endDrag=function(){(0,ee.S1)(document,"mouseup",this.endDrag);var t=this.config.getSorter();t.moved=0,t.endMove()},r.prototype.render=function(){var t,e=this,n=e.em,o=e.el,c=e.$el,h=e.ppfx,m=e.model,y=m.get("disable"),C=m.get("attributes")||{},P=C.class||"",D="".concat(h,"block"),z=n&&n.t("blockManager.labels.".concat(m.id))||m.get("label"),q=m.get("render"),ot=m.get("media"),ft=y?"".concat(D,"--disable"):"".concat(h,"four-color-h");c.attr(C),o.className="".concat(P," ").concat(D," ").concat(h,"one-bg ").concat(ft).trim(),o.innerHTML=`
      `.concat(ot?'<div class="'.concat(D,'__media">').concat(ot,"</div>"):"",`
      <div class="`).concat(D,'-label">').concat(z,`</div>
    `),o.title=C.title||((t=o.textContent)===null||t===void 0?void 0:t.trim()),o.setAttribute("draggable","".concat(!!((0,s.hasDnd)(n)&&!y)));var xt=q&&q({el:o,model:m,className:D,prefix:h});return xt&&(o.innerHTML=xt),this},r}(O.G7);const dc=Fp;var Vp=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Kl=function(l,r){return Object.defineProperty?Object.defineProperty(l,"raw",{value:r}):l.raw=r,l},Eg=function(l){Vp(r,l);function r(t,e,n){var o=l.call(this,t)||this;o.config=e;var c=e.pStylePrefix||"";return o.em=e.em,o.catName=n,o.pfx=c,o.caretR="fa fa-caret-right",o.caretD="fa fa-caret-down",o.iconClass="".concat(c,"caret-icon"),o.activeClass="".concat(c,"open"),o.className="".concat(c).concat(n,"-category"),o.listenTo(o.model,"change:open",o.updateVisibility),o.model.view=o,o}return r.prototype.events=function(){return{"click [data-title]":"toggle"}},r.prototype.template=function(t){var e=t.pfx,n=t.label,o=t.catName;return f(Mf||(Mf=Kl([`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `],[`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `])),e,e,n,e,o)},r.prototype.attributes=function(){return this.model.get("attributes")||{}},r.prototype.updateVisibility=function(){this.model.get("open")?this.open():this.close()},r.prototype.open=function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getTypeEl().style.display=""},r.prototype.close=function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getTypeEl().style.display="none"},r.prototype.toggle=function(){var t=this.model;t.set("open",!t.get("open"))},r.prototype.getIconEl=function(){return this.iconEl||(this.iconEl=this.el.querySelector(".".concat(this.iconClass))),this.iconEl},r.prototype.getTypeEl=function(){return this.typeEl||(this.typeEl=this.el.querySelector(".".concat(this.pfx).concat(this.catName,"s-c"))),this.typeEl},r.prototype.append=function(t){this.getTypeEl().appendChild(t)},r.prototype.render=function(){var t=this,e=t.em,n=t.el,o=t.$el,c=t.model,h=t.pfx,m=t.catName,y=e.t("".concat(m,"Manager.categories.").concat(c.id))||c.get("label");return n.innerHTML=this.template({pfx:h,label:y,catName:m}),o.addClass(this.className),o.css({order:c.get("order")}),this.updateVisibility(),this},r}(O.G7);const Xa=Eg;var Mf,Hp=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yl=function(){return Yl=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Yl.apply(this,arguments)},ql=function(l){Hp(r,l);function r(t,e){var n=l.call(this,t)||this;n.renderedCategories=new Map,(0,i.bindAll)(n,"getSorter","onDrag","onDrop","onMove"),n.config=e||{},n.categories=t.categories||"";var o=n.config.pStylePrefix||"";n.ppfx=o,n.noCatClass="".concat(o,"blocks-no-cat"),n.blockContClass="".concat(o,"blocks-c"),n.catsClass="".concat(o,"block-categories");var c=n.collection;return n.listenTo(c,"add",n.addTo),n.listenTo(c,"reset",n.render),n.em=n.config.em,n.em&&(n.config.getSorter=n.getSorter),n}return r.prototype.__getModule=function(){return this.em.Blocks},r.prototype.updateConfig=function(t){t===void 0&&(t={}),this.config=Yl(Yl({},this.config),t)},r.prototype.getSorter=function(){var t=this.em;if(t){if(!this.sorter){var e=t.Utils,n=t.Canvas;this.sorter=new e.Sorter({container:n.getBody(),placer:n.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,onStart:this.onDrag,onEndMove:this.onDrop,onMove:this.onMove,document:n.getFrameEl().contentDocument,direction:"a",wmargin:1,nested:1,em:t,canvasRelative:1})}return this.sorter}},r.prototype.onDrag=function(t){this.em.stopDefault(),this.__getModule().__startDrag(this.sorter.__currentBlock,t)},r.prototype.onMove=function(t){this.__getModule().__drag(t)},r.prototype.onDrop=function(t){this.em.runDefault(),this.__getModule().__endDrag({component:t}),delete this.sorter.__currentBlock},r.prototype.addTo=function(t){this.add(t)},r.prototype.add=function(t,e){var n=this,o=n.config,c=n.renderedCategories,h=t.get("attributes"),m=new dc({model:t,attributes:h},o),y=m.render().el,C=t.parent.initCategory(t);if(C&&this.categories&&!o.ignoreCategories){var P=C.getId(),D=this.getCategoriesEl(),z=c.get(P);!z&&D&&(z=new Xa({model:C},o,"block").render(),c.set(P,z),D.appendChild(z.el)),z==null||z.append(y);return}e?e.appendChild(y):this.append(y)},r.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},r.prototype.getBlocksEl=function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},r.prototype.append=function(t){var e=this.getBlocksEl();e&&e.appendChild(t)},r.prototype.render=function(){var t=this,e=this.ppfx,n=document.createDocumentFragment();delete this.catsEl,delete this.blocksEl,this.renderedCategories=new Map,this.el.innerHTML=`
      <div class="`.concat(this.catsClass,`"></div>
      <div class="`).concat(this.noCatClass,`">
        <div class="`).concat(this.blockContClass,`"></div>
      </div>
    `),this.collection.each(function(c){return t.add(c,n)}),this.append(n);var o="".concat(this.blockContClass,"s ").concat(e,"one-bg ").concat(e,"two-color");return this.$el.addClass(o),this.rendered=!0,this},r}(O.G7);const Ns=ql;var Xl=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Lo=function(){return Lo=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Lo.apply(this,arguments)},zp=function(l){Xl(r,l);function r(t){var e,n=l.call(this,t,"BlockManager",new $l(((e=t.config.blockManager)===null||e===void 0?void 0:e.blocks)||[],{em:t}),Gl,Np)||this;return n.events=Gl,n.Block=qa,n.Blocks=$l,n.Category=ii,n.Categories=Da,n.storageKey="",n.blocks=n.all,n.blocksVisible=new $l(n.blocks.models,{em:t}),n.categories=new Da,n.blocks.on("add",function(o){return n.blocksVisible.add(o)}),n.blocks.on("remove",function(o){return n.blocksVisible.remove(o)}),n.blocks.on("reset",function(o){return n.blocksVisible.reset(o.models)}),n.__onAllEvent=(0,i.debounce)(function(){return n.__trgCustom()},0),n}return r.prototype.__trgCustom=function(){this.em.trigger(this.events.custom,this.__customData())},r.prototype.__customData=function(){var t=this,e=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:e.container,dragStart:function(n,o){return t.startDrag(n,o)},drag:function(n){return t.__drag(n)},dragStop:function(n){return t.endDrag(n)}}},r.prototype.__startDrag=function(t,e){var n=this,o=n.em,c=n.events,h=n.blocks,m=t.getContent?t.getContent():t;this._dragBlock=t,o.set({dragResult:null,dragContent:m}),[o,h].map(function(y){return y.trigger(c.dragStart,t,e)})},r.prototype.__drag=function(t){var e=this,n=e.em,o=e.events,c=e.blocks,h=this._dragBlock;[n,c].map(function(m){return m.trigger(o.drag,h,t)})},r.prototype.__endDrag=function(t){t===void 0&&(t={});var e=this,n=e.em,o=e.events,c=e.blocks,h=this._dragBlock,m=t.component||n.get("dragResult");if(delete this._dragBlock,m&&h){var y="activeOnRender",C=m.get&&m.get(y),P=h.get("activate")||C,D=h.get("select"),z=(0,i.isArray)(m)?m[0]:m;(D||P&&D!==!1)&&n.setSelected(z),P&&(z.trigger("active"),C&&z.unset(y)),h.get("resetId")&&z.onAll(function(q){return q.resetId()})}n.set({dragResult:null,dragContent:null}),h&&[n,c].map(function(q){return q.trigger(o.dragEnd,m,h)})},r.prototype.__getFrameViews=function(){return this.em.Canvas.getFrames().map(function(t){return t.view}).filter(Boolean)},r.prototype.__behaviour=function(t){return t===void 0&&(t={}),this._bhv=Lo(Lo({},this._bhv||{}),t)},r.prototype.__getBehaviour=function(){return this._bhv||{}},r.prototype.startDrag=function(t,e){this.__startDrag(t,e),this.__getFrameViews().forEach(function(n){var o;return(o=n.droppable)===null||o===void 0?void 0:o.startCustom()})},r.prototype.endDrag=function(t){this.__getFrameViews().forEach(function(e){var n;return(n=e.droppable)===null||n===void 0?void 0:n.endCustom(t)}),this.__endDrag()},r.prototype.postRender=function(){var t=this,e=t.categories,n=t.config,o=t.em,c=this.blocksVisible;this.blocksView=new Ns({collection:c,categories:e},Lo(Lo({},n),{em:o})),this.__appendTo(c.models),this.__trgCustom()},r.prototype.add=function(t,e,n){n===void 0&&(n={});var o=e||{};return o.id=t,this.blocks.add(o,n)},r.prototype.get=function(t){return this.blocks.get(t)},r.prototype.getAll=function(){return this.blocks},r.prototype.getAllVisible=function(){return this.blocksVisible},r.prototype.remove=function(t,e){return e===void 0&&(e={}),this.__remove(t,e)},r.prototype.getCategories=function(){return this.categories},r.prototype.getContainer=function(){var t;return(t=this.blocksView)===null||t===void 0?void 0:t.el},r.prototype.getDragBlock=function(){return this._dragBlock},r.prototype.getBlocksByCategory=function(t){return wl(t||this.getAll().models)},r.prototype.render=function(t,e){e===void 0&&(e={});var n=this,o=n.categories,c=n.config,h=n.em,m=t||this.getAll().models;if(e.external){var y=new $l(m,{em:h});return new Ns({collection:y,categories:o},Lo(Lo({em:h},c),e)).render().el}return this.blocksView&&(this.blocksView.updateConfig(e),this.blocksView.collection.reset(m),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=!0)),this.getContainer()},r.prototype.destroy=function(){var t,e=[this.blocks,this.blocksVisible,this.categories];e.map(function(n){return n.stopListening()}),e.map(function(n){return n.reset()}),(t=this.blocksView)===null||t===void 0||t.remove()},r}(G);const Pg=zp;var Bp={stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',componentFirst:!1,custom:!1};const sa=Bp;var Is=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Rs=function(l){Is(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.defaults=function(){return{name:"",label:""}},r.prototype.getName=function(){return this.get("name")},r.prototype.getLabel=function(){return this.get("label")||this.getName()},r}(O.Hn);const Lf=Rs;Rs.prototype.idAttribute="name";var Up=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),kg=function(l,r){return Object.defineProperty?Object.defineProperty(l,"raw",{value:r}):l.raw=r,l},Wp="contentEditable",Ag=function(l){Up(r,l);function r(t){t===void 0&&(t={});var e=l.call(this,t)||this,n=t.config||{};return e.config=n,e.module=t.module,e.coll=t.coll||null,e.pfx=n.stylePrefix||"",e.ppfx=n.pStylePrefix||"",e.em=n.em,e.listenTo(e.model,"change:active",e.updateStatus),e}return r.prototype.template=function(){var t=this,e=t.pfx,n=t.model,o=t.config,c=n.get("label")||"";return f(Df||(Df=kg([`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `],[`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `])),e,e,e,c,e,e,o.iconTagRemove)},r.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},r.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},r.prototype.startEditTag=function(){var t=this.em,e=this.getInputEl();e[Wp]="true",e.focus(),t==null||t.setEditing(!0)},r.prototype.endEditTag=function(){var t=this,e=t.model,n=t.em,o=this.getInputEl(),c=o.textContent||"",h=n==null?void 0:n.Selectors;o[Wp]="false",n==null||n.setEditing(!1),h&&h.rename(e,c)!==e&&(o.innerText=e.getLabel())},r.prototype.changeStatus=function(){var t=this.model;t.set("active",!t.getActive())},r.prototype.removeTag=function(){this.module.removeSelected(this.model)},r.prototype.updateStatus=function(){var t=this,e=t.model,n=t.$el,o=t.config,c=o.iconTagOn,h=o.iconTagOff,m=n.find("[data-tag-status]");e.get("active")?(m.html(c),n.removeClass("opac50")):(m.html(h),n.addClass("opac50"))},r.prototype.render=function(){var t=this,e=t.pfx,n=t.ppfx,o=t.$el,c=t.model,h="".concat(e,"tag"),m=["".concat(h," ").concat(n,"three-bg")];return c.get("protected")&&m.push("".concat(h,"-protected")),o.html(this.template()),o.attr("class",m.join(" ")),this.updateStatus(),this},r}(O.G7);const Vr=Ag;var Df,Mg=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zl=function(l,r){return Object.defineProperty?Object.defineProperty(l,"raw",{value:r}):l.raw=r,l},Lg=function(l){Mg(r,l);function r(t){t===void 0&&(t={});var e=l.call(this,t)||this;e.config=t.config||{},e.pfx=e.config.stylePrefix||"",e.ppfx=e.config.pStylePrefix||"",e.className=e.pfx+"tags",e.stateInputId=e.pfx+"states",e.stateInputC=e.pfx+"input-c",e.states=e.config.states||[];var n=e.config.em,o=e.collection;e.target=n;var c=n.Selectors;e.module=c,e.em=n,e.componentChanged=(0,i.debounce)(e.componentChanged.bind(e),0),e.checkSync=(0,i.debounce)(e.checkSync.bind(e),0);var h="component:toggled component:update:classes",m="component:update:classes change:state";return e.listenTo(n,h,e.componentChanged),e.listenTo(n,"styleManager:update",e.componentChanged),e.listenTo(n,m,e.__handleStateChange),e.listenTo(n,"styleable:change change:device",e.checkSync),e.listenTo(o,"add",e.addNew),e.listenTo(o,"reset",e.renderClasses),e.listenTo(o,"remove",e.tagRemoved),e.listenTo(c.getAll(),c.events.state,(0,i.debounce)(function(){return e.renderStates()},0)),e.delegateEvents(),e}return r.prototype.template=function(t){var e=t.labelInfo,n=t.labelHead,o=t.iconSync,c=t.iconAdd,h=t.pfx,m=t.ppfx;return f(jf||(jf=Zl([' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`],[' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`])),h,h,h,h,n,h,h,h,m,m,m,h,m,m,h,m,h,h,h,h,h,c,h,h,o,h,h,e,h)},r.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},r.prototype.syncStyle=function(){var t=this.em,e=this.getTarget(),n=t.Css,o={noDisabled:1},c=this.getCommonSelectors({opts:o}),h=t.get("state"),m=t.getCurrentMedia(),y=[],C=n.get(c,h,m)||n.add(c,h,m),P;this.getTargets().forEach(function(D){var z=n.getIdRule(D.getId(),{state:h,mediaText:m});P=z.getStyle(),z.setStyle({}),y.push(z)}),P&&C.addStyle(P),t.trigger("component:toggled"),t.trigger("component:sync-style",{component:e,selectors:c,mediaText:m,rule:C,ruleComponents:y,state:h})},r.prototype.tagRemoved=function(t){this.updateStateVis()},r.prototype.addNew=function(t){this.addToClasses(t)},r.prototype.startNewTag=function(){var t,e;(t=this.$addBtn)===null||t===void 0||t.css({display:"none"}),(e=this.$input)===null||e===void 0||e.show().focus()},r.prototype.endNewTag=function(){var t,e;(t=this.$addBtn)===null||t===void 0||t.css({display:""}),(e=this.$input)===null||e===void 0||e.hide().val("")},r.prototype.onInputKeyUp=function(t){var e;t.keyCode===13?(t.preventDefault(),this.addNewTag((e=this.$input)===null||e===void 0?void 0:e.val())):t.keyCode===27&&this.endNewTag()},r.prototype.checkStates=function(){var t=this.em.getState(),e=this.getStates();e&&e.val(t)},r.prototype.componentChanged=function(t){var e=t===void 0?{}:t,n=e.targets;this.updateSelection(n)},r.prototype.updateSelection=function(t){var e=t||this.getTargets();e=(0,i.isArray)(e)?e:[e];var n=[];return e&&e.length&&(n=this.getCommonSelectors({targets:e}),this.checkSync({validSelectors:n})),this.collection.reset(n),this.updateStateVis(e),this.module.__trgCustom(),n},r.prototype.getCommonSelectors=function(t){var e=t===void 0?{}:t,n=e.targets,o=e.opts,c=o===void 0?{}:o,h=n||this.getTargets();return this.module.__getCommonSelectors(h,c)},r.prototype._commonSelectors=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this.module).__common.apply(t,e)},r.prototype.checkSync=function(){var t=this,e=t.$btnSyncEl,n=t.config,o=t.collection,c=this.getTarget(),h;if(c&&n.componentFirst&&o.length){var m=c.getStyle();h=!(0,i.isEmpty)(m)}e&&e[h?"show":"hide"]()},r.prototype.getTarget=function(){return this.target.getSelected()},r.prototype.getTargets=function(){return this.target.getSelectedAll()},r.prototype.updateStateVis=function(t){var e=this.em,n=e&&e.getConfig().avoidInlineStyle,o=this.collection.length||n?"":"none";this.getStatesC().css("display",o),this.updateSelector(t)},r.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},r.prototype.updateSelector=function(t){var e=this,n=this.el.querySelector("[data-selected]"),o=[],c=t||this.getTargets();c=(0,i.isArray)(c)?c:[c],c.forEach(function(h){return o.push(e.__getName(h))}),n&&(n.innerHTML=o.join(", ")),this.checkStates()},r.prototype.__getName=function(t){var e=this,n=e.pfx,o=e.config,c=e.em,h=o.selectedName,m=o.componentFirst,y;if((0,i.isString)(t))y=f(Nf||(Nf=Zl(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),n,t);else{var C=t==null?void 0:t.getSelectors();if(!C)return"";var P=C.getStyleable(),D=c.get("state"),z=t.getId?f(Gp||(Gp=Zl(['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"],['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"])),n,t.getName(),n,t.getId()):"";y=this.collection.getFullString(P),y=y?f(Kp||(Kp=Zl(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),n,y):t.get("selectorsAdd")||z,y=m&&z?z:y,y+=D?f(Yp||(Yp=Zl(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),n,D):"",y=h?h({result:y,state:D,target:t}):y}return y&&'<span class="'.concat(n,'sel">').concat(y,"</span>")},r.prototype.stateChanged=function(t){var e=this.em,n=t.target.value;e.set("state",n)},r.prototype.addNewTag=function(t){var e=t.trim();e&&(this.module.addSelected({label:e}),this.endNewTag())},r.prototype.addToClasses=function(t,e){var n=e,o=this.getClasses(),c=new Vr({model:t,config:this.config,coll:this.collection,module:this.module}).render().el;return n?n.appendChild(c):o.append(c),c},r.prototype.renderClasses=function(){var t=this,e=document.createDocumentFragment(),n=this.getClasses();n.empty(),this.collection.each(function(o){return t.addToClasses(o,e)}),n.append(e)},r.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},r.prototype.getStates=function(){if(!this.$states){var t=this.$el.find("[data-states]");this.$states=t[0]&&t}return this.$states},r.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},r.prototype.renderStates=function(){var t=this,e=t.module,n=t.em,o=n.t("selectorManager.emptyState"),c=e.getStates().map(function(m){var y=n.t("selectorManager.states.".concat(m.id))||m.getLabel()||m.id;return'<option value="'.concat(m.id,'">').concat(y,"</option>")}).join(""),h=this.getStates();h&&h.html('<option value="">'.concat(o,"</option>").concat(c)),this.checkStates()},r.prototype.render=function(){var t=this,e=t.em,n=t.pfx,o=t.ppfx,c=t.config,h=t.$el,m=t.el,y=c.render,C=c.iconSync,P=c.iconAdd,D={iconSync:C,iconAdd:P,labelHead:e.t("selectorManager.label"),labelInfo:e.t("selectorManager.selected"),ppfx:o,pfx:n,el:m};h.html(this.template(D));var z=y&&y(D);return z&&z!==m&&h.empty().append(z),this.$input=h.find("[data-input]"),this.$addBtn=h.find("[data-add]"),this.$classes=h.find("#"+n+"tags-c"),this.$btnSyncEl=h.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),h.attr("class","".concat(this.className," ").concat(o,"one-bg ").concat(o,"two-color")),this},r}(O.G7);const $p=Lg;var jf,Nf,Gp,Kp,Yp,la=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ti=function(){return Ti=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Ti.apply(this,arguments)},Fs=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},Vs=function(l){return(0,i.isString)(l)&&l[0]=="#"},ui=function(l){return(0,i.isString)(l)&&l[0]=="."},qp="selector",Jl="".concat(qp,":"),Hs="".concat(Jl,"add"),Xp="".concat(Jl,"update"),If="".concat(Jl,"remove"),Zp="".concat(If,":before"),pc="".concat(Jl,"custom"),Za="".concat(Jl,"state"),Rf={all:qp,update:Xp,add:Hs,remove:If,removeBefore:Zp,state:Za,custom:pc},Ff=function(l){la(r,l);function r(t){var e=l.call(this,t,"SelectorManager",new Wo([]),Rf,sa,{skipListen:!0})||this;e.Selector=ur,e.Selectors=Wo,e.storageKey="",(0,i.bindAll)(e,"__updateSelectedByComponents");var n=e.config,o=n.pStylePrefix;o&&(n.stylePrefix=o+n.stylePrefix),e.all=new Wo(n.selectors),e.selected=new Wo([],{em:t,config:n}),e.states=new O.FE(n.states.map(function(h){return new Lf(h)}),{model:Lf}),e.model=new O.Hn({cFirst:n.componentFirst,_undo:!0}),e.__update=(0,i.debounce)(function(){return e.__trgCustom()},0),e.__initListen({collections:[e.states,e.selected],propagate:[{entity:e.states,event:e.events.state}]}),t.on("change:state",function(h,m){return t.trigger(Za,m)}),e.model.on("change:cFirst",function(h,m){return t.trigger("selector:type",m)}),t.on("component:toggled component:update:classes",e.__updateSelectedByComponents);var c="component:toggled component:update:classes change:device styleManager:update selector:state selector:type style:target";return e.model.listenTo(t,c,function(){return e.__update()}),e}return r.prototype.__trgCustom=function(t){this.em.trigger(this.events.custom,this.__customData(t))},r.prototype.getAll=function(t){return t===void 0&&(t={}),this.all?t.array?Fs([],this.all.models,!0):this.all:[]},r.prototype.__customData=function(t){return t===void 0&&(t={}),this.__ctn=this.__ctn||t.container,{states:this.getStates(),selected:this.getSelected(),container:this.__ctn}},r.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},r.prototype.select=function(t,e){e===void 0&&(e={});var n=Array.isArray(t)?t:[t],o=this.em.Styles.select(n,e);this.selected.reset(this.__getCommonSelectors(o));var c=this.selectorTags,h=o.filter(function(m){return m}).map(function(m){return(0,s.isComponent)(m)||(0,s.isRule)(m)&&!m.get("selectorsAdd")?m:m.getSelectorsString()});return c&&c.componentChanged({targets:h}),this},r.prototype.addSelector=function(t,e,n){e===void 0&&(e={}),n===void 0&&(n={});var o=Ti({},e);(0,i.isObject)(t)?o=t:o.name=t,Vs(o.name)?(o.name=o.name.substr(1),o.type=ur.TYPE_ID):ui(o.name)&&(o.name=o.name.substr(1)),o.label&&!o.name&&(o.name=this.escapeName(o.label));var c=o.name,h=this.getConfig(),m=this,y=m.all,C=m.em,P=c?this.get(c,o.type):y.where(o)[0];if(!P){var D=o instanceof ur?o:new ur(o,Ti(Ti({},n),{config:h,em:C}));return y.add(D,n)}return P},r.prototype.getSelector=function(t,e){return e===void 0&&(e=ur.TYPE_CLASS),Vs(t)?(t=t.substr(1),e=ur.TYPE_ID):ui(t)&&(t=t.substr(1)),this.all.where({name:t,type:e})[0]},r.prototype.add=function(t,e){var n=this;e===void 0&&(e={});var o=(0,i.isString)(t)?{}:e;return(0,i.isArray)(t)?t.map(function(c){return n.addSelector(c,e,o)}):this.addSelector(t,e,o)},r.prototype.addClass=function(t){var e=this,n=[];return(0,i.isString)(t)&&(t=t.trim().split(" ")),t.forEach(function(o){return n.push(e.addSelector(o))}),n},r.prototype.get=function(t,e){var n=this;if((0,i.isArray)(t)){var o=[],c=t.map(function(h){return n.getSelector(h)}).filter(Boolean);return c.forEach(function(h){return o.indexOf(h)<0&&o.push(h)}),o}else return this.getSelector(t,e)},r.prototype.remove=function(t,e){return this.__remove(t,e)},r.prototype.rename=function(t,e,n){var o=this.escapeName(e),c=this.get(o);return c||t.set({name:o,label:e},n)},r.prototype.setState=function(t){return this.em.setState(t),this},r.prototype.getState=function(){return this.em.getState()},r.prototype.getStates=function(){return Fs([],this.states.models,!0)},r.prototype.setStates=function(t,e){return this.states.reset(t.map(function(n){return new Lf(n)}),e)},r.prototype.getSelected=function(){return this.__getCommon()},r.prototype.getSelectedAll=function(){return Fs([],this.selected.models,!0)},r.prototype.addSelected=function(t){var e=this.add(t);this.em.getSelectedAll().forEach(function(n){n.getSelectors().add(e)})},r.prototype.removeSelected=function(t){this.em.getSelectedAll().forEach(function(e){!t.get("protected")&&e&&e.getSelectors().remove(t)})},r.prototype.duplicateSelected=function(t,e){var n=this;e===void 0&&(e={});var o=this.em,c=this.getSelected();if(!(c.indexOf(t)<0)){var h=this.getState(),m=o.getCurrentMedia(),y=o.Css.get(c,h,m),C=y==null?void 0:y.getStyle();if(o.getSelectedAll().forEach(function(D){var z=D.getSelectors();if(z.includes(t)){var q=e.suffix||" copy",ot=t.getLabel(),ft=n.addSelector("".concat(ot).concat(q)),xt=z.indexOf(t);z.remove(t),z.add(ft,{at:xt})}}),C){var P=o.Css.add(this.getSelected(),h,m);P.setStyle(C)}}},r.prototype.getSelectedTargets=function(){return this.em.Styles.getSelectedAll()},r.prototype.setComponentFirst=function(t){this.getConfig().componentFirst=t,this.model.set({cFirst:t})},r.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},r.prototype.escapeName=function(t){var e=this.getConfig().escapeName;return e?e(t):ur.escapeName(t)},r.prototype.render=function(t){var e=this.selectorTags,n=this.getConfig(),o=e==null?void 0:e.el;return this.selected.reset(t),this.selectorTags=new $p({el:o,collection:this.selected,module:this,config:n}),this.selectorTags.render().el},r.prototype.destroy=function(){var t=this,e=t.selectorTags,n=t.model;n.stopListening(),this.__update.cancel(),this.__destroy(),e==null||e.remove(),this.selectorTags=void 0},r.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},r.prototype.__getCommonSelectors=function(t,e){e===void 0&&(e={});var n=t.map(function(o){return o.getSelectors&&o.getSelectors().getValid(e)}).filter(Boolean);return this.__common.apply(this,n)},r.prototype.__common=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.length?e.length===1?e[0]:e.length===2?e[0].filter(function(o){return e[1].indexOf(o)>=0}):e.slice(1).reduce(function(o,c){return t.__common(o,c)},e[0]):[]},r.prototype.__updateSelectedByComponents=function(){this.selected.reset(this.__getCommon())},r}(G);const Vf=Ff;var Dg={textTags:["br","b","i","u","a","ul","ol"],textTypes:["text","textnode","comment"],parserCss:void 0,parserHtml:void 0,optionsHtml:{htmlType:"text/html",allowScripts:!1,allowUnsafeAttr:!1,allowUnsafeAttrValue:!1,keepEmptyTextNodes:!1}};const Ql=Dg;var Do,vo={STYLE_RULE:1,CHARSET_RULE:2,IMPORT_RULE:3,MEDIA_RULE:4,FONT_FACE_RULE:5,PAGE_RULE:6,KEYFRAMES_RULE:7,KEYFRAME_RULE:8,NAMESPACE_RULE:10,COUNTER_STYLE_RULE:11,SUPPORTS_RULE:12,DOCUMENT_RULE:13,FONT_FEATURE_VALUES_RULE:14,VIEWPORT_RULE:15,REGION_STYLE_RULE:16},Ja=(Do={},Do[vo.MEDIA_RULE]="media",Do[vo.FONT_FACE_RULE]="font-face",Do[vo.PAGE_RULE]="page",Do[vo.KEYFRAMES_RULE]="keyframes",Do[vo.COUNTER_STYLE_RULE]="counter-style",Do[vo.SUPPORTS_RULE]="supports",Do[vo.DOCUMENT_RULE]="document",Do[vo.FONT_FEATURE_VALUES_RULE]="font-feature-values",Do[vo.VIEWPORT_RULE]="viewport",Do),tu=(0,i.keys)(Ja),Hf=[vo.FONT_FACE_RULE,vo.PAGE_RULE,vo.COUNTER_STYLE_RULE,vo.VIEWPORT_RULE],jg=tu.filter(function(l){return Hf.indexOf(Number(l))<0}).map(function(l){return Ja[l]}).concat(["container","layer"]),eu=Hf.map(function(l){return Ja[l]}),zf=function(l){l===void 0&&(l="");for(var r=[],t=[],e=l.split(","),n=0,o=e.length;n<o;n++){var c=e[n].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(c)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(c)){var h=c.split(".").filter(Boolean);t.push(h)}else r.push(c)}return{result:t,add:r}},Jp=function(l){for(var r=l.style,t={},e=0,n=r.length;e<n;e++){var o=r[e],c=r.getPropertyValue(o),h=r.getPropertyPriority(o);t[o]="".concat(c).concat(h?" !".concat(h):"")}return t},Qp=function(l){var r=l.conditionText||l.media&&l.media.mediaText||l.name||l.selectorText||"";return r.trim()},nu=function(l,r,t){r===void 0&&(r={}),t===void 0&&(t={});var e={},n=l.length,o=l[n-1],c=o?o.split(/:(.+)/):[],h=c[1],m=t.atRule,y=t.selectorsAdd,C=t.mediaText,P=eu.indexOf(m)>=0;return P&&(e.singleAtRule=!0),m&&(e.atRuleType=m),y&&(e.selectorsAdd=y),C&&(e.mediaText=C),h&&(l[n-1]=c[0],e.state=h,c.splice(c.length-1,1)),e.selectors=l,e.style=r,e},Bf=function(l){var r=l.cssText,t=r===void 0?"":r;return jg.find(function(e){return t.indexOf("@".concat(e))===0})},th=function(l){for(var r=[],t=l.cssRules||[],e=0,n=t.length;e<n;e++){var o=t[e],c=o.type,h=!1,m="",y="",C=o.selectorText||o.keyText||"",P=Hf.indexOf(c)>=0;if(P)h=!0,m=Ja[c],y=Qp(o);else if(tu.indexOf("".concat(c))>=0||!c&&Bf(o)){var D=th(o),z=Ja[c]||Bf(o);y=Qp(o);for(var q=0,ot=D.length;q<ot;q++){var ft=D[q];y&&(ft.mediaText=y),ft.atRuleType=z}r=r.concat(D)}if(!(!C&&!P)){for(var xt=Jp(o),Ft=zf(C),Rt=Ft.add,Xt=Ft.result,de=void 0,Oe=0,De=Xt.length;Oe<De;Oe++){var pe=nu(Xt[Oe],xt,{atRule:Ja[c]});r.push(pe),de=pe}if(Rt.length){var Fe=Rt.join(", ");if(de)de.selectorsAdd=Fe;else{var pe={selectors:[],selectorsAdd:Fe,style:xt};h&&(pe.singleAtRule=h),m&&(pe.atRuleType=m),y&&(pe.mediaText=y),r.push(pe)}}}}return r};const eh=function(l){var r=document.createElement("style");r.innerHTML=l,document.head.appendChild(r);var t=r.sheet;return document.head.removeChild(r),t?th(t):[]};var nh=function(l,r){return r===void 0&&(r={}),{parse:function(t){var e=this,n=[],o=r.parserCss,c=l==null?void 0:l.Editor,h=o?o(t,c):eh(t);return h.forEach(function(m){return n=n.concat(e.checkNode(m))}),l==null||l.trigger("parse:css",{input:t,output:n,nodes:h}),n},checkNode:function(t){var e=t.selectors,n=t.style,o=[t];if((0,i.isString)(e)){var c=[],h=t,m=zf(e),y=m.result,C=m.add.join(", "),P={atRule:h.atRule,mediaText:h.params};if(y.length?y.forEach(function(z){c.push(nu(z,n,P))}):c.push(nu([],n,P)),C){var D=c[c.length-1];D.selectorsAdd=C}o=c}return o}}};const Ng=nh;var Uf=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ru=function(l){Uf(r,l);function r(t){var e=l.call(this,t,"Parser",Ql)||this,n=e.config;return e.parserCss=Ng(t,n),e.parserHtml=Ir(t,n),e}return r.prototype.parseHtml=function(t,e){e===void 0&&(e={});var n=this,o=n.em,c=n.parserHtml;return c.compTypes=o.Components.getTypes()||{},c.parse(t,this.parserCss,e)},r.prototype.parseCss=function(t){return this.parserCss.parse(t)},r.prototype.destroy=function(){},r}(J);const ou=ru;var Ig={id:"gjs-",type:"local",autosave:!0,autoload:!0,stepsBeforeSave:1,recovery:!1,onStore:function(l){return l},onLoad:function(l){return l},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(l){return l},onLoad:function(l){return l}}}};const rh=Ig;var oh=function(l,r,t,e){function n(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function h(C){try{y(e.next(C))}catch(P){c(P)}}function m(C){try{y(e.throw(C))}catch(P){c(P)}}function y(C){C.done?o(C.value):n(C.value).then(h,m)}y((e=e.apply(l,r||[])).next())})},ih=function(l,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,n,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(y){return function(C){return m([y,C])}}function m(y){if(e)throw new TypeError("Generator is already executing.");for(;c&&(c=0,y[0]&&(t=0)),t;)try{if(e=1,n&&(o=y[0]&2?n.return:y[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,y[1])).done)return o;switch(n=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,n=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){t.label=y[1];break}if(y[0]===6&&t.label<o[1]){t.label=o[1],o=y;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(y);break}o[2]&&t.ops.pop(),t.trys.pop();continue}y=r.call(l,t)}catch(C){y=[6,C],n=0}finally{e=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Rg=function(){function l(){}return l.prototype.store=function(r,t){return t===void 0&&(t={}),oh(this,void 0,void 0,function(){return ih(this,function(e){return this.hasLocal(t,!0)&&localStorage.setItem(t.key,JSON.stringify(r)),[2,r]})})},l.prototype.load=function(r){return r===void 0&&(r={}),oh(this,void 0,void 0,function(){var t;return ih(this,function(e){return t={},this.hasLocal(r,!0)&&(t=JSON.parse(localStorage.getItem(r.key)||"{}")),[2,t]})})},l.prototype.hasLocal=function(r,t){if(r===void 0&&(r={}),r.checkLocal&&(!(0,s.hasWin)()||!localStorage)){if(t)throw new Error("localStorage not available");return!1}return!0},l}();const Fg=Rg;function ua(l){"@babel/helpers - typeof";return ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ua(l)}function Vg(l){var r=this.constructor;return this.then(function(t){return r.resolve(l()).then(function(){return t})},function(t){return r.resolve(l()).then(function(){return r.reject(t)})})}const Hg=Vg;function ah(l){var r=this;return new r(function(t,e){if(!(l&&typeof l.length<"u"))return e(new TypeError(ua(l)+" "+l+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var n=Array.prototype.slice.call(l);if(n.length===0)return t([]);var o=n.length;function c(m,y){if(y&&(ua(y)==="object"||typeof y=="function")){var C=y.then;if(typeof C=="function"){C.call(y,function(P){c(m,P)},function(P){n[m]={status:"rejected",reason:P},--o===0&&t(n)});return}}n[m]={status:"fulfilled",value:y},--o===0&&t(n)}for(var h=0;h<n.length;h++)c(h,n[h])})}const Wf=ah;function $f(l,r){this.name="AggregateError",this.errors=l,this.message=r||""}$f.prototype=Error.prototype;function zg(l){var r=this;return new r(function(t,e){if(!(l&&typeof l.length<"u"))return e(new TypeError("Promise.any accepts an array"));var n=Array.prototype.slice.call(l);if(n.length===0)return e();for(var o=[],c=0;c<n.length;c++)try{r.resolve(n[c]).then(t).catch(function(h){o.push(h),o.length===n.length&&e(new $f(o,"All promises were rejected"))})}catch(h){e(h)}})}const sh=zg;var zs=setTimeout;function Gf(l){return!!(l&&typeof l.length<"u")}function hc(){}function Bg(l,r){return function(){l.apply(r,arguments)}}function Pn(l){if(!(this instanceof Pn))throw new TypeError("Promises must be constructed via new");if(typeof l!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],jo(l,this)}function lh(l,r){for(;l._state===3;)l=l._value;if(l._state===0){l._deferreds.push(r);return}l._handled=!0,Pn._immediateFn(function(){var t=l._state===1?r.onFulfilled:r.onRejected;if(t===null){(l._state===1?wn:iu)(r.promise,l._value);return}var e;try{e=t(l._value)}catch(n){iu(r.promise,n);return}wn(r.promise,e)})}function wn(l,r){try{if(r===l)throw new TypeError("A promise cannot be resolved with itself.");if(r&&(ua(r)==="object"||typeof r=="function")){var t=r.then;if(r instanceof Pn){l._state=3,l._value=r,au(l);return}else if(typeof t=="function"){jo(Bg(t,r),l);return}}l._state=1,l._value=r,au(l)}catch(e){iu(l,e)}}function iu(l,r){l._state=2,l._value=r,au(l)}function au(l){l._state===2&&l._deferreds.length===0&&Pn._immediateFn(function(){l._handled||Pn._unhandledRejectionFn(l._value)});for(var r=0,t=l._deferreds.length;r<t;r++)lh(l,l._deferreds[r]);l._deferreds=null}function su(l,r,t){this.onFulfilled=typeof l=="function"?l:null,this.onRejected=typeof r=="function"?r:null,this.promise=t}function jo(l,r){var t=!1;try{l(function(e){t||(t=!0,wn(r,e))},function(e){t||(t=!0,iu(r,e))})}catch(e){if(t)return;t=!0,iu(r,e)}}Pn.prototype.catch=function(l){return this.then(null,l)},Pn.prototype.then=function(l,r){var t=new this.constructor(hc);return lh(this,new su(l,r,t)),t},Pn.prototype.finally=Hg,Pn.all=function(l){return new Pn(function(r,t){if(!Gf(l))return t(new TypeError("Promise.all accepts an array"));var e=Array.prototype.slice.call(l);if(e.length===0)return r([]);var n=e.length;function o(h,m){try{if(m&&(ua(m)==="object"||typeof m=="function")){var y=m.then;if(typeof y=="function"){y.call(m,function(C){o(h,C)},t);return}}e[h]=m,--n===0&&r(e)}catch(C){t(C)}}for(var c=0;c<e.length;c++)o(c,e[c])})},Pn.any=sh,Pn.allSettled=Wf,Pn.resolve=function(l){return l&&ua(l)==="object"&&l.constructor===Pn?l:new Pn(function(r){r(l)})},Pn.reject=function(l){return new Pn(function(r,t){t(l)})},Pn.race=function(l){return new Pn(function(r,t){if(!Gf(l))return t(new TypeError("Promise.race accepts an array"));for(var e=0,n=l.length;e<n;e++)Pn.resolve(l[e]).then(r,t)})},Pn._immediateFn=typeof setImmediate=="function"&&function(l){setImmediate(l)}||function(l){zs(l,0)},Pn._unhandledRejectionFn=function(r){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",r)};const Bs=Pn;(0,s.hasWin)()&&(window.Promise=window.Promise||Bs);const vc=typeof fetch=="function"?fetch.bind():function(l,r){return new Bs(function(t,e){var n=new XMLHttpRequest;n.open(r.method||"get",l),n.withCredentials=r.credentials=="include";for(var o in r.headers||{})n.setRequestHeader(o,r.headers[o]);n.onload=function(c){return t({status:n.status,statusText:n.statusText,text:function(){return Bs.resolve(n.responseText)}})},n.onerror=e,n.upload&&r.onProgress&&(n.upload.onprogress=r.onProgress),r.body?n.send(r.body):n.send()})};var lu=function(){return lu=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},lu.apply(this,arguments)},Kf=function(l,r,t,e){function n(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function h(C){try{y(e.next(C))}catch(P){c(P)}}function m(C){try{y(e.throw(C))}catch(P){c(P)}}function y(C){C.done?o(C.value):n(C.value).then(h,m)}y((e=e.apply(l,r||[])).next())})},Yf=function(l,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,n,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(y){return function(C){return m([y,C])}}function m(y){if(e)throw new TypeError("Generator is already executing.");for(;c&&(c=0,y[0]&&(t=0)),t;)try{if(e=1,n&&(o=y[0]&2?n.return:y[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,y[1])).done)return o;switch(n=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,n=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){t.label=y[1];break}if(y[0]===6&&t.label<o[1]){t.label=o[1],o=y;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(y);break}o[2]&&t.ops.pop(),t.trys.pop();continue}y=r.call(l,t)}catch(C){y=[6,C],n=0}finally{e=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},qf=function(){function l(){}return l.prototype.store=function(r,t){return t===void 0&&(t={}),Kf(this,void 0,void 0,function(){return Yf(this,function(e){switch(e.label){case 0:return[4,this.request(t.urlStore,this.__props(t,r),t)];case 1:return[2,e.sent()]}})})},l.prototype.load=function(r){return r===void 0&&(r={}),Kf(this,void 0,void 0,function(){return Yf(this,function(t){switch(t.label){case 0:return[4,this.request(r.urlLoad,this.__props(r),r)];case 1:return[2,t.sent()]}})})},l.prototype.request=function(r,t,e){return t===void 0&&(t={}),e===void 0&&(e={}),vc(r,t).then(function(n){var o=n.text(),c=(n.status/200|0)===1;return c?o:o.then(Promise.reject)}).then(function(n){var o=n&&(0,i.isString)(n);return e.contentTypeJson&&o?JSON.parse(n):n})},l.prototype.__props=function(r,t){r===void 0&&(r={});var e=r.contentTypeJson,n=r.headers||{},o=r.fetchOptions||{},c="X-Requested-With",h="Content-Type",m;if((0,i.isUndefined)(n[c])&&(n[c]="XMLHttpRequest"),(0,i.isUndefined)(n[h])&&e&&(n[h]="application/json; charset=utf-8"),t)if(e)m=JSON.stringify(t);else{m=new FormData;for(var y in t)m.append(y,t[y])}var C={method:m?"POST":"GET",credentials:r.credentials,headers:n,body:m};return lu(lu({},C),(0,i.isFunction)(o)?o(C):o)},l}();const uh=qf;var Xf;(function(l){l.start="storage:start",l.startStore="storage:start:store",l.startLoad="storage:start:load",l.load="storage:load",l.store="storage:store",l.after="storage:after",l.afterStore="storage:after:store",l.afterLoad="storage:after:load",l.end="storage:end",l.endStore="storage:end:store",l.endLoad="storage:end:load",l.error="storage:error",l.errorStore="storage:error:store",l.errorLoad="storage:error:load"})(Xf||(Xf={}));const br=Xf;var ch=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),an=function(){return an=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},an.apply(this,arguments)},gc=function(l,r,t,e){function n(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function h(C){try{y(e.next(C))}catch(P){c(P)}}function m(C){try{y(e.throw(C))}catch(P){c(P)}}function y(C){C.done?o(C.value):n(C.value).then(h,m)}y((e=e.apply(l,r||[])).next())})},Zf=function(l,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,n,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(y){return function(C){return m([y,C])}}function m(y){if(e)throw new TypeError("Generator is already executing.");for(;c&&(c=0,y[0]&&(t=0)),t;)try{if(e=1,n&&(o=y[0]&2?n.return:y[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,y[1])).done)return o;switch(n=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,n=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){t.label=y[1];break}if(y[0]===6&&t.label<o[1]){t.label=o[1],o=y;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(y);break}o[2]&&t.ops.pop(),t.trys.pop();continue}y=r.call(l,t)}catch(C){y=[6,C],n=0}finally{e=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Ei="local",fh="remote",mc=function(l){ch(r,l);function r(t){var e=l.call(this,t,"StorageManager",rh)||this;e.storages={},e.events=br;var n=e.config;return n._disable&&(n.type=void 0),e.storages={},e.add(Ei,new Fg),e.add(fh,new uh),e.setCurrent(n.type),e}return r.prototype.isAutosave=function(){return!!this.config.autosave},r.prototype.setAutosave=function(t){return this.config.autosave=!!t,this},r.prototype.getStepsBeforeSave=function(){return this.config.stepsBeforeSave},r.prototype.setStepsBeforeSave=function(t){return this.config.stepsBeforeSave=t,this},r.prototype.add=function(t,e){return this.storages[t]=e,this},r.prototype.get=function(t){return this.storages[t]},r.prototype.getStorages=function(){return this.storages},r.prototype.getCurrent=function(){return this.config.currentStorage},r.prototype.setCurrent=function(t){return this.getConfig().currentStorage=t,this},r.prototype.getCurrentStorage=function(){return this.get(this.getCurrent())},r.prototype.getStorageOptions=function(t){return this.getCurrentOptions(t)},r.prototype.store=function(t,e){return e===void 0&&(e={}),gc(this,void 0,void 0,function(){var n,o,c,h,m,y;return Zf(this,function(C){switch(C.label){case 0:n=this.getCurrentStorage(),o=an(an({},this.getCurrentOptions()),e),c=this.getRecoveryStorage(),h=this.getCurrentOptions(Ei),C.label=1;case 1:return C.trys.push([1,5,,9]),[4,this.__exec(n,o,t)];case 2:return C.sent(),m=c,m?[4,this.__exec(c,h,{})]:[3,4];case 3:m=C.sent(),C.label=4;case 4:return[3,9];case 5:return y=C.sent(),c?[4,this.__exec(c,h,t)]:[3,7];case 6:return C.sent(),[3,8];case 7:throw y;case 8:return[3,9];case 9:return[2,t]}})})},r.prototype.load=function(t){return t===void 0&&(t={}),gc(this,void 0,void 0,function(){var e,n,o,c,h;return Zf(this,function(m){switch(m.label){case 0:return e=this.getCurrentStorage(),n=an(an({},this.getCurrentOptions()),t),o=this.getRecoveryStorage(),o?[4,this.__exec(o,this.getCurrentOptions(Ei))]:[3,5];case 1:if(h=m.sent(),(0,i.isEmpty)(h))return[3,5];m.label=2;case 2:return m.trys.push([2,4,,5]),[4,this.__askRecovery()];case 3:return m.sent(),c=h,[3,5];case 4:return m.sent(),[3,5];case 5:return c?[3,7]:[4,this.__exec(e,n)];case 6:c=m.sent(),m.label=7;case 7:return[2,c||{}]}})})},r.prototype.__askRecovery=function(){var t=this.em,e=this.getRecovery();return new Promise(function(n,o){(0,i.isFunction)(e)?e(n,o,t==null?void 0:t.getEditor()):confirm(t==null?void 0:t.t("storageManager.recover"))?n(null):o()})},r.prototype.getRecovery=function(){return this.config.recovery},r.prototype.getRecoveryStorage=function(){var t=this.getRecovery();return t&&this.getCurrent()===fh&&this.get(Ei)},r.prototype.__exec=function(t,e,n){var o;return gc(this,void 0,void 0,function(){var c,h,m,y,C,P,D,z,q,ot,ft,xt,Ft;return Zf(this,function(Rt){switch(Rt.label){case 0:if(c=n?"store":"load",h=this.getConfig(),m=h.onStore,y=h.onLoad,this.onStart(c,n),!t)return[2,n||{}];Rt.label=1;case 1:return Rt.trys.push([1,14,,15]),P=(o=this.em)===null||o===void 0?void 0:o.getEditor(),D=void 0,n?(q=m,q?[4,m(n,P)]:[3,3]):[3,7];case 2:q=Rt.sent(),Rt.label=3;case 3:return z=q||n,ot=e.onStore,ot?[4,e.onStore(z,P)]:[3,5];case 4:ot=Rt.sent(),Rt.label=5;case 5:return z=ot||z,[4,t.store(z,e)];case 6:return D=Rt.sent(),C=n,[3,13];case 7:return[4,t.load(e)];case 8:return D=Rt.sent(),C=this.__clearKeys(D),ft=e.onLoad,ft?[4,e.onLoad(C,P)]:[3,10];case 9:ft=Rt.sent(),Rt.label=10;case 10:return C=ft||C,xt=y,xt?[4,y(C,P)]:[3,12];case 11:xt=Rt.sent(),Rt.label=12;case 12:C=xt||C,Rt.label=13;case 13:return this.onAfter(c,C,D),this.onEnd(c,C,D),[3,15];case 14:throw Ft=Rt.sent(),this.onError(c,Ft),Ft;case 15:return[2,C]}})})},r.prototype.__clearKeys=function(t){t===void 0&&(t={});var e=this.getConfig(),n=new RegExp("^".concat(e.id)),o={};for(var c in t){var h=c.replace(n,"");o[h]=t[c]}return o},r.prototype.getCurrentOptions=function(t){var e=this.getConfig(),n=t||this.getCurrent();return e.options[n]||{}},r.prototype.onStart=function(t,e){var n=this.em;if(n){var o=t==="load"?br.startLoad:br.startStore;n.trigger(br.start,t,e),n.trigger(o,e)}},r.prototype.onAfter=function(t,e,n){var o=this.em;if(o){var c=t==="load"?br.afterLoad:br.afterStore;o.trigger(br.after),o.trigger(c,e,n);var h=t==="load"?br.load:br.store;o.trigger(h,e,n)}},r.prototype.onEnd=function(t,e,n){var o=this.em;if(o){var c=t==="load"?br.endLoad:br.endStore;o.trigger(br.end,t,e,n),o.trigger(c,e,n)}},r.prototype.onError=function(t,e){var n=this.em;if(n){var o=t==="load"?br.errorLoad:br.errorStore;n.trigger(br.error,e,t),n.trigger(o,e),this.onEnd(t,e)}},r.prototype.canAutoload=function(){var t=this.getCurrentStorage();return!!t&&!!this.config.autoload},r.prototype.destroy=function(){this.storages={}},r}(J);const Ug=mc;var Hn={stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}],custom:!1};const Wg=Hn;var $g=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),uu=function(){return uu=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},uu.apply(this,arguments)},cu=function(l){$g(r,l);function r(t){t===void 0&&(t={});var e=l.call(this,t)||this;e.events={},e.appendInput=!0;var n=t.config,o=n===void 0?{}:n,c=e,h=c.model,m=c.eventCapture,y=h.target,C=h.attributes.type;e.config=o,e.em=o.em,e.pfx=o.stylePrefix||"",e.ppfx=o.pStylePrefix||"",e.target=y,e.className=e.pfx+"trait",e.clsField="".concat(e.ppfx,"field ").concat(e.ppfx,"field-").concat(C);var P=[["change:value",e.onValueChange],["remove",e.removeView]];return P.forEach(function(D){var z=D[0],q=D[1];h.off(z,q),e.listenTo(h,z,q)}),h.view=e,e.listenTo(h,"change:label",e.render),e.listenTo(h,"change:placeholder",e.rerender),e.events={},m.forEach(function(D){return e.events[D]="onChange"}),e.delegateEvents(),e.init(),e}return r.prototype.attributes=function(){return this.model.get("attributes")||{}},r.prototype.templateLabel=function(t){var e=this.ppfx,n=this.getLabel();return'<div class="'.concat(e,'label" title="').concat(n,'">').concat(n,"</div>")},r.prototype.templateInput=function(t){var e=this.clsField;return'<div class="'.concat(e,'" data-input></div>')},r.prototype.getClbOpts=function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},r.prototype.removeView=function(){this.remove(),this.removed()},r.prototype.init=function(){},r.prototype.removed=function(){},r.prototype.onRender=function(t){},r.prototype.onUpdate=function(t){},r.prototype.onEvent=function(t){},r.prototype.onChange=function(t){var e=this.getInputElem();e&&!(0,i.isUndefined)(e.value)&&this.model.set("value",e.value),this.onEvent(uu(uu({},this.getClbOpts()),{event:t}))},r.prototype.getValueForTarget=function(){return this.model.get("value")},r.prototype.setInputValue=function(t){var e=this.getInputElem();e&&(e.value=t)},r.prototype.onValueChange=function(t,e,n){if(n===void 0&&(n={}),n.fromTarget)this.setInputValue(t.get("value")),this.postUpdate();else{var o=this.getValueForTarget();t.setTargetValue(o,n)}},r.prototype.renderLabel=function(){var t=this,e=t.$el,n=t.target,o=this.getLabel(),c=this.templateLabel(n);this.createLabel&&(c=this.createLabel({label:o,component:n,trait:this})||""),e.find("[data-label]").append(c)},r.prototype.getLabel=function(){var t=this.em,e=this.model.attributes,n=e.label,o=e.name;return t.t("traitManager.traits.labels.".concat(o))||(0,s.capitalize)(n||o).replace(/-/g," ")},r.prototype.getComponent=function(){return this.target},r.prototype.getInputEl=function(){if(!this.$input){var t=this,e=t.em,n=t.model,o=n,c=n.attributes.name,h=o.get("placeholder")||o.get("default")||"",m=o.get("type")||"text",y=o.get("min"),C=o.get("max"),P=this.getModelValue(),D=(0,S.default)('<input type="'.concat(m,'">')),z=e.t("traitManager.traits.attributes.".concat(c))||{};D.attr(uu({placeholder:h},z)),(0,i.isUndefined)(P)||(o.set({value:P},{silent:!0}),D.prop("value",P)),y&&D.prop("min",y),C&&D.prop("max",C),this.$input=D}return this.$input.get(0)},r.prototype.getInputElem=function(){var t=this,e=t.input,n=t.$input;return e||n&&n.get&&n.get(0)||this.getElInput()},r.prototype.getModelValue=function(){return this.model.getValue()},r.prototype.getElInput=function(){return this.elInput},r.prototype.renderField=function(){var t=this,e=t.$el,n=t.appendInput,o=t.model,c=e.find("[data-input]"),h=c[c.length-1],m=o.el;m||(m=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,i.isString)(m)?(h.innerHTML=m,this.elInput=h.firstChild):(n?h.appendChild(m):h.insertBefore(m,h.firstChild),this.elInput=m),o.el=this.elInput},r.prototype.hasLabel=function(){var t=this.model.attributes.label;return!this.noLabel&&t!==!1},r.prototype.rerender=function(){delete this.model.el,this.render()},r.prototype.postUpdate=function(){this.onUpdate(this.getClbOpts())},r.prototype.render=function(){var t=this,e=t.$el,n=t.pfx,o=t.ppfx,c=t.model,h=c.attributes,m=h.type,y=h.id,C=this.hasLabel&&this.hasLabel(),P="".concat(n,"trait");delete this.$input;var D='<div class="'.concat(P," ").concat(P,"--").concat(m,`">
      `).concat(C?'<div class="'.concat(o,'label-wrp" data-label></div>'):"",`
      <div class="`).concat(o,"field-wrp ").concat(o,"field-wrp--").concat(m,`" data-input>
        `).concat(this.templateInput?(0,i.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"",`
      </div>
    </div>`);return e.empty().append(D),C&&this.renderLabel(),this.renderField(),this.el.className="".concat(P,"__wrp ").concat(P,"__wrp-").concat(y),this.postUpdate(),this.onRender(this.getClbOpts()),this},r}(O.G7);const a=cu;cu.prototype.eventCapture=["change"];var u=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),p=function(l){u(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.templateInput=function(){return""},r.prototype.onChange=function(){this.handleClick()},r.prototype.handleClick=function(){this.model.runCommand()},r.prototype.renderLabel=function(){this.model.get("label")&&a.prototype.renderLabel.apply(this)},r.prototype.getInputEl=function(){var t=this,e=t.model,n=t.ppfx,o=e.props(),c=o.labelButton,h=o.text,m=o.full,y=c||h,C="".concat(n,"btn"),P='<button type="button" class="'.concat(C,"-prim").concat(m?" ".concat(C,"--full"):"",'">').concat(y,"</button>");return P},r}(a);const d=p;p.prototype.eventCapture=["click button"];var g=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),b=function(l){g(r,l);function r(){var t=l!==null&&l.apply(this,arguments)||this;return t.appendInput=!1,t}return r.prototype.templateInput=function(){var t=this,e=t.ppfx,n=t.clsField;return'<label class="'.concat(n,`" data-input>
    <i class="`).concat(e,`chk-icon"></i>
  </label>`)},r.prototype.onChange=function(){this.model.set("value",this.getInputElem().checked)},r.prototype.setInputValue=function(t){var e=this.getInputElem();e&&(e.checked=!!t)},r.prototype.getInputEl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=!this.$input,o=a.prototype.getInputEl.apply(this,t);if(n){var c=void 0,h=void 0,m=this,y=m.model,C=m.target,P=y.attributes.valueFalse,D=y.getName();y.changeProp?(c=C.get(D),h=c):(h=C.get("attributes")[D],c=!!(h||h==="")),!(0,i.isUndefined)(P)&&h===P&&(c=!1),o.checked=c}return o},r}(a);const T=b;function k(l,r){if(!(0,s.hasWin)())return;var t={beforeShow:z,move:z,change:z,show:z,hide:z,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},e=[],n=!!/msie/i.exec(window.navigator.userAgent),o=function(){function ut(Qt,re){return!!~(""+Qt).indexOf(re)}var Dt=document.createElement("div"),nt=Dt.style;return nt.cssText="background-color:rgba(0,0,0,.5)",ut(nt.backgroundColor,"rgba")||ut(nt.backgroundColor,"hsla")}(),c=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),h=function(){var ut="";if(n)for(var Dt=1;Dt<=6;Dt++)ut+="<div class='sp-"+Dt+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",ut,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function m(ut,Dt,nt,Qt){for(var re=[],we=0;we<ut.length;we++){var Ue=ut[we];if(Ue){var qe=se(Ue),Ve=qe.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";Ve+=se.equals(Dt,Ue)?" sp-thumb-active":"";var Kn=qe.toString(Qt.preferredFormat||"rgb"),fr=o?"background-color:"+qe.toRgbString():"filter:"+qe.toFilter();re.push('<span title="'+Kn+'" data-color="'+qe.toRgbString()+'" class="'+Ve+'"><span class="sp-thumb-inner" style="'+fr+';"></span></span>')}else{var sr="sp-clear-display";re.push(l("<div />").append(l('<span data-color="" style="background-color:transparent;" class="'+sr+'"></span>').attr("title",Qt.noColorSelectedText)).html())}}return"<div class='sp-cf "+nt+"'>"+re.join("")+"</div>"}function y(){for(var ut=0;ut<e.length;ut++)e[ut]&&e[ut].hide()}function C(ut,Dt){var nt=l.extend({},t,ut);return nt.callbacks={move:ot(nt.move,Dt),change:ot(nt.change,Dt),show:ot(nt.show,Dt),hide:ot(nt.hide,Dt),beforeShow:ot(nt.beforeShow,Dt)},nt}function P(ut,Dt){var nt=C(Dt,ut),Qt=nt.flat,re=nt.showSelectionPalette,we=nt.localStorageKey,Ue=nt.theme,qe=nt.callbacks,Ve=xt(Su,10),Kn=!1,fr=!1,sr=!0,as=0,Ai=0,ha=0,Mn=0,va=0,Nh=0,Ih=0,_u=0,wu=0,ud=0,ga=1,Rh=[],cd=[],Fh={},ma=nt.selectionPalette.slice(0),yP=nt.maxSelectionSize,uw="sp-dragging",Ys=null,fd=ut.ownerDocument;fd.body;var dr=l(ut),Om=!1,en=l(h,fd).addClass(Ue),_P=en.find(".sp-picker-container"),Vh=en.find(".sp-color"),Hh=en.find(".sp-dragger"),Tm=en.find(".sp-hue"),zh=en.find(".sp-slider"),dd=en.find(".sp-alpha-inner"),cw=en.find(".sp-alpha"),Bh=en.find(".sp-alpha-handle"),ya=en.find(".sp-input"),fw=en.find(".sp-palette"),dw=en.find(".sp-initial"),pw=en.find(".sp-cancel"),Em=en.find(".sp-clear"),hw=en.find(".sp-choose"),Pm=en.find(".sp-palette-toggle"),Uh=dr.is("input"),wP=Uh&&dr.attr("type")==="color"&&Ft(),km=Uh&&!Qt,Oc=km?l(c).addClass(Ue).addClass(nt.className).addClass(nt.replacerClassName):l([]),pd=km?Oc:dr,Tc=Oc.find(".sp-preview-inner"),hd=nt.color||Uh&&dr.val(),Ec=!1,Pc=nt.preferredFormat,bP=!nt.showButtons||nt.clickoutFiresChange,qs=!hd,bu=nt.allowEmpty&&!wP;function Am(){if(nt.showPaletteOnly&&(nt.showPalette=!0),Pm.text(nt.showPaletteOnly?nt.togglePaletteMoreText:nt.togglePaletteLessText),nt.palette){Rh=nt.palette.slice(0),cd=l.isArray(Rh[0])?Rh:[Rh],Fh={};for(var je=0;je<cd.length;je++)for(var Ie=0;Ie<cd[je].length;Ie++){var vn=se(cd[je][Ie]).toRgbString();Fh[vn]=!0}}en.toggleClass("sp-flat",Qt),en.toggleClass("sp-input-disabled",!nt.showInput),en.toggleClass("sp-alpha-enabled",nt.showAlpha),en.toggleClass("sp-clear-enabled",bu),en.toggleClass("sp-buttons-disabled",!nt.showButtons),en.toggleClass("sp-palette-buttons-disabled",!nt.togglePaletteOnly),en.toggleClass("sp-palette-disabled",!nt.showPalette),en.toggleClass("sp-palette-only",nt.showPaletteOnly),en.toggleClass("sp-initial-disabled",!nt.showInitial),en.addClass(nt.className).addClass(nt.containerClassName),Su()}function CP(){if(n&&en.find("*:not(input)").attr("unselectable","on"),Am(),km&&dr.after(Oc).hide(),bu||Em.hide(),Qt)dr.after(en).hide();else{var je=nt.appendTo==="parent"?dr.parent():l(nt.appendTo);je.length!==1&&(je=l("body")),je.append(en)}vw(),pd.bind("click.spectrum touchstart.spectrum",function($e){Om||yw(),$e.stopPropagation(),l($e.target).is("input")||$e.preventDefault()}),(dr.is(":disabled")||nt.disabled===!0)&&xw(),en.click(q),ya.change(jm),ya.bind("paste",function(){setTimeout(jm,1)}),ya.keydown(function($e){$e.keyCode==13&&jm()}),pw.text(nt.cancelText),pw.bind("click.spectrum",function($e){$e.stopPropagation(),$e.preventDefault(),bw(),Xs()}),Em.attr("title",nt.clearText),Em.bind("click.spectrum",function($e){$e.stopPropagation(),$e.preventDefault(),qs=!0,kc(),Qt&&xu(!0)}),hw.text(nt.chooseText),hw.bind("click.spectrum",function($e){$e.stopPropagation(),$e.preventDefault(),n&&ya.is(":focus")&&ya.trigger("change"),SP()&&(xu(!0),Xs())}),Pm.text(nt.showPaletteOnly?nt.togglePaletteMoreText:nt.togglePaletteLessText),Pm.bind("click.spectrum",function($e){$e.stopPropagation(),$e.preventDefault(),nt.showPaletteOnly=!nt.showPaletteOnly,!nt.showPaletteOnly&&!Qt&&en.css("left","-="+(_P.outerWidth(!0)+5)),Am()}),ft(cw,function($e,Mi,Ou){ga=$e/va,qs=!1,Ou.shiftKey&&(ga=Math.round(ga*10)/10),kc()},Lm,Dm),ft(Tm,function($e,Mi){_u=parseFloat(Mi/Mn),qs=!1,nt.showAlpha||(ga=1),kc()},Lm,Dm),ft(Vh,function($e,Mi,Ou){if(!Ou.shiftKey)Ys=null;else if(!Ys){var $h=wu*as,vd=Ai-ud*Ai,gd=Math.abs($e-$h)>Math.abs(Mi-vd);Ys=gd?"x":"y"}var kP=!Ys||Ys==="x",AP=!Ys||Ys==="y";kP&&(wu=parseFloat($e/as)),AP&&(ud=parseFloat((Ai-Mi)/Ai)),qs=!1,nt.showAlpha||(ga=1),kc()},Lm,Dm),hd?(Cu(hd),Ac(),Pc=nt.preferredFormat||se(hd).getFormat(),Mm(hd)):Ac(),Qt&&Nm();function Ie($e){return $e.data&&$e.data.ignore?(Cu(l($e.target).closest(".sp-thumb-el").data("color")),kc()):(Cu(l($e.target).closest(".sp-thumb-el").data("color")),kc(),nt.hideAfterPaletteSelect&&(xu(!0),Xs())),!1}var vn=n?"mousedown.spectrum":"click.spectrum touchstart.spectrum";fw.delegate(".sp-thumb-el",vn,Ie),dw.delegate(".sp-thumb-el:nth-child(1)",vn,{ignore:!0},Ie)}function vw(){if(we&&window.localStorage){try{var je=window.localStorage[we].split(",#");je.length>1&&(delete window.localStorage[we],l.each(je,function(Ie,vn){Mm(vn)}))}catch{}try{ma=window.localStorage[we].split(";")}catch{}}}function Mm(je){if(re){var Ie=se(je).toRgbString();if(!Fh[Ie]&&l.inArray(Ie,ma)===-1)for(ma.push(Ie);ma.length>yP;)ma.shift();if(we&&window.localStorage)try{window.localStorage[we]=ma.join(";")}catch{}}}function xP(){var je=[];if(nt.showPalette)for(var Ie=0;Ie<ma.length;Ie++){var vn=se(ma[Ie]).toRgbString();Fh[vn]||je.push(ma[Ie])}return je.reverse().slice(0,nt.maxSelectionSize)}function gw(){var je=_o(),Ie=l.map(cd,function(vn,$e){return m(vn,je,"sp-palette-row sp-palette-row-"+$e,nt)});vw(),ma&&Ie.push(m(xP(),je,"sp-palette-row sp-palette-row-selection",nt)),fw.html(Ie.join(""))}function mw(){if(nt.showInitial){var je=Ec,Ie=_o();dw.html(m([je,Ie],Ie,"sp-palette-row-initial",nt))}}function Lm(){(Ai<=0||as<=0||Mn<=0)&&Su(),fr=!0,en.addClass(uw),Ys=null,dr.trigger("dragstart.spectrum",[_o()])}function Dm(){fr=!1,en.removeClass(uw),dr.trigger("dragstop.spectrum",[_o()])}function jm(){var je=ya.val();if((je===null||je==="")&&bu)Cu(null),xu(!0);else{var Ie=se(je);Ie.isValid()?(Cu(Ie),xu(!0)):ya.addClass("sp-validation-error")}}function yw(){Kn?Xs():Nm()}function Nm(){var je=l.Event("beforeShow.spectrum");if(Kn){Su();return}if(dr.trigger("beforeShow.spectrum",[_o()]),!(qe.beforeShow(_o())===!1||je.isDefaultPrevented())){y(),Kn=!0;var Ie=l(fd);Ie.bind("keydown.spectrum",_w),Ie.bind("click.spectrum",ww),l(window).bind("resize.spectrum",Ve),Oc.addClass("sp-active"),en.removeClass("sp-hidden"),Su(),Ac(),Ec=_o(),mw(),qe.show(Ec),dr.trigger("show.spectrum",[Ec])}}function _w(je){je.keyCode===27&&Xs()}function ww(je){je.button!=2&&(fr||(bP?xu(!0):bw(),Xs()))}function Xs(){!Kn||Qt||(Kn=!1,l(fd).unbind("keydown.spectrum",_w),l(fd).unbind("click.spectrum",ww),l(window).unbind("resize.spectrum",Ve),Oc.removeClass("sp-active"),en.addClass("sp-hidden"),qe.hide(_o()),dr.trigger("hide.spectrum",[_o()]))}function bw(){Cu(Ec,!0)}function Cu(je,Ie){if(se.equals(je,_o())){Ac();return}var vn,$e;!je&&bu?qs=!0:(qs=!1,sr=!je,vn=se(je),$e=vn.toHsv(),_u=$e.h%360/360,wu=$e.s,ud=$e.v,ga=$e.a),Ac(),vn&&vn.isValid()&&!Ie&&(Pc=nt.preferredFormat||vn.getFormat())}function _o(je){return je=je||{},bu&&qs?null:se.fromRatio({h:_u,s:wu,v:ud,a:Math.round(ga*100)/100},{format:je.format||Pc})}function SP(){return!ya.hasClass("sp-validation-error")}function kc(){Ac(),qe.move(_o()),dr.trigger("move.spectrum",[_o()])}function Ac(){ya.removeClass("sp-validation-error"),Cw();var je=se.fromRatio({h:_u,s:1,v:1});Vh.css("background-color",je.toHexString());var Ie=Pc;ga<1&&!(ga===0&&Ie==="name")&&(Ie==="hex"||Ie==="hex3"||Ie==="hex6"||Ie==="name")&&(Ie="rgb");var vn=_o({format:Ie}),$e="";if(Tc.removeClass("sp-clear-display"),Tc.css("background-color","transparent"),!vn&&bu)Tc.addClass("sp-clear-display");else{var Mi=vn.toHexString(),Ou=vn.toRgbString();if(o||vn.alpha===1?Tc.css("background-color",Ou):(Tc.css("background-color","transparent"),Tc.css("filter",vn.toFilter())),nt.showAlpha){var $h=vn.toRgb();$h.a=0;var vd=se($h).toRgbString(),gd="linear-gradient(left, "+vd+", "+Mi+")";n?dd.css("filter",se(vd).toFilter({gradientType:1},Mi)):(dd.css("background","-webkit-"+gd),dd.css("background","-moz-"+gd),dd.css("background","-ms-"+gd),dd.css("background","linear-gradient(to right, "+vd+", "+Mi+")"))}$e=vn.toString(Ie)}nt.showInput&&ya.val($e),nt.showPalette&&gw(),mw()}function Cw(){var je=wu,Ie=ud;if(bu&&qs)Bh.hide(),zh.hide(),Hh.hide();else{Bh.show(),zh.show(),Hh.show();var vn=je*as,$e=Ai-Ie*Ai;vn=Math.max(-ha,Math.min(as-ha,vn-ha)),$e=Math.max(-ha,Math.min(Ai-ha,$e-ha)),Hh.css({top:$e+"px",left:vn+"px"});var Mi=ga*va;Bh.css({left:Mi-Nh/2+"px"});var Ou=_u*Mn;zh.css({top:Ou-Ih+"px"})}}function xu(je){var Ie=_o(),vn="",$e=sr?!0:!se.equals(Ie,Ec);Ie&&(vn=Ie.toString(Pc),!Kn&&Mm(Ie)),Uh&&dr.val(vn),je&&$e&&(qe.change(Ie),dr.trigger("change",[Ie]))}function Su(){Kn&&(as=Vh.width(),Ai=Vh.height(),ha=Hh.height(),Tm.width(),Mn=Tm.height(),Ih=zh.height(),va=cw.width(),Nh=Bh.width(),Qt||(en.css("position","absolute"),nt.offset?en.offset(nt.offset):en.offset(D(en,pd))),Cw(),nt.showPalette&&gw(),dr.trigger("reflow.spectrum"))}function OP(){dr.show(),pd.unbind("click.spectrum touchstart.spectrum"),en.remove(),Oc.remove(),e[Wh.id]=null}function TP(je,Ie){if(je===r)return l.extend({},nt);if(Ie===r)return nt[je];nt[je]=Ie,je==="preferredFormat"&&(Pc=nt.preferredFormat),Am()}function EP(){Om=!1,dr.attr("disabled",!1),pd.removeClass("sp-disabled")}function xw(){Xs(),Om=!0,dr.attr("disabled",!0),pd.addClass("sp-disabled")}function PP(je){nt.offset=je,Su()}CP();var Wh={show:Nm,hide:Xs,toggle:yw,reflow:Su,option:TP,enable:EP,disable:xw,offset:PP,set:function(je){Cu(je),xu()},get:_o,destroy:OP,container:en};return Wh.id=e.push(Wh)-1,Wh}function D(ut,Dt){for(var nt=Dt[0],Qt=ut[0],re=Qt.parentElement,we=nt.getBoundingClientRect(),Ue=Qt.offsetWidth,qe=Qt.offsetHeight,Ve={top:0,left:0,width:nt.offsetWidth,height:nt.offsetHeight};nt&&(Ve.top+=nt.offsetTop-nt.scrollTop,Ve.left+=nt.offsetLeft-nt.scrollLeft,!(nt===re||!re.contains(nt.offsetParent)));)nt=nt.offsetParent;return we.right+Ue>window.innerWidth-window.scrollX&&we.right-Ue>0&&(Ve.left-=Ue-Ve.width),we.bottom+qe<window.innerHeight-window.scrollY?Ve.top+=Ve.height:Ve.top-=qe,Ve}function z(){}function q(ut){ut.stopPropagation()}function ot(ut,Dt){var nt=Array.prototype.slice,Qt=nt.call(arguments,2);return function(){return ut.apply(Dt,Qt.concat(nt.call(arguments)))}}function ft(ut,Dt,nt,Qt){Dt=Dt||function(){},nt=nt||function(){},Qt=Qt||function(){};var re=document,we=!1,Ue={},qe=0,Ve=0,Kn="ontouchstart"in window,fr={};fr.selectstart=sr,fr.dragstart=sr,fr["touchmove mousemove"]=as,fr["touchend mouseup"]=ha;function sr(Mn){Mn.stopPropagation&&Mn.stopPropagation(),Mn.preventDefault&&Mn.preventDefault(),Mn.returnValue=!1}function as(Mn){if(we){if(n&&re.documentMode<9&&!Mn.button)return ha();var va=Mn&&Mn.touches&&Mn.touches[0],Nh=va&&va.pageX||Mn.pageX,Ih=va&&va.pageY||Mn.pageY,_u=Math.max(0,Math.min(Nh-Ue.left,Ve)),wu=Math.max(0,Math.min(Ih-Ue.top,qe));Kn&&sr(Mn),Dt.apply(ut,[_u,wu,Mn])}}function Ai(Mn){var va=Mn.which?Mn.which==3:Mn.button==2;!va&&!we&&nt.apply(ut,arguments)!==!1&&(we=!0,qe=l(ut).height(),Ve=l(ut).width(),Ue=l(ut).offset(),l(re).bind(fr),l(re.body).addClass("sp-dragging"),as(Mn),sr(Mn))}function ha(){we&&(l(re).unbind(fr),l(re.body).removeClass("sp-dragging"),setTimeout(function(){Qt.apply(ut,arguments)},0)),we=!1}l(ut).bind("touchstart mousedown",Ai)}function xt(ut,Dt,nt){var Qt;return function(){var re=this,we=arguments,Ue=function(){Qt=null,ut.apply(re,we)};Qt||(Qt=setTimeout(Ue,Dt))}}function Ft(){return l.fn.spectrum.inputTypeColorSupport()}var Rt="spectrum.id";l.fn.spectrum=function(ut,Dt){if(typeof ut=="string"){var nt=this,Qt=Array.prototype.slice.call(arguments,1);return this.each(function(){var re=e[l(this).data(Rt)];if(re){var we=re[ut];if(!we)throw new Error("Spectrum: no such method: '"+ut+"'");ut=="get"?nt=re.get():ut=="container"?nt=re.container:ut=="option"?nt=re.option.apply(re,Qt):ut=="destroy"?(re.destroy(),l(this).removeData(Rt)):we.apply(re,Qt)}}),nt}return this.spectrum("destroy").each(function(){var re=l.extend({},ut,l(this).data()),we=P(this,re);l(this).data(Rt,we.id)})},l.fn.spectrum.load=!0,l.fn.spectrum.loadOpts={},l.fn.spectrum.draggable=ft,l.fn.spectrum.defaults=t,l.fn.spectrum.inputTypeColorSupport=function ut(){if(typeof ut._cachedResult>"u"){var Dt=l("<input type='color'/>")[0];ut._cachedResult=Dt.type==="color"&&Dt.value!==""}return ut._cachedResult},l.spectrum={},l.spectrum.localization={},l.spectrum.palettes={},l.fn.spectrum.processNativeColorInputs=function(){var ut=l("input[type=color]");ut.length&&!Ft()&&ut.spectrum({preferredFormat:"hex6"})};var Xt=/^[\s,#]+/,de=/\s+$/,Oe=0,De=Math,pe=De.round,Fe=De.min,Ye=De.max,yn=De.random,se=function(ut,Dt){if(ut=ut||"",Dt=Dt||{},ut instanceof se)return ut;if(!(this instanceof se))return new se(ut,Dt);var nt=Sr(ut);this._originalInput=ut,this._r=nt.r,this._g=nt.g,this._b=nt.b,this._a=nt.a,this._roundA=pe(100*this._a)/100,this._format=Dt.format||nt.format,this._gradientType=Dt.gradientType,this._r<1&&(this._r=pe(this._r)),this._g<1&&(this._g=pe(this._g)),this._b<1&&(this._b=pe(this._b)),this._ok=nt.ok,this._tc_id=Oe++};se.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var ut=this.toRgb();return(ut.r*299+ut.g*587+ut.b*114)/1e3},setAlpha:function(ut){return this._a=lw(ut),this._roundA=pe(100*this._a)/100,this},toHsv:function(){var ut=Ro(this._r,this._g,this._b);return{h:ut.h*360,s:ut.s,v:ut.v,a:this._a}},toHsvString:function(){var ut=Ro(this._r,this._g,this._b),Dt=pe(ut.h*360),nt=pe(ut.s*100),Qt=pe(ut.v*100);return this._a==1?"hsv("+Dt+", "+nt+"%, "+Qt+"%)":"hsva("+Dt+", "+nt+"%, "+Qt+"%, "+this._roundA+")"},toHsl:function(){var ut=os(this._r,this._g,this._b);return{h:ut.h*360,s:ut.s,l:ut.l,a:this._a}},toHslString:function(){var ut=os(this._r,this._g,this._b),Dt=pe(ut.h*360),nt=pe(ut.s*100),Qt=pe(ut.l*100);return this._a==1?"hsl("+Dt+", "+nt+"%, "+Qt+"%)":"hsla("+Dt+", "+nt+"%, "+Qt+"%, "+this._roundA+")"},toHex:function(ut){return gu(this._r,this._g,this._b,ut)},toHexString:function(ut){return"#"+this.toHex(ut)},toHex8:function(){return mu(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:pe(this._r),g:pe(this._g),b:pe(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+pe(this._r)+", "+pe(this._g)+", "+pe(this._b)+")":"rgba("+pe(this._r)+", "+pe(this._g)+", "+pe(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:pe(Bn(this._r,255)*100)+"%",g:pe(Bn(this._g,255)*100)+"%",b:pe(Bn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+pe(Bn(this._r,255)*100)+"%, "+pe(Bn(this._g,255)*100)+"%, "+pe(Bn(this._b,255)*100)+"%)":"rgba("+pe(Bn(this._r,255)*100)+"%, "+pe(Bn(this._g,255)*100)+"%, "+pe(Bn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:fP[gu(this._r,this._g,this._b,!0)]||!1},toFilter:function(ut){var Dt="#"+mu(this._r,this._g,this._b,this._a),nt=Dt,Qt=this._gradientType?"GradientType = 1, ":"";if(ut){var re=se(ut);nt=re.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+Qt+"startColorstr="+Dt+",endColorstr="+nt+")"},toString:function(ut){var Dt=!!ut;ut=ut||this._format;var nt=!1,Qt=this._a<1&&this._a>=0,re=!Dt&&Qt&&(ut==="hex"||ut==="hex6"||ut==="hex3"||ut==="name");return re?ut==="name"&&this._a===0?this.toName():this.toRgbString():(ut==="rgb"&&(nt=this.toRgbString()),ut==="prgb"&&(nt=this.toPercentageRgbString()),(ut==="hex"||ut==="hex6")&&(nt=this.toHexString()),ut==="hex3"&&(nt=this.toHexString(!0)),ut==="hex8"&&(nt=this.toHex8String()),ut==="name"&&(nt=this.toName()),ut==="hsl"&&(nt=this.toHslString()),ut==="hsv"&&(nt=this.toHsvString()),nt||this.toHexString())},_applyModification:function(ut,Dt){var nt=ut.apply(null,[this].concat([].slice.call(Dt)));return this._r=nt._r,this._g=nt._g,this._b=nt._b,this.setAlpha(nt._a),this},lighten:function(){return this._applyModification(eP,arguments)},brighten:function(){return this._applyModification(nP,arguments)},darken:function(){return this._applyModification(rP,arguments)},desaturate:function(){return this._applyModification(xm,arguments)},saturate:function(){return this._applyModification(QE,arguments)},greyscale:function(){return this._applyModification(tP,arguments)},spin:function(){return this._applyModification(oP,arguments)},_applyCombination:function(ut,Dt){return ut.apply(null,[this].concat([].slice.call(Dt)))},analogous:function(){return this._applyCombination(uP,arguments)},complement:function(){return this._applyCombination(iP,arguments)},monochromatic:function(){return this._applyCombination(cP,arguments)},splitcomplement:function(){return this._applyCombination(lP,arguments)},triad:function(){return this._applyCombination(aP,arguments)},tetrad:function(){return this._applyCombination(sP,arguments)}},se.fromRatio=function(ut,Dt){if(typeof ut=="object"){var nt={};for(var Qt in ut)ut.hasOwnProperty(Qt)&&(Qt==="a"?nt[Qt]=ut[Qt]:nt[Qt]=ld(ut[Qt]));ut=nt}return se(ut,Dt)};function Sr(ut){var Dt={r:0,g:0,b:0},nt=1,Qt=!1,re=!1;return typeof ut=="string"&&(ut=mP(ut)),typeof ut=="object"&&(ut.hasOwnProperty("r")&&ut.hasOwnProperty("g")&&ut.hasOwnProperty("b")?(Dt=rs(ut.r,ut.g,ut.b),Qt=!0,re=String(ut.r).substr(-1)==="%"?"prgb":"rgb"):ut.hasOwnProperty("h")&&ut.hasOwnProperty("s")&&ut.hasOwnProperty("v")?(ut.s=ld(ut.s),ut.v=ld(ut.v),Dt=Ks(ut.h,ut.s,ut.v),Qt=!0,re="hsv"):ut.hasOwnProperty("h")&&ut.hasOwnProperty("s")&&ut.hasOwnProperty("l")&&(ut.s=ld(ut.s),ut.l=ld(ut.l),Dt=da(ut.h,ut.s,ut.l),Qt=!0,re="hsl"),ut.hasOwnProperty("a")&&(nt=ut.a)),nt=lw(nt),{ok:Qt,format:ut.format||re,r:Fe(255,Ye(Dt.r,0)),g:Fe(255,Ye(Dt.g,0)),b:Fe(255,Ye(Dt.b,0)),a:nt}}function rs(ut,Dt,nt){return{r:Bn(ut,255)*255,g:Bn(Dt,255)*255,b:Bn(nt,255)*255}}function os(ut,Dt,nt){ut=Bn(ut,255),Dt=Bn(Dt,255),nt=Bn(nt,255);var Qt=Ye(ut,Dt,nt),re=Fe(ut,Dt,nt),we,Ue,qe=(Qt+re)/2;if(Qt==re)we=Ue=0;else{var Ve=Qt-re;switch(Ue=qe>.5?Ve/(2-Qt-re):Ve/(Qt+re),Qt){case ut:we=(Dt-nt)/Ve+(Dt<nt?6:0);break;case Dt:we=(nt-ut)/Ve+2;break;case nt:we=(ut-Dt)/Ve+4;break}we/=6}return{h:we,s:Ue,l:qe}}function da(ut,Dt,nt){var Qt,re,we;ut=Bn(ut,360),Dt=Bn(Dt,100),nt=Bn(nt,100);function Ue(Kn,fr,sr){return sr<0&&(sr+=1),sr>1&&(sr-=1),sr<1/6?Kn+(fr-Kn)*6*sr:sr<1/2?fr:sr<2/3?Kn+(fr-Kn)*(2/3-sr)*6:Kn}if(Dt===0)Qt=re=we=nt;else{var qe=nt<.5?nt*(1+Dt):nt+Dt-nt*Dt,Ve=2*nt-qe;Qt=Ue(Ve,qe,ut+1/3),re=Ue(Ve,qe,ut),we=Ue(Ve,qe,ut-1/3)}return{r:Qt*255,g:re*255,b:we*255}}function Ro(ut,Dt,nt){ut=Bn(ut,255),Dt=Bn(Dt,255),nt=Bn(nt,255);var Qt=Ye(ut,Dt,nt),re=Fe(ut,Dt,nt),we,Ue,qe=Qt,Ve=Qt-re;if(Ue=Qt===0?0:Ve/Qt,Qt==re)we=0;else{switch(Qt){case ut:we=(Dt-nt)/Ve+(Dt<nt?6:0);break;case Dt:we=(nt-ut)/Ve+2;break;case nt:we=(ut-Dt)/Ve+4;break}we/=6}return{h:we,s:Ue,v:qe}}function Ks(ut,Dt,nt){ut=Bn(ut,360)*6,Dt=Bn(Dt,100),nt=Bn(nt,100);var Qt=De.floor(ut),re=ut-Qt,we=nt*(1-Dt),Ue=nt*(1-re*Dt),qe=nt*(1-(1-re)*Dt),Ve=Qt%6,Kn=[nt,Ue,we,we,qe,nt][Ve],fr=[qe,nt,nt,Ue,we,we][Ve],sr=[we,we,qe,nt,nt,Ue][Ve];return{r:Kn*255,g:fr*255,b:sr*255}}function gu(ut,Dt,nt,Qt){var re=[yu(pe(ut).toString(16)),yu(pe(Dt).toString(16)),yu(pe(nt).toString(16))];return Qt&&re[0].charAt(0)==re[0].charAt(1)&&re[1].charAt(0)==re[1].charAt(1)&&re[2].charAt(0)==re[2].charAt(1)?re[0].charAt(0)+re[1].charAt(0)+re[2].charAt(0):re.join("")}function mu(ut,Dt,nt,Qt){var re=[yu(vP(Qt)),yu(pe(ut).toString(16)),yu(pe(Dt).toString(16)),yu(pe(nt).toString(16))];return re.join("")}se.equals=function(ut,Dt){return!ut||!Dt?!1:se(ut).toRgbString()==se(Dt).toRgbString()},se.random=function(){return se.fromRatio({r:yn(),g:yn(),b:yn()})};function xm(ut,Dt){Dt=Dt===0?0:Dt||10;var nt=se(ut).toHsl();return nt.s-=Dt/100,nt.s=jh(nt.s),se(nt)}function QE(ut,Dt){Dt=Dt===0?0:Dt||10;var nt=se(ut).toHsl();return nt.s+=Dt/100,nt.s=jh(nt.s),se(nt)}function tP(ut){return se(ut).desaturate(100)}function eP(ut,Dt){Dt=Dt===0?0:Dt||10;var nt=se(ut).toHsl();return nt.l+=Dt/100,nt.l=jh(nt.l),se(nt)}function nP(ut,Dt){Dt=Dt===0?0:Dt||10;var nt=se(ut).toRgb();return nt.r=Ye(0,Fe(255,nt.r-pe(255*-(Dt/100)))),nt.g=Ye(0,Fe(255,nt.g-pe(255*-(Dt/100)))),nt.b=Ye(0,Fe(255,nt.b-pe(255*-(Dt/100)))),se(nt)}function rP(ut,Dt){Dt=Dt===0?0:Dt||10;var nt=se(ut).toHsl();return nt.l-=Dt/100,nt.l=jh(nt.l),se(nt)}function oP(ut,Dt){var nt=se(ut).toHsl(),Qt=(pe(nt.h)+Dt)%360;return nt.h=Qt<0?360+Qt:Qt,se(nt)}function iP(ut){var Dt=se(ut).toHsl();return Dt.h=(Dt.h+180)%360,se(Dt)}function aP(ut){var Dt=se(ut).toHsl(),nt=Dt.h;return[se(ut),se({h:(nt+120)%360,s:Dt.s,l:Dt.l}),se({h:(nt+240)%360,s:Dt.s,l:Dt.l})]}function sP(ut){var Dt=se(ut).toHsl(),nt=Dt.h;return[se(ut),se({h:(nt+90)%360,s:Dt.s,l:Dt.l}),se({h:(nt+180)%360,s:Dt.s,l:Dt.l}),se({h:(nt+270)%360,s:Dt.s,l:Dt.l})]}function lP(ut){var Dt=se(ut).toHsl(),nt=Dt.h;return[se(ut),se({h:(nt+72)%360,s:Dt.s,l:Dt.l}),se({h:(nt+216)%360,s:Dt.s,l:Dt.l})]}function uP(ut,Dt,nt){Dt=Dt||6,nt=nt||30;var Qt=se(ut).toHsl(),re=360/nt,we=[se(ut)];for(Qt.h=(Qt.h-(re*Dt>>1)+720)%360;--Dt;)Qt.h=(Qt.h+re)%360,we.push(se(Qt));return we}function cP(ut,Dt){Dt=Dt||6;for(var nt=se(ut).toHsv(),Qt=nt.h,re=nt.s,we=nt.v,Ue=[],qe=1/Dt;Dt--;)Ue.push(se({h:Qt,s:re,v:we})),we=(we+qe)%1;return Ue}se.mix=function(ut,Dt,nt){nt=nt===0?0:nt||50;var Qt=se(ut).toRgb(),re=se(Dt).toRgb(),we=nt/100,Ue=we*2-1,qe=re.a-Qt.a,Ve;Ue*qe==-1?Ve=Ue:Ve=(Ue+qe)/(1+Ue*qe),Ve=(Ve+1)/2;var Kn=1-Ve,fr={r:re.r*Ve+Qt.r*Kn,g:re.g*Ve+Qt.g*Kn,b:re.b*Ve+Qt.b*Kn,a:re.a*we+Qt.a*(1-we)};return se(fr)},se.readability=function(ut,Dt){var nt=se(ut),Qt=se(Dt),re=nt.toRgb(),we=Qt.toRgb(),Ue=nt.getBrightness(),qe=Qt.getBrightness(),Ve=Math.max(re.r,we.r)-Math.min(re.r,we.r)+Math.max(re.g,we.g)-Math.min(re.g,we.g)+Math.max(re.b,we.b)-Math.min(re.b,we.b);return{brightness:Math.abs(Ue-qe),color:Ve}},se.isReadable=function(ut,Dt){var nt=se.readability(ut,Dt);return nt.brightness>125&&nt.color>500},se.mostReadable=function(ut,Dt){for(var nt=null,Qt=0,re=!1,we=0;we<Dt.length;we++){var Ue=se.readability(ut,Dt[we]),qe=Ue.brightness>125&&Ue.color>500,Ve=3*(Ue.brightness/125)+Ue.color/500;(qe&&!re||qe&&re&&Ve>Qt||!qe&&!re&&Ve>Qt)&&(re=qe,Qt=Ve,nt=se(Dt[we]))}return nt};var Sm=se.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},fP=se.hexNames=dP(Sm);function dP(ut){var Dt={};for(var nt in ut)ut.hasOwnProperty(nt)&&(Dt[ut[nt]]=nt);return Dt}function lw(ut){return ut=parseFloat(ut),(isNaN(ut)||ut<0||ut>1)&&(ut=1),ut}function Bn(ut,Dt){pP(ut)&&(ut="100%");var nt=hP(ut);return ut=Fe(Dt,Ye(0,parseFloat(ut))),nt&&(ut=parseInt(ut*Dt,10)/100),De.abs(ut-Dt)<1e-6?1:ut%Dt/parseFloat(Dt)}function jh(ut){return Fe(1,Ye(0,ut))}function pa(ut){return parseInt(ut,16)}function pP(ut){return typeof ut=="string"&&ut.indexOf(".")!=-1&&parseFloat(ut)===1}function hP(ut){return typeof ut=="string"&&ut.indexOf("%")!=-1}function yu(ut){return ut.length==1?"0"+ut:""+ut}function ld(ut){return ut<=1&&(ut=ut*100+"%"),ut}function vP(ut){return Math.round(parseFloat(ut)*255).toString(16)}function gP(ut){return pa(ut)/255}var is=function(){var ut="[-\\+]?\\d+%?",Dt="[-\\+]?\\d*\\.\\d+%?",nt="(?:"+Dt+")|(?:"+ut+")",Qt="[\\s|\\(]+("+nt+")[,|\\s]+("+nt+")[,|\\s]+("+nt+")\\s*\\)?",re="[\\s|\\(]+("+nt+")[,|\\s]+("+nt+")[,|\\s]+("+nt+")[,|\\s]+("+nt+")\\s*\\)?";return{rgb:new RegExp("rgb"+Qt),rgba:new RegExp("rgba"+re),hsl:new RegExp("hsl"+Qt),hsla:new RegExp("hsla"+re),hsv:new RegExp("hsv"+Qt),hsva:new RegExp("hsva"+re),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function mP(ut){ut=ut.replace(Xt,"").replace(de,"").toLowerCase();var Dt=!1;if(Sm[ut])ut=Sm[ut],Dt=!0;else if(ut=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var nt;return(nt=is.rgb.exec(ut))?{r:nt[1],g:nt[2],b:nt[3]}:(nt=is.rgba.exec(ut))?{r:nt[1],g:nt[2],b:nt[3],a:nt[4]}:(nt=is.hsl.exec(ut))?{h:nt[1],s:nt[2],l:nt[3]}:(nt=is.hsla.exec(ut))?{h:nt[1],s:nt[2],l:nt[3],a:nt[4]}:(nt=is.hsv.exec(ut))?{h:nt[1],s:nt[2],v:nt[3]}:(nt=is.hsva.exec(ut))?{h:nt[1],s:nt[2],v:nt[3],a:nt[4]}:(nt=is.hex8.exec(ut))?{a:gP(nt[1]),r:pa(nt[2]),g:pa(nt[3]),b:pa(nt[4]),format:Dt?"name":"hex8"}:(nt=is.hex6.exec(ut))?{r:pa(nt[1]),g:pa(nt[2]),b:pa(nt[3]),format:Dt?"name":"hex"}:(nt=is.hex3.exec(ut))?{r:pa(nt[1]+""+nt[1]),g:pa(nt[2]+""+nt[2]),b:pa(nt[3]+""+nt[3]),format:Dt?"name":"hex"}:!1}window.tinycolor=se,l(function(){l.fn.spectrum.load&&l.fn.spectrum.processNativeColorInputs()})}var j=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),H=function(l){j(r,l);function r(t){t===void 0&&(t={});var e=l.call(this,t)||this,n=t.ppfx||"";return e.opts=t,e.ppfx=n,e.em=t.target||{},!t.onChange&&e.listenTo(e.model,"change:value",e.handleModelChange),e}return r.prototype.template=function(){return'<span class="'.concat(this.holderClass(),'"></span>')},r.prototype.inputClass=function(){return"".concat(this.ppfx,"field")},r.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},r.prototype.elementUpdated=function(){this.model.trigger("el:change")},r.prototype.setValue=function(t,e){var n=this.model,o=t||n.get("defaults"),c=this.getInputEl();c&&(c.value=o)},r.prototype.handleModelChange=function(t,e,n){this.setValue(e,n)},r.prototype.handleChange=function(t){t.stopPropagation();var e=this.getInputEl().value;this.__onInputChange(e),this.elementUpdated()},r.prototype.__onInputChange=function(t){this.model.set({value:t},{fromInput:1})},r.prototype.getInputEl=function(){if(!this.inputEl){var t=this,e=t.model,n=t.opts,o=n.type||"text",c=e.get("placeholder")||e.get("defaults")||e.get("default")||"";this.inputEl=(0,S.default)('<input type="'.concat(o,'" placeholder="').concat(c,'">'))}return this.inputEl.get(0)},r.prototype.render=function(){this.inputEl=null;var t=this.$el;return t.addClass(this.inputClass()),t.html(this.template()),t.find(".".concat(this.holderClass())).append(this.getInputEl()),this},r}(O.G7);const st=H;H.prototype.events={change:"handleChange"};var vt=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Lt=function(){return Lt=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Lt.apply(this,arguments)};S.default&&k(S.default);var Ot=function(l){var r=l.getFormat()==="name"&&l.toName(),t=l.getAlpha()==1?l.toHexString():l.toRgbString();return r||t.replace(/ /g,"")},Bt=function(l){vt(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.template=function(){var t=this.ppfx;return`
      <div class="`.concat(this.holderClass(),`"></div>
      <div class="`).concat(t,`field-colorp">
        <div class="`).concat(t,`field-colorp-c" data-colorp-c>
          <div class="`).concat(t,`checker-bg"></div>
        </div>
      </div>
    `)},r.prototype.inputClass=function(){var t=this.ppfx;return"".concat(t,"field ").concat(t,"field-color")},r.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},r.prototype.remove=function(){return l.prototype.remove.call(this),this.colorEl.spectrum("destroy"),this},r.prototype.handleChange=function(t){t.stopPropagation();var e=t.target.value;(0,i.isUndefined)(e)||this.__onInputChange(e)},r.prototype.__onInputChange=function(t){var e=this,n=e.model,o=e.opts,c=o.onChange,h=t,m=this.getColorEl();if(m){m.spectrum("set",h);var y=m.spectrum("get"),C=h&&Ot(y);C&&(h=C)}c?c(h):n.set({value:h},{fromInput:1})},r.prototype.setValue=function(t,e){e===void 0&&(e={});var n=this.model,o=(0,i.isUndefined)(e.def)?n.get("defaults"):e.def,c=(0,i.isUndefined)(t)?(0,i.isUndefined)(o)?"":o:t,h=this.getInputEl(),m=this.getColorEl(),y=c!="none"?c:"";h.value=c,m.get(0).style.backgroundColor=y,(e.fromTarget||e.fromInput&&!e.avoidStore)&&(m.spectrum("set",y),this.noneColor=c=="none",this.movedColor=y)},r.prototype.getColorEl=function(){var t=this;if(!this.colorEl){var e=this,n=e.em,o=e.model,c=e.opts,h=this.ppfx,m=c.onChange,y=(0,S.default)('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),C=y.get(0).style,P=n&&n.getConfig&&n.getConfig().colorPicker||{};this.movedColor="";var D=!1,z;this.$el.find("[data-colorp-c]").append(y);var q=function(ot,ft){ft===void 0&&(ft=!0),m?m(ot,!ft):(ft&&o.setValueFromInput(0,!1),o.setValueFromInput(ot,ft))};y.spectrum(Lt(Lt(Lt({color:o.getValue()||!1,containerClassName:"".concat(h,"one-bg ").concat(h,"two-color ").concat(h,"editor-sp"),maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"",palette:[]},P),o.get("colorPicker")||{}),{move:function(ot){var ft=Ot(ot);t.movedColor=ft,C.backgroundColor=ft,q(ft,!1)},change:function(ot){D=!0;var ft=Ot(ot);C.backgroundColor=ft,q(ft),t.noneColor=!1},show:function(ot){D=!1,t.movedColor="",z=m?o.getValue({noDefault:!0}):Ot(ot)},hide:function(){!D&&(z||m)&&(t.noneColor&&(z=""),C.backgroundColor=z,y.spectrum("set",z),q(z,!1))}})),n&&n.on&&this.listenTo(n,"component:selected",function(){t.movedColor&&q(t.movedColor),D=!0,t.movedColor="",y.spectrum("hide")}),this.colorEl=y}return this.colorEl},r.prototype.render=function(){return st.prototype.render.call(this),this.getColorEl(),this},r}(st);const Yt=Bt;var ne=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ue=function(l){ne(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.templateInput=function(){return""},r.prototype.getInputEl=function(){if(!this.input){var t=this.model,e=this.getModelValue(),n=new Yt({model:t,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}),o=n.render();o.setValue(e,{fromTarget:1}),this.input=o.el}return this.input},r}(a);const me=ue;var ce=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ye=function(l){ce(r,l);function r(t){t===void 0&&(t={});var e=l.call(this,t)||this;return(0,i.bindAll)(e,"moveIncrement","upIncrement"),e.doc=document,e.listenTo(e.model,"change:unit",e.handleModelChange),e}return r.prototype.template=function(){var t=this.ppfx;return`
      <span class="`.concat(t,`input-holder"></span>
      <span class="`).concat(t,`field-units"></span>
      <div class="`).concat(t,`field-arrows" data-arrows>
        <div class="`).concat(t,`field-arrow-u" data-arrow-up></div>
        <div class="`).concat(t,`field-arrow-d" data-arrow-down></div>
      </div>
    `)},r.prototype.inputClass=function(){var t=this.ppfx;return this.opts.contClass||"".concat(t,"field ").concat(t,"field-integer")},r.prototype.setValue=function(t,e){var n=e||{},o=this.validateInputValue(t,{deepCheck:1}),c={value:o.value,unit:""};(o.unit||o.force)&&(c.unit=o.unit),this.model.set(c,n),n.silent&&this.handleModelChange()},r.prototype.handleChange=function(t){t.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},r.prototype.handleUnitChange=function(t){t.stopPropagation();var e=this.getUnitEl().value;this.model.set("unit",e),this.elementUpdated()},r.prototype.handleKeyDown=function(t){t.key==="ArrowUp"&&(t.preventDefault(),this.upArrowClick()),t.key==="ArrowDown"&&(t.preventDefault(),this.downArrowClick())},r.prototype.elementUpdated=function(){this.model.trigger("el:change")},r.prototype.handleModelChange=function(){var t=this.model;this.getInputEl().value=t.get("value");var e=this.getUnitEl();e&&(e.value=t.get("unit")||"")},r.prototype.getUnitEl=function(){if(!this.unitEl){var t=this.model,e=t.get("units")||[];if(e.length){var n=['<option value="" disabled hidden>-</option>'];e.forEach(function(c){var h=c==t.get("unit")?"selected":"";n.push("<option ".concat(h,">").concat(c,"</option>"))});var o=document.createElement("div");o.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(n.join(""),"</select>"),this.unitEl=o.firstChild}}return this.unitEl},r.prototype.upArrowClick=function(){var t=this.model,e=t.get("step"),n=parseFloat(t.get("value"));this.setValue(this.normalizeValue(n+e)),this.elementUpdated()},r.prototype.downArrowClick=function(){var t=this.model,e=t.get("step"),n=parseFloat(t.get("value"));this.setValue(this.normalizeValue(n-e)),this.elementUpdated()},r.prototype.downIncrement=function(t){t.preventDefault(),this.moved=!1;var e=this.model.get("value")||0;e=this.normalizeValue(e),this.current={y:t.pageY,val:e},(0,ee.on)(this.doc,"mousemove",this.moveIncrement),(0,ee.on)(this.doc,"mouseup",this.upIncrement)},r.prototype.moveIncrement=function(t){this.moved=!0;var e=this.model,n=e.get("step"),o=this.current,c=this.normalizeValue(o.val+(o.y-t.pageY)*n),h=this.validateInputValue(c),m=h.value,y=h.unit;return this.prValue=m,e.set({value:m,unit:y},{avoidStore:1}),!1},r.prototype.upIncrement=function(){var t=this.model,e=t.get("step");if((0,ee.S1)(this.doc,"mouseup",this.upIncrement),(0,ee.S1)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var n=this.prValue-e;t.set("value",n,{avoidStore:1}).set("value",n+e),this.elementUpdated()}},r.prototype.normalizeValue=function(t,e){e===void 0&&(e=0);var n=this.model,o=n.get("step"),c=0;if(isNaN(t))return e;if(t=parseFloat(t),Math.floor(t)!==t){var h=o.toString().split(".")[1];c=h?h.length:0}return c?parseFloat(t.toFixed(c)):t},r.prototype.validateInputValue=function(t,e){e===void 0&&(e={});var n=0,o=e||{},c=this.model,h="",m=(0,i.isUndefined)(t)?h:t,y=e.units||c.get("units")||[],C=c.get("unit")||y.length&&y[0]||"",P=(0,i.isUndefined)(e.max)?c.get("max"):e.max,D=(0,i.isUndefined)(e.min)?c.get("min"):e.min,z=!!c.get("limitlessMax"),q=!!c.get("limitlessMin");if(o.deepCheck){var ot=c.get("fixedValues")||[];if(m===""&&(C=""),m){var ft=new RegExp("^"+ot.join("|"),"g");if(ot.length&&ft.test(m))m=m.match(ft)[0],C="",n=1;else{var xt=m+"";m+="",m=parseFloat(m.replace(",",".")),m=isNaN(m)?h:m;var Ft=xt.replace(m,"");(0,i.indexOf)(y,Ft)>=0&&(C=Ft)}}}return!z&&!(0,i.isUndefined)(P)&&P!==""&&(m=m>P?P:m),!q&&!(0,i.isUndefined)(D)&&D!==""&&(m=m<D?D:m),{force:n,value:m,unit:C}},r.prototype.render=function(){st.prototype.render.call(this),this.unitEl=null;var t=this.getUnitEl();return t&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(t),this},r}(st);const ke=ye;ye.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"};var Pe=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ke=function(l){Pe(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.getValueForTarget=function(){var t=this.model,e=t.attributes,n=e.value,o=e.unit;return!(0,i.isUndefined)(n)&&n!==""?n+o:t.get("default")},r.prototype.getInputEl=function(){if(!this.input){var t=this,e=t.ppfx,n=t.model,o=this.getModelValue(),c=new ke({contClass:"".concat(e,"field-int"),type:"number",model:n,ppfx:e});c.render(),this.$input=c.inputEl,this.$unit=c.unitEl,n.set("value",o,{fromTarget:!0}),this.$input.val(o),this.input=c.el}return this.input},r}(a);const mn=Ke;var or=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Sn=function(l){or(r,l);function r(t){t===void 0&&(t={});var e=l.call(this,t)||this;return e.listenTo(e.model,"change:options",e.rerender),e}return r.prototype.templateInput=function(){var t=this,e=t.ppfx,n=t.clsField;return'<div class="'.concat(n,`">
      <div data-input></div>
      <div class="`).concat(e,`sel-arrow">
        <div class="`).concat(e,`d-s-arrow"></div>
      </div>
    </div>`)},r.prototype.getInputEl=function(){if(!this.$input){var t=this,e=t.model,n=t.em,o=e.get("name"),c=e.get("options")||[],h=[],m="<select>";c.forEach(function(P){var D="",z,q,ot;(0,i.isString)(P)?(z=P,q=P):(z=P.name||P.label||P.value,q="".concat((0,i.isUndefined)(P.value)?P.id:P.value).replace(/"/g,"&quot;"),ot=P.style?P.style.replace(/"/g,"&quot;"):"",D+=ot?' style="'.concat(ot,'"'):"");var ft=n.t("traitManager.traits.options.".concat(o,".").concat(q))||z;m+='<option value="'.concat(q,'"').concat(D,">").concat(ft,"</option>"),h.push(q)}),m+="</select>",this.$input=(0,S.default)(m);var y=e.getTargetValue(),C=h.indexOf(y)>=0?y:e.get("default");!(0,i.isUndefined)(C)&&this.$input.val(C)}return this.$input.get(0)},r}(a);const to=Sn;var Hr=_n(330),$n=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Mr="data-categories",ir="data-no-categories",Gn=function(l){$n(r,l);function r(t,e){var n=l.call(this,t)||this;n.reuseView=!0,n.renderedCategories=new Map,n.itemsView=e;var o=t.config||{};n.config=o;var c=t.editor;n.em=c;var h=o.pStylePrefix||"";return n.ppfx=h,n.pfx=h+o.stylePrefix||"",n.className="".concat(n.pfx,"traits"),n.traitContClass="".concat(h,"traits-c"),n.classNoCat="".concat(h,"traits-empty-c"),n.catsClass="".concat(h,"trait-categories"),n.collection=new Ko([],{em:c}),n.listenTo(c,"component:toggled",n.updatedCollection),n.updatedCollection(),n}return r.prototype.updatedCollection=function(){var t=this,e=t.ppfx,n=t.em,o=n.getSelected();this.el.className="".concat(this.traitContClass,"s ").concat(e,"one-bg ").concat(e,"two-color"),this.collection=(o==null?void 0:o.traits)||new Ko([],{em:n}),this.render()},r.prototype.add=function(t,e){var n=this,o=n.config,c=n.renderedCategories,h=this.itemView,m=t.get(this.itemType);this.itemsView&&this.itemsView[m]&&(h=this.itemsView[m]);var y=new h({config:o,model:t,attributes:t.get("attributes")}),C=y.render().el,P=t.parent.initCategory(t);if(P){var D=P.getId(),z=this.getCategoriesEl(),q=c.get(D);!q&&z&&(q=new Xa({model:P},o,"trait").render(),c.set(D,q),z.appendChild(q.el)),q==null||q.append(C);return}e?e.appendChild(C):this.append(C)},r.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector("[".concat(Mr,"]"))),this.catsEl},r.prototype.getTraitsEl=function(){return this.traitsEl||(this.traitsEl=this.el.querySelector("[".concat(ir,"]"))),this.traitsEl},r.prototype.append=function(t){var e=this.getTraitsEl();e==null||e.appendChild(t)},r.prototype.render=function(){var t=this,e=this,n=e.el,o=e.ppfx,c=e.catsClass,h=e.traitContClass,m=e.classNoCat,y=document.createDocumentFragment();delete this.catsEl,delete this.traitsEl,this.renderedCategories=new Map,n.innerHTML=`
      <div class="`.concat(c,'" ').concat(Mr,`></div>
      <div class="`).concat(m," ").concat(h,'" ').concat(ir,`></div>
    `),this.collection.forEach(function(P){return t.add(P,y)}),this.append(y);var C="".concat(h,"s ").concat(o,"one-bg ").concat(o,"two-color");return this.$el.addClass(C),this.rendered=!0,this},r}(Hr.Z);const zn=Gn;Gn.prototype.itemView=a;var kn=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zr=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},Us=function(l){kn(r,l);function r(t){var e=l.call(this,t,"TraitManager",Wg)||this;e.TraitsView=zn,e.events=$o,e.state=new O.Hn({traits:[]}),e.types={text:a,number:mn,select:to,checkbox:T,color:me,button:d};var n=e,o=n.state,c=n.config,h=n.events,m=c.pStylePrefix;m&&(c.stylePrefix="".concat(m).concat(c.stylePrefix)),(0,i.bindAll)(e,"__onSelect");var y=(0,i.debounce)(function(){return e.__upSel()},0),C=(0,i.debounce)(function(){return e.__onUp()},0);return o.listenTo(t,"component:toggled",y),o.listenTo(t,h.value,C),o.on("change:traits",e.__onSelect),e.debounced=[y,C],e}return r.prototype.select=function(t){var e=(t==null?void 0:t.getTraits())||[];this.state.set({component:t,traits:e}),this.__trgCustom()},r.prototype.getCategories=function(){var t,e=this.getComponent(),n=((t=e==null?void 0:e.traits.categories)===null||t===void 0?void 0:t.models)||[];return zr([],n,!0)},r.prototype.getTraits=function(){return this.getCurrent()},r.prototype.getTraitsByCategory=function(t){return wl(t||this.getTraits())},r.prototype.getComponent=function(){return this.state.attributes.component},r.prototype.addType=function(t,e){var n=this.getType("text");this.types[t]=n.extend(e)},r.prototype.getType=function(t){return this.getTypes()[t]},r.prototype.getTypes=function(){return this.types},r.prototype.getTraitsViewer=function(){return this.view},r.prototype.getCurrent=function(){return this.state.get("traits")||[]},r.prototype.render=function(){var t=this.view,e=this.em;return t=new zn({el:t==null?void 0:t.el,collection:[],editor:e,config:this.getConfig()},this.getTypes()),this.view=t,t.el},r.prototype.postRender=function(){this.__appendTo()},r.prototype.__onSelect=function(){var t=this,e=t.em,n=t.events,o=t.state,c=o.attributes,h=c.component,m=c.traits;e.trigger(n.select,{component:h,traits:m})},r.prototype.__trgCustom=function(t){t===void 0&&(t={});var e=this,n=e.em,o=e.events,c=e.__ctn;this.__ctn=c||t.container,n.trigger(o.custom,this.__customData())},r.prototype.__customData=function(){return{container:this.__ctn}},r.prototype.__upSel=function(){this.select(this.em.getSelected())},r.prototype.__onUp=function(){this.select(this.getComponent())},r}(J);const ca=Us;var Cr={stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,custom:!1,onInit:function(){},onRender:function(){},extend:{}};const ci=Cr;var ar=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Jf=function(l){ar(r,l);function r(t){t===void 0&&(t={});var e=l.call(this,t)||this;e.items=[],e.opt=t;var n=t.config||{};e.config=n,e.parentView=t.parentView;var o=n.stylePrefix||"",c=n.pStylePrefix||"",h=e.collection;e.listenTo(h,"add",e.addTo),e.listenTo(h,"reset resetNavigator",e.render),e.listenTo(h,"remove",e.removeChildren),e.className="".concat(o,"layers");var m=n.em;if(n.sortable&&!e.opt.sorter){var y=m.Utils;e.opt.sorter=new y.Sorter({container:n.sortContainer||e.el,containerSel:".".concat(e.className),itemSel:".".concat(o,"layer"),ignoreViewChildren:1,avoidSelectOnEnd:1,nested:1,ppfx:c,pfx:o,em:m})}return e.$el.data("collection",h),t.parent&&e.$el.data("model",t.parent),e}return r.prototype.removeChildren=function(t){var e=t.viewLayer;e&&(e.remove(),delete t.viewLayer)},r.prototype.addTo=function(t){var e=this.collection.indexOf(t);this.addToCollection(t,null,e)},r.prototype.addToCollection=function(t,e,n){var o=this,c=o.parentView,h=o.opt,m=o.config,y=h.ItemView,C=h.opened,P=h.module,D=h.level,z=h.sorter,q=e||null,ot=new y({ItemView:y,level:D,model:t,parentView:c,config:m,sorter:z,opened:C,module:P}),ft=ot.render().el;if(q)q.appendChild(ft);else if(typeof n<"u"){var xt="before";this.$el.children().length==n&&(n--,xt="after"),n<0?this.$el.append(ft):this.$el.children().eq(n)[xt](ft)}else this.$el.append(ft);return this.items.push(ot),ft},r.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return O.G7.prototype.remove.apply(this,t),this.items.map(function(n){return n.remove()}),this},r.prototype.render=function(){var t=this,e=document.createDocumentFragment(),n=this.el;return n.innerHTML="",this.collection.each(function(o){return t.addToCollection(o,e)}),n.appendChild(e),n.className=this.className,this},r}(O.G7);const Pi=Jf;var ki=_n(790),Qa={stylePrefix:"com-",defaults:{},strict:!0};const Lr=Qa;var Ws=_n(713),Qf=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dh=function(){return dh=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},dh.apply(this,arguments)},Z0=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},J0=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]],Q0={preserveSelected:1},t_=function(l){return function(r){return l.trigger("".concat(Cl,":start"),r)}},e_=function(l){return function(r){return l.trigger(Cl,r)}},n_=function(l,r,t){return t===void 0&&(t={}),function(e,n,o){r.forEach(function(c){return c.set("status",c.get("selectable")?"selected":"")}),l.setSelected(r),r[0].emitUpdate(),l.trigger("".concat(Cl,":end"),o),setTimeout(function(){return l.runDefault(Q0)}),(t.altMode||o.cancelled)&&l.set("_cmpDrag",1)}},aS=function(l){Qf(r,l);function r(t){var e=l.call(this,t,"Commands",Lr)||this;e.CommandAbstract=ki.default,e.defaultCommands={},e.commands={},e.active={},e.events=Ws.Z;var n=e.config,o=n.pStylePrefix,c=e.defaultCommands;o&&(n.stylePrefix=o+n.stylePrefix),Object.keys(n.defaults).forEach(function(m){var y=n.defaults[m];y.id&&e.add(y.id,y)}),c["tlb-delete"]={run:function(m){return m.runCommand("core:component-delete")}},c["tlb-clone"]={run:function(m){m.runCommand("core:copy"),m.runCommand("core:paste",{action:"clone-component"})}},c["tlb-move"]={run:function(m,y,C){var P;C===void 0&&(C={});var D=m.getModel(),z=C.event,q=C.target,ot=q?[q]:Z0([],m.getSelectedAll(),!0),ft=ot.map(function(yn){var se,Sr;return((Sr=(se=yn.delegate)===null||se===void 0?void 0:se.move)===null||Sr===void 0?void 0:Sr.call(se,yn))||yn}).filter(Boolean),xt=ft[0],Ft=(z==null?void 0:z.type)==="dragstart",Rt=["absolute","translate"];if(!(xt!=null&&xt.get("draggable")))return D.logWarning("The element is not draggable");var Xt=xt.get("dmode")||D.get("dmode"),de=function(){return D.stopDefault(Q0)},Oe=(0,i.includes)(Rt,Xt);ft.forEach(function(yn){return yn.trigger("disable",{fromMove:!0})}),Ft?setTimeout(de,0):de();var De=t_(D),pe=e_(D),Fe=n_(D,ft,{altMode:Oe});if(Oe)m.runCommand("core:component-drag",{guidesInfo:1,mode:Xt,target:xt,onStart:De,onDrag:pe,onEnd:Fe,event:z});else{Ft&&z.dataTransfer.setDragImage((P=xt.view)===null||P===void 0?void 0:P.el,0,0);var Ye=m.Commands.get("move-comp");Ye.onStart=De,Ye.onDrag=pe,Ye.onEndMoveFromModel=Fe,Ye.initSorterFromModels(ft)}ft.filter(function(yn){return yn.get("selectable")}).forEach(function(yn){return yn.set("status","freezed-selected")})}},c["core:undo"]=function(m){return m.UndoManager.undo()},c["core:redo"]=function(m){return m.UndoManager.redo()},J0.forEach(function(m){var y=m[2],C=_n(828)("./".concat(m[1])).default,P="core:".concat(m[0]);c[P]=C,y&&(c[y]=C,["run","stop"].forEach(function(D){t.on("".concat(D,":").concat(y),function(){for(var z=[],q=0;q<arguments.length;q++)z[q]=arguments[q];return t.trigger.apply(t,Z0(["".concat(D,":").concat(P)],z,!1))})}))}),n.model=t.Canvas;for(var h in c)e.add(h,c[h]);return e}return r.prototype.add=function(t,e){var n=(0,i.isFunction)(e)?{run:e}:e;return n.stop||(n.noStop=!0),delete n.initialize,n.id=t,this.commands[t]=ki.default.extend(n),this},r.prototype.get=function(t){var e=this.commands[t];return(0,i.isFunction)(e)?(e=new e(this.config),this.commands[t]=e):e||this.em.logWarning("'".concat(t,"' command not found")),e},r.prototype.extend=function(t,e){e===void 0&&(e={});var n=this.get(t);if(n){var o=dh(dh({},n.constructor.prototype),e);this.add(t,o);var c=J0.filter(function(h){return"core:".concat(h[0])===t&&h[2]})[0];c&&this.add(c[2],o)}return this},r.prototype.has=function(t){return!!this.commands[t]},r.prototype.getAll=function(){return this.commands},r.prototype.run=function(t,e){return e===void 0&&(e={}),this.runCommand(this.get(t),e)},r.prototype.stop=function(t,e){return e===void 0&&(e={}),this.stopCommand(this.get(t),e)},r.prototype.isActive=function(t){return this.getActive().hasOwnProperty(t)},r.prototype.getActive=function(){return this.active},r.prototype.runCommand=function(t,e){e===void 0&&(e={});var n;if(t&&t.run){var o=this,c=o.em,h=o.config,m=t.id,y=c.Editor;(!this.isActive(m)||e.force||!h.strict)&&(n=y&&t.callRun(y,e),m&&t.stop&&!t.noStop&&!e.abort&&(this.active[m]=n))}return n},r.prototype.stopCommand=function(t,e){e===void 0&&(e={});var n;if(t&&t.run){var o=this,c=o.em,h=o.config,m=t.id,y=c.Editor;(this.isActive(m)||e.force||!h.strict)&&(m&&delete this.active[m],n=t.callStop(y,e))}return n},r.prototype.create=function(t){t.stop||(t.noStop=!0);var e=ki.default.extend(t);return new e(this.config)},r.prototype.__onRun=function(t,e){var n=this,o=n.em,c=n.events;o.on("".concat(c.runCommand).concat(t),e)},r.prototype.__onStop=function(t,e){var n=this,o=n.em,c=n.events;o.on("".concat(c.stopCommand).concat(t),e)},r.prototype.destroy=function(){this.defaultCommands={},this.commands={},this.active={}},r}(J);const sS=aS;var lS=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),r_="contentEditable",uS=function(l){lS(r,l);function r(t){var e=l.call(this,t)||this;(0,i.bindAll)(e,"__render"),e.opt=t,e.module=t.module,e.config=t.config||{},e.sorter=t.sorter||"",e.parentView=t.parentView;var n=e,o=n.model,c=n.pfx,h=n.ppfx,m=o.get("type")||"default";return e.className="".concat(c,"layer ").concat(c,"layer__t-").concat(m," no-select ").concat(h,"two-color"),e.inputNameCls="".concat(h,"layer-name"),e.clsTitleC="".concat(c,"layer-title-c"),e.clsTitle="".concat(c,"layer-title"),e.clsCaret="".concat(c,"layer-caret"),e.clsCount="".concat(c,"layer-count"),e.clsMove="".concat(c,"layer-move"),e.clsChildren="".concat(c,"layer-children"),e.clsNoChild="".concat(c,"layer-no-chld"),e.clsEdit="".concat(e.inputNameCls,"--edit"),e.clsNoEdit="".concat(e.inputNameCls,"--no-edit"),e.initComponent(),e}return r.prototype.events=function(){return{"mousedown [data-toggle-move]":"startSort","touchstart [data-toggle-move]":"startSort","click [data-toggle-visible]":"toggleVisibility","click [data-toggle-open]":"toggleOpening","click [data-toggle-select]":"handleSelect","mouseover [data-toggle-select]":"handleHover","mouseout [data-toggle-select]":"handleHoverOut","dblclick [data-name]":"handleEdit","keydown [data-name]":"handleEditKey","focusout [data-name]":"handleEditEnd"}},r.prototype.template=function(t){var e=this,n=e.pfx,o=e.ppfx,c=e.config,h=e.clsNoEdit,m=e.module,y=e.opt,C=e.em,P=c.hidable,D=m.getComponents(t).length,z=D?"":this.clsNoChild,q="".concat(this.clsTitle," ").concat(z),ot="".concat(this.clsTitleC),ft="".concat(this.inputNameCls," ").concat(h," ").concat(o,"no-app"),xt=y.level||0,Ft="".concat(xt*10,"px"),Rt=t.getName(),Xt=t.getIcon(),de="".concat(n,"layer"),Oe=(C==null?void 0:C.getConfig()).icons,De=Oe,pe=De.move,Fe=De.eye,Ye=De.eyeOff,yn=De.chevron;return`
      <div class="`.concat(n,"layer-item ").concat(o,`one-bg" data-toggle-select>
        <div class="`).concat(n,`layer-item-left">
          `).concat(P?'<i class="'.concat(n,`layer-vis" data-toggle-visible>
                <i class="`).concat(n,'layer-vis-on">').concat(Fe,`</i>
                <i class="`).concat(n,'layer-vis-off">').concat(Ye,`</i>
              </i>`):"",`
          <div class="`).concat(ot,`">
            <div class="`).concat(q,'" style="padding-left: ').concat(Ft,`">
              <div class="`).concat(n,'layer-title-inn" title="').concat(Rt,`">
                <i class="`).concat(this.clsCaret,'" data-toggle-open>').concat(yn,`</i>
                  `).concat(Xt?'<span class="'.concat(de,'__icon">').concat(Xt,"</span>"):"",`
                <span class="`).concat(ft,'" data-name>').concat(Rt,`</span>
              </div>
            </div>
          </div>
        </div>
        <div class="`).concat(n,`layer-item-right">
          <div class="`).concat(this.clsCount,'" data-count>').concat(D||"",`</div>
          <div class="`).concat(this.clsMove,'" data-toggle-move>').concat(pe||"",`</div>
        </div>
      </div>
      <div class="`).concat(this.clsChildren,`"></div>
    `)},Object.defineProperty(r.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),r.prototype.initComponent=function(){var t=this,e=this,n=e.model,o=e.config,c=o.onInit,h=n.components();this.listenTo(h,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["rerender:layer",this.render],["change:name change:custom-name",this.updateName]].forEach(function(m){return t.listenTo(n,m[0],m[1])}),this.$el.data("model",n),this.$el.data("collection",h),n.viewLayer=this,c.bind(this)({component:n,render:this.__render,listenTo:this.listenTo})},r.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},r.prototype.getVisibilityEl=function(){return this.getItemContainer().find("[data-toggle-visible]")},r.prototype.updateVisibility=function(){var t=this,e=t.pfx,n=t.model,o=t.module,c="".concat(e,"layer-hidden"),h=!o.isVisible(n),m=h?"addClass":"removeClass";this.$el[m](c),this.getVisibilityEl()[m]("".concat(e,"layer-off"))},r.prototype.toggleVisibility=function(t){t==null||t.stopImmediatePropagation();var e=this,n=e.module,o=e.model;n.setVisible(o,!n.isVisible(o))},r.prototype.handleEdit=function(t){t==null||t.stopPropagation();var e=this,n=e.em,o=e.$el,c=e.clsNoEdit,h=e.clsEdit,m=this.getInputName();m[r_]="true",m.focus(),document.execCommand("selectAll",!1),n.setEditing(!0),o.find(".".concat(this.inputNameCls)).removeClass(c).addClass(h)},r.prototype.handleEditKey=function(t){t.stopPropagation(),((0,ee.kl)(t)||(0,ee.r$)(t))&&this.handleEditEnd(t)},r.prototype.handleEditEnd=function(t){t==null||t.stopPropagation();var e=this,n=e.em,o=e.$el,c=e.clsNoEdit,h=e.clsEdit,m=this.getInputName(),y=m.textContent;m.scrollLeft=0,m[r_]="false",this.setName(y,{component:this.model,propName:"custom-name"}),n.setEditing(!1),o.find(".".concat(this.inputNameCls)).addClass(c).removeClass(h),this.updateName()},r.prototype.setName=function(t,e){var n=e.propName;this.model.set(n,t)},r.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},r.prototype.updateOpening=function(){var t=this,e=t.$el,n=t.model,o=t.pfx,c="open",h="".concat(o,"layer-open"),m=this.getCaret();this.module.isOpen(n)?(e.addClass(c),m.addClass(h)):(e.removeClass(c),m.removeClass(h))},r.prototype.toggleOpening=function(t){var e=this,n=e.model,o=e.module;t==null||t.stopImmediatePropagation(),n.get("components").length&&o.setOpen(n,!o.isOpen(n))},r.prototype.handleSelect=function(t){t==null||t.stopPropagation();var e=this,n=e.module,o=e.model;n.setLayerData(o,{selected:!0},{event:t})},r.prototype.handleHover=function(t){t==null||t.stopPropagation();var e=this,n=e.module,o=e.model;n.setLayerData(o,{hovered:!0})},r.prototype.handleHoverOut=function(t){t==null||t.stopPropagation();var e=this,n=e.module,o=e.model;n.setLayerData(o,{hovered:!1})},r.prototype.startSort=function(t){var e,n,o;t.stopPropagation();var c=this,h=c.em,m=c.sorter,y=c.model;if(!(t.button&&t.button!==0)&&m){var C=((n=(e=y.delegate)===null||e===void 0?void 0:e.move)===null||n===void 0?void 0:n.call(e,y))||y;m.onStart=t_(h),m.onMoveClb=e_(h),m.onEndMove=n_(h,[C]);var P=((o=C.viewLayer)===null||o===void 0?void 0:o.el)||t.target;m.startSort(P)}},r.prototype.updateStatus=function(){tr.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:!0}])},r.prototype.getItemContainer=function(){return this.$el.children("[data-toggle-select]")},r.prototype.checkChildren=function(){var t=this,e=t.model,n=t.clsNoChild,o=t.module,c=o.getComponents(e).length,h=this.getItemContainer(),m=h.find(".".concat(this.clsTitle)),y=h.find("[data-count]");m[c?"removeClass":"addClass"](n),y.html("".concat(c||"")),!c&&o.setOpen(e,!1)},r.prototype.getCaret=function(){return(!this.caret||!this.caret.length)&&(this.caret=this.getItemContainer().find(".".concat(this.clsCaret))),this.caret},r.prototype.setRoot=function(t){var e,n=(0,i.isString)(t)?(e=this.em.getWrapper())===null||e===void 0?void 0:e.find(t)[0]:t;n&&(this.stopListening(),this.model=n,this.initComponent(),this._rendered&&this.render())},r.prototype.updateLayerable=function(){var t=this.parentView,e=t||this;e.render()},r.prototype.__clearItems=function(){var t;(t=this.items)===null||t===void 0||t.remove()},r.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return O.G7.prototype.remove.apply(this,t),this.__clearItems(),this},r.prototype.render=function(){var t=this,e=t.model,n=t.config,o=t.pfx,c=t.ppfx,h=t.opt,m=t.sorter;this.__clearItems();var y=h.opened,C=h.module,P=h.ItemView,D=!C.__isLayerable(e),z=this.$el.empty(),q=h.level+1;delete this.inputName,this.items=new Pi({ItemView:P,collection:e.get("components"),config:n,sorter:m,opened:y,parentView:this,parent:e,level:q,module:C});var ot=this.items.render().$el;return!n.showWrapper&&q===1?z.append(ot):(z.html(this.template(e)),z.find(".".concat(this.clsChildren)).append(ot)),(!e.get("draggable")||!n.sortable)&&z.children(".".concat(this.clsMove)).remove(),!C.isVisible(e)&&(this.className+=" ".concat(o,"hide")),D&&(this.className+=" ".concat(c,"hidden")),z.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.__render(),this._rendered=!0,this},r.prototype.__render=function(){var t=this,e=t.model,n=t.config,o=t.el,c=n.onRender,h={component:e,el:o};c.bind(this)(h),this.em.trigger("layer:render",h)},r}(O.G7);const cS=uS;var fS=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Gg=function(){return Gg=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Gg.apply(this,arguments)},o_="layer",Kg="".concat(o_,":"),i_="".concat(Kg,"root"),a_="".concat(Kg,"component"),dS="".concat(Kg,"custom"),pS={all:o_,root:i_,component:a_,custom:dS},Yg={mediaText:""},hS=["open","status","locked","custom-name","components","classes"].map(function(l){return"component:update:".concat(l)}).join(" "),vS=function(l){return l===void 0&&(l={}),(l.display||"").trim().indexOf("none")===0},gS=function(l){fS(r,l);function r(t){var e=l.call(this,t,"LayerManager",ci)||this;return e.events=pS,(0,i.bindAll)(e,"componentChanged","__onRootChange","__onComponent"),e.model=new bt.Z(e,{opened:{}}),e.config.stylePrefix=e.config.pStylePrefix,e}return r.prototype.onLoad=function(){var t=this,e=this,n=e.em,o=e.config,c=e.model;c.listenTo(n,"component:selected",this.componentChanged),c.on("change:root",this.__onRootChange),c.listenTo(n,hS,this.__onComponent),this.componentChanged(),c.listenToOnce(n,"load",function(){t.setRoot(o.root),t.__appendTo()})},r.prototype.setRoot=function(t){var e=this.em.getWrapper(),n=(0,s.isComponent)(t)?t:e;return t&&(0,i.isString)(t)&&(0,s.hasWin)()&&(n=e.find(t)[0]||e),this.model.set("root",n),n},r.prototype.getRoot=function(){return this.model.get("root")},r.prototype.getComponents=function(t){var e=this;return t.components().filter(function(n){return e.__isLayerable(n)})},r.prototype.setOpen=function(t,e){t.set("open",e)},r.prototype.isOpen=function(t){return!!t.get("open")},r.prototype.setVisible=function(t,e){var n="__prev-display",o=t.getStyle(Yg),c=o.display;if(e){var h=t.get(n);delete o.display,h&&(o.display=h,t.unset(n))}else c&&t.set(n,c),o.display="none";t.setStyle(o,Yg),this.updateLayer(t),this.em.trigger("component:toggled")},r.prototype.isVisible=function(t){return!vS(t.getStyle(Yg))},r.prototype.setLocked=function(t,e){t.set("locked",e)},r.prototype.isLocked=function(t){return!!t.get("locked")},r.prototype.setName=function(t,e){t.set("custom-name",e)},r.prototype.getName=function(t){return t.getName()},r.prototype.getLayerData=function(t){var e=t.get("status");return{name:t.getName(),open:this.isOpen(t),selected:e==="selected",hovered:e==="hovered",visible:this.isVisible(t),locked:this.isLocked(t),components:this.getComponents(t)}},r.prototype.setLayerData=function(t,e,n){var o;n===void 0&&(n={});var c=this,h=c.em,m=c.config,y=e.open,C=e.selected,P=e.hovered,D=e.visible,z=e.locked,q=e.name,ot=Gg({fromLayers:!0},n);if((0,s.isDef)(y)&&this.setOpen(t,y),(0,s.isDef)(C))if(C){h.setSelected(t,ot);var ft=m.scrollCanvas;ft&&((o=t.views)===null||o===void 0||o.forEach(function(xt){return xt.scrollIntoView(ft)}))}else h.removeSelected(t,ot);(0,s.isDef)(P)&&m.showHover&&(P?h.setHovered(t,ot):h.setHovered(null,ot)),(0,s.isDef)(D)&&D!==this.isVisible(t)&&this.setVisible(t,D),(0,s.isDef)(z)&&this.setLocked(t,z),(0,s.isDef)(q)&&this.setName(t,q)},r.prototype.componentChanged=function(t,e){var n;if(e===void 0&&(e={}),!e.fromLayers){var o=this,c=o.em,h=o.config,m=h.scrollLayers,y=this.model.get("opened"),C=c.getSelected(),P=C==null?void 0:C.parent();for(var D in y)y[D].set("open",!1),delete y[D];for(;P;)P.set("open",!0),y[P.cid]=P,P=P.parent();if(C&&m){var z=(n=C.viewLayer)===null||n===void 0?void 0:n.el;z==null||z.scrollIntoView(m)}}},r.prototype.getAll=function(){return this.view},r.prototype.render=function(){var t,e,n=this,o=n.config,c=n.model,h=cS.extend(o.extend);return this.view=new h({el:(t=this.view)===null||t===void 0?void 0:t.el,ItemView:h,level:0,config:o,opened:c.get("opened"),model:this.getRoot(),module:this}),(e=this.view)===null||e===void 0?void 0:e.render().el},r.prototype.destroy=function(){var t;(t=this.view)===null||t===void 0||t.remove()},r.prototype.__onRootChange=function(){var t,e=this.getRoot();(t=this.view)===null||t===void 0||t.setRoot(e),this.em.trigger(i_,e),this.__trgCustom()},r.prototype.__onComponent=function(t){this.updateLayer(t)},r.prototype.__isLayerable=function(t){var e=t.get("tagName"),n=this.config.hideTextnode,o=!n||!t.isInstanceOf("textnode")&&e!=="br";return o&&t.get("layerable")},r.prototype.__trgCustom=function(t){var e=this,n=e.__ctn,o=e.em,c=e.events;this.__ctn=n||(t==null?void 0:t.container),o.trigger(c.custom,{container:this.__ctn,root:this.getRoot()})},r.prototype.updateLayer=function(t,e){this.em.trigger(a_,t,e)},r}(J);const mS=gS;var yS={assets:[],noAssets:"",stylePrefix:"am-",upload:"",uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,multiUploadSuffix:"[]",autoAdd:!0,customFetch:void 0,uploadFile:void 0,embedAsBase64:!0,handleAdd:void 0,beforeUpload:void 0,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:!0,dropzoneContent:""};const _S=yS;var wS=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),s_=function(l){wS(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.getDefaults=function(){return(0,i.result)(this.prototype,"defaults")},r.prototype.defaults=function(){return{type:"",src:""}},r.prototype.getType=function(){return this.get("type")},r.prototype.getSrc=function(){return this.get("src")},r.prototype.getFilename=function(){return this.get("src").split("/").pop().split("?").shift()},r.prototype.getExtension=function(){return this.getFilename().split(".").pop()},r}(O.Hn);const qg=s_;s_.prototype.idAttribute="src";var bS=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ph=function(){return ph=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},ph.apply(this,arguments)},CS=function(l){bS(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.defaults=function(){return ph(ph({},qg.getDefaults()),{type:"image",unitDim:"px",height:0,width:0})},r}(qg);const xS=CS;var SS=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),OS=function(l){SS(r,l);function r(t){var e=l.call(this,t)||this;e.options=t,e.collection=t.collection;var n=t.config||{};e.config=n,e.pfx=n.stylePrefix||"",e.ppfx=n.pStylePrefix||"",e.em=n.em,e.className=e.pfx+"asset",e.listenTo(e.model,"destroy remove",e.remove),e.model.view=e;var o=e.init&&e.init.bind(e);return o&&o(t),e}return r.prototype.__getBhv=function(){var t=this.em,e=t==null?void 0:t.Assets;return(e==null?void 0:e.__getBehaviour())||{}},r.prototype.template=function(t,e){var n=this.pfx;return`
      <div class="`.concat(n,`preview-cont">
        `).concat(this.getPreview(),`
      </div>
      <div class="`).concat(n,`meta">
        `).concat(this.getInfo(),`
      </div>
      <div class="`).concat(n,`close" data-toggle="asset-remove">
        &Cross;
      </div>
    `)},r.prototype.updateTarget=function(t){t&&t.set&&(t.set("attributes",(0,i.clone)(t.get("attributes"))),t.set("src",this.model.get("src")))},r.prototype.getPreview=function(){return""},r.prototype.getInfo=function(){return""},r.prototype.render=function(){var t=this.el;return t.innerHTML=this.template(this,this.model),t.className=this.className,this},r}(O.G7);const TS=OS;var ES=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),l_=function(l,r){return Object.defineProperty?Object.defineProperty(l,"raw",{value:r}):l.raw=r,l},u_=function(l){ES(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.getPreview=function(){var t=this,e=t.pfx,n=t.ppfx,o=t.model,c=o.get("src");return f(c_||(c_=l_([`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `],[`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `])),e,c,e,n)},r.prototype.getInfo=function(){var t=this,e=t.pfx,n=t.model,o=n.get("name"),c=n.get("width"),h=n.get("height"),m=n.get("unitDim"),y=c&&h?"".concat(c,"x").concat(h).concat(m):"";return o=o||n.getFilename(),f(f_||(f_=l_([`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `],[`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `])),e,o,e,y)},r.prototype.init=function(t){var e=this.pfx;this.className+=" ".concat(e,"asset-image")},r.prototype.onClick=function(){var t=this,e=t.model,n=t.pfx,o=this.__getBhv().select,c=this.config.onClick,h=this.collection;h.trigger("deselectAll"),this.$el.addClass(n+"highlight"),(0,i.isFunction)(o)?o(e,!1):(0,i.isFunction)(c)?c(e):this.updateTarget(h.target)},r.prototype.onDblClick=function(){var t=this,e=t.em,n=t.model,o=this.__getBhv().select,c=this.config.onDblClick,h=this.collection,m=h.target,y=h.onSelect;(0,i.isFunction)(o)?o(n,!0):(0,i.isFunction)(c)?c(n):(this.updateTarget(m),e==null||e.Modal.close()),(0,i.isFunction)(y)&&y(n)},r.prototype.onRemove=function(t){t.stopImmediatePropagation(),this.model.collection.remove(this.model)},r}(TS);const PS=u_;u_.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var c_,f_,hh=function(){return hh=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},hh.apply(this,arguments)},kS={types:[],initialize:function(l,r){var t=this;r===void 0&&(r={});var e=r.em;this.em=e,this.opts=r,this.model=function(o,c){o===void 0&&(o={}),c===void 0&&(c={});var h,m,y;if(o&&o.type){var C=t.getBaseType();y=t.getType(o.type),h=y?y.model:C.model,m=y?y.view:C.view}else{var P=t.recognizeType(o);y=P.type,h=y.model,m=y.view,o=P.attributes}var D=new h(o,hh(hh({},c),{em:e}));return D.typeView=m,D};var n=this.init&&this.init.bind(this);n&&n()},recognizeType:function(l){for(var r=this.getTypes(),t=0;t<r.length;t++){var e=r[t],n=e.isType(l);if(n=typeof n=="boolean"&&n?{type:e.id}:n,n)return{type:e,attributes:n}}return{type:this.getBaseType(),attributes:l}},getBaseType:function(){var l=this.getTypes();return l[l.length-1]},getTypes:function(){return this.types},getType:function(l){for(var r=this.getTypes(),t=0;t<r.length;t++){var e=r[t];if(e.id===l)return e}},addType:function(l,r){var t=this.getType(l),e=this.getBaseType(),n=t?t.model:e.model,o=t?t.view:e.view,c=r.model,h=r.view,m=r.isType;c=c instanceof O.Hn||(0,i.isFunction)(c)?c:n.extend(c||{}),h=h instanceof O.G7||(0,i.isFunction)(h)?h:o.extend(h||{}),this.extendViewApi&&!r.model&&!r.view&&(h=h.extend(r)),t?(t.model=c,t.view=h,t.isType=m||t.isType):(r.id=l,r.model=c,r.view=h,r.isType=m||function(y){if(y&&y.type==l)return!0},this.getTypes().unshift(r))}};const d_=kS;var AS=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),MS=O.FE.extend(d_),p_=function(l){AS(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r}(MS);const Xg=p_;p_.prototype.types=[{id:"image",model:xS,view:PS,isType:function(l){return typeof l=="string"?{type:"image",src:l}:l}}];var Zg;(function(l){l.add="asset:add",l.remove="asset:remove",l.removeBefore="asset:remove:before",l.update="asset:update",l.open="asset:open",l.close="asset:close",l.uploadStart="asset:upload:start",l.uploadEnd="asset:upload:end",l.uploadError="asset:upload:error",l.uploadResponse="asset:upload:response",l.custom="asset:custom",l.all="asset"})(Zg||(Zg={}));const h_=Zg;var LS=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),v_=function(l){LS(r,l);function r(t){t===void 0&&(t={});var e=l.call(this,t)||this;e.options=t,e.config=t.config,e.pfx=e.config.stylePrefix||"",e.ppfx=e.config.pStylePrefix||"",e.em=e.config.em;var n=e.collection;return e.listenTo(n,"reset",e.renderAssets),e.listenTo(n,"add",e.addToAsset),e.listenTo(n,"remove",e.removedAsset),e.listenTo(n,"deselectAll",e.deselectAll),e}return r.prototype.template=function(t){var e=t.pfx,n=t.ppfx,o=t.em,c="";return this.config.showUrlInput&&(c=`
          <form class="`.concat(e,`add-asset">
            <div class="`).concat(n,"field ").concat(e,`add-field">
              <input placeholder="`).concat(o==null?void 0:o.t("assetManager.inputPlh"),`"/>
            </div>
            <button class="`).concat(n,'btn-prim">').concat(o==null?void 0:o.t("assetManager.addButton"),`</button>
            <div style="clear:both"></div>
          </form>
      `)),`
    <div class="`.concat(e,`assets-cont">
      <div class="`).concat(e,`assets-header">
        `).concat(c,`
      </div>
      <div class="`).concat(e,`assets" data-el="assets"></div>
      <div style="clear:both"></div>
    </div>
    `)},r.prototype.handleSubmit=function(t){t.preventDefault();var e=this.getAddInput(),n=e&&e.value.trim(),o=this.config.handleAdd;if(n){e.value="";var c=this.getAssetsEl();c&&(c.scrollTop=0),o?o.bind(this)(n):this.options.globalCollection.add(n,{at:0})}},r.prototype.getAssetsEl=function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},r.prototype.getAddInput=function(){return(!this.inputUrl||!this.inputUrl.value)&&(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},r.prototype.removedAsset=function(t){this.collection.length||this.toggleNoAssets()},r.prototype.addToAsset=function(t){this.collection.length==1&&this.toggleNoAssets(!0),this.addAsset(t)},r.prototype.addAsset=function(t,e){e===void 0&&(e=null);var n=e,o=this.collection,c=this.config,h=new t.typeView({model:t,collection:o,config:c}).render().el;if(n)n.appendChild(h);else{var m=this.getAssetsEl();m&&m.insertBefore(h,m.firstChild)}return h},r.prototype.toggleNoAssets=function(t){t===void 0&&(t=!1);var e=this.$el.find(".".concat(this.pfx,"assets"));if(t)e.empty();else{var n=this.config.noAssets;n&&e.append(n)}},r.prototype.deselectAll=function(){var t=this.pfx;this.$el.find(".".concat(t,"highlight")).removeClass("".concat(t,"highlight"))},r.prototype.renderAssets=function(){var t=this,e=document.createDocumentFragment(),n=this.$el.find(".".concat(this.pfx,"assets"));n.empty(),this.toggleNoAssets(!!this.collection.length),this.collection.each(function(o){return t.addAsset(o,e)}),n.append(e)},r.prototype.render=function(){var t=this.options.fu.render().el;return this.$el.empty(),this.$el.append(t).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this},r}(O.G7);const DS=v_;v_.prototype.events={submit:"handleSubmit"};var jS=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),NS=function(l,r){return Object.defineProperty?Object.defineProperty(l,"raw",{value:r}):l.raw=r,l},IS=function(l){jS(r,l);function r(t){t===void 0&&(t={});var e=l.call(this,t)||this;e.options=t;var n=t.config||{};e.module=t.module,e.config=n,e.em=e.config.em,e.pfx=n.stylePrefix||"",e.ppfx=n.pStylePrefix||"",e.target=e.options.globalCollection||{},e.uploadId=e.pfx+"uploadFile",e.disabled=n.disableUpload!==void 0?n.disableUpload:!n.upload&&!n.embedAsBase64,e.multiUpload=n.multiUpload!==void 0?n.multiUpload:!0;var o=n.uploadFile;return o?e.uploadFile=o.bind(e):!n.upload&&n.embedAsBase64&&(e.uploadFile=r.embedAsBase64),e.delegateEvents(),e}return r.prototype.template=function(t){var e=t.pfx,n=t.title,o=t.uploadId,c=t.disabled,h=t.multiUpload;return f(g_||(g_=NS([`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `],[`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `])),e,n,o,c?"disabled":"",h?"multiple":"")},r.prototype.events=function(){return{"change [data-input]":"uploadFile"}},r.prototype.onUploadStart=function(){var t=this.module;t==null||t.__propEv(t.events.uploadStart)},r.prototype.onUploadEnd=function(t){var e=this,n=e.$el,o=e.module;o==null||o.__propEv(o.events.uploadEnd,t);var c=n.find("input");c&&c.val("")},r.prototype.onUploadError=function(t){var e=this.module;console.error(t),this.onUploadEnd(t),e==null||e.__propEv(e.events.uploadError,t)},r.prototype.onUploadResponse=function(t,e){var n=this,o=n.module,c=n.config,h=n.target,m;try{m=typeof t=="string"?JSON.parse(t):t}catch{m=t}o==null||o.__propEv(o.events.uploadResponse,m),c.autoAdd&&h&&h.add(m.data,{at:0}),this.onUploadEnd(t),e==null||e(m)},r.prototype.uploadFile=function(t,e){var n=this,o=t.dataTransfer?t.dataTransfer.files:t.target.files,c=this.config,h=c.beforeUpload,m=h&&h(o);if(m!==!1){var y=new FormData,C=c.params,P=c.customFetch,D=c.fetchOptions;for(var z in C)y.append(z,C[z]);if(this.multiUpload)for(var q=0;q<o.length;q++)y.append("".concat(c.uploadName).concat(c.multiUploadSuffix),o[q]);else o.length&&y.append(c.uploadName,o[0]);var ot=c.upload,ft=c.headers,xt="X-Requested-With";if(typeof ft[xt]>"u"&&(ft[xt]="XMLHttpRequest"),ot){this.onUploadStart();var Ft={method:"post",credentials:c.credentials||"include",headers:ft,body:y},Rt=(D==null?void 0:D(Ft))||Ft,Xt=P?P(ot,Rt):vc(ot,Rt).then(function(de){return(de.status/200|0)==1?de.text():de.text().then(function(Oe){return Promise.reject(Oe)})});return Xt.then(function(de){return n.onUploadResponse(de,e)}).catch(function(de){return n.onUploadError(de)})}}},r.prototype.initDrop=function(){var t=this;if(!this.uploadForm){this.uploadForm=this.$el.find("form").get(0);var e=this.uploadForm;"draggable"in e&&(this.uploadForm.ondragover=function(){return e.className=t.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return e.className="",!1},this.uploadForm.ondrop=function(n){e.className="",n.preventDefault(),t.uploadFile(n)})}},r.prototype.initDropzone=function(t){var e=this,n=0,o=this.config,c=t.model,h=t.el,m=c.Editor,y=c.Canvas.getBody(),C=this.ppfx,P="".concat(C,"dropzone-active"),D="".concat(C,"dropzone"),z=function(){h.className=h.className.replace(P,"").trim(),n=0},q=function(){return n||(h.className+=" ".concat(P),n=1),!1},ot=function(){return z(),!1},ft=function(xt){if(z(),xt.preventDefault(),xt.stopPropagation(),e.uploadFile(xt),o.openAssetsOnDrop&&m){var Ft=m.getSelected();m.runCommand("open-assets",{target:Ft,onSelect:function(){m.Modal.close(),m.AssetManager.setTarget(null)}})}return!1};t.$el.append('<div class="'.concat(D,'">').concat(o.dropzoneContent,"</div>")),z(),"draggable"in h&&[h,y].forEach(function(xt){xt.ondragover=q,xt.ondragleave=ot,xt.ondrop=ft})},r.prototype.render=function(){var t=this,e=t.$el,n=t.pfx,o=t.em;return e.html(this.template({title:o&&o.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:n})),this.initDrop(),e.attr("class",n+"file-uploader"),this},r.embedAsBase64=function(t,e){var n=this,o=t.dataTransfer?t.dataTransfer.files:t.target.files,c={data:[]};if(!FileReader){this.onUploadError(new Error("Unsupported platform, FileReader is not defined"));return}for(var h=[],m=/^(.+)\/(.+)$/,y=function(z){var q=new Promise(function(ot,ft){var xt=new FileReader;xt.addEventListener("load",function(Ft){var Rt,Xt=z.name,de=m.exec(z.type);if(de?Rt=de[1]:Rt=z.type,Rt==="image"){var Oe={src:xt.result,name:Xt,type:Rt,height:0,width:0},De=new Image;De.addEventListener("error",function(pe){ft(pe)}),De.addEventListener("load",function(){Oe.height=De.height,Oe.width=De.width,ot(Oe)}),De.src=Oe.src}else ot(Rt?{src:xt.result,name:Xt,type:Rt}:xt.result)}),xt.addEventListener("error",function(Ft){ft(Ft)}),xt.addEventListener("abort",function(Ft){ft("Aborted")}),xt.readAsDataURL(z)});h.push(q)},C=0,P=o;C<P.length;C++){var D=P[C];y(D)}return Promise.all(h).then(function(z){c.data=z,n.onUploadResponse(c,e)},function(z){n.onUploadError(z)})},r}(O.G7);const RS=IS;var g_,FS=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yc=function(){return yc=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},yc.apply(this,arguments)},m_=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},td="open-assets",VS=function(l){FS(r,l);function r(t){var e=l.call(this,t,"AssetManager",new Xg([],t),h_,_S)||this;e.storageKey="assets",e.Asset=qg,e.Assets=Xg,e.events=h_;var n=e,o=n.all,c=n.config;e.assetsVis=new Xg([]);var h=c.pStylePrefix;return h&&(c.stylePrefix="".concat(h).concat(c.stylePrefix)),o.on("add",function(m){return e.getAllVisible().add(m)}),o.on("remove",function(m){return e.getAllVisible().remove(m)}),e.__onAllEvent=(0,i.debounce)(function(){return e.__trgCustom()},0),e}return r.prototype.open=function(t){t===void 0&&(t={});var e=this.em.Commands;e.run(td,yc({types:["image"],select:function(){}},t))},r.prototype.close=function(){var t=this.em.Commands;t.stop(td)},r.prototype.isOpen=function(){var t=this.em.Commands;return!!(t!=null&&t.isActive(td))},r.prototype.add=function(t,e){return e===void 0&&(e={}),typeof e.at>"u"&&(e.at=0),this.all.add(t,e)},r.prototype.get=function(t){return this.all.where({src:t})[0]||null},r.prototype.getAll=function(){return this.all},r.prototype.getAllVisible=function(){return this.assetsVis},r.prototype.remove=function(t,e){return this.__remove(t,e)},r.prototype.store=function(){return this.getProjectData()},r.prototype.load=function(t){return this.loadProjectData(t)},r.prototype.getContainer=function(){var t,e=this.__getBehaviour();return e.container||((t=this.am)===null||t===void 0?void 0:t.el)},r.prototype.getAssetsEl=function(){var t;return(t=this.am)===null||t===void 0?void 0:t.el.querySelector("[data-el=assets]")},r.prototype.render=function(t){if(!this.getConfig().custom){var e=t||this.getAll().models;if(!this.am){var n=this.__viewParams();n.fu=this.FileUploader(),this.am=new DS(yc({},n)),this.am.render()}return this.assetsVis.reset(e),this.getContainer()}},r.prototype.__viewParams=function(){return{collection:this.assetsVis,globalCollection:this.all,config:this.config,module:this,fu:void 0}},r.prototype.addType=function(t,e){this.getAll().addType(t,e)},r.prototype.getType=function(t){return this.getAll().getType(t)},r.prototype.getTypes=function(){return this.getAll().getTypes()},r.prototype.AssetsView=function(){return this.am},r.prototype.FileUploader=function(){return this.fu||(this.fu=new RS(this.__viewParams())),this.fu},r.prototype.onLoad=function(){var t=this;this.getAll().reset(this.config.assets);var e=this,n=e.em,o=e.events;n.Commands.__onRun(td,function(){return t.__propEv(o.open)}),n.Commands.__onStop(td,function(){return t.__propEv(o.close)})},r.prototype.postRender=function(t){var e;this.config.dropzone&&((e=this.fu)===null||e===void 0||e.initDropzone(t))},r.prototype.setTarget=function(t){this.assetsVis.target=t},r.prototype.onSelect=function(t){this.assetsVis.onSelect=t},r.prototype.onClick=function(t){this.config.onClick=t},r.prototype.onDblClick=function(t){this.config.onDblClick=t},r.prototype.__propEv=function(t){for(var e,n,o=[],c=1;c<arguments.length;c++)o[c-1]=arguments[c];(e=this.em).trigger.apply(e,m_([t],o,!1)),(n=this.getAll()).trigger.apply(n,m_([t],o,!1))},r.prototype.__trgCustom=function(){var t=this.__getBehaviour(),e=this.getConfig().custom;!t.container&&!e.open||this.em.trigger(this.events.custom,this.__customData())},r.prototype.__customData=function(){var t=this,e=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:e.types||[],container:e.container,close:function(){return t.close()},remove:function(n,o){return t.remove(n,o)},select:function(n,o){var c=t.add(n);(0,i.isFunction)(e.select)&&e.select(c,o)},options:e.options||{}}},r.prototype.__behaviour=function(t){return t===void 0&&(t={}),this._bhv=yc(yc({},this._bhv||{}),t)},r.prototype.__getBehaviour=function(t){return this._bhv||{}},r.prototype.destroy=function(){var t,e;this.all.stopListening(),this.all.reset(),this.assetsVis.stopListening(),this.assetsVis.reset(),(t=this.fu)===null||t===void 0||t.remove(),(e=this.am)===null||e===void 0||e.remove(),this._bhv={}},r}(G);const HS=VS;var zS=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),BS=function(l){zS(r,l);function r(t,e){e===void 0&&(e={});var n=l.call(this,t,e)||this,o=e.em,c={};n.em=o,t.frames||(c.component=t.component,c.styles=t.styles,["component","styles"].map(function(y){return n.unset(y)}));var h=t.frames||[c],m=new Ne(o.Canvas,h);return m.page=n,n.set("frames",m),!n.getId()&&n.set("id",o==null?void 0:o.Pages._createId()),o==null||o.UndoManager.add(m),n}return r.prototype.defaults=function(){return{name:"",frames:[],_undo:!0}},r.prototype.onRemove=function(){this.getFrames().reset()},r.prototype.getFrames=function(){return this.get("frames")},r.prototype.getId=function(){return this.id},r.prototype.getName=function(){return this.get("name")},r.prototype.setName=function(t){return this.set({name:t})},r.prototype.getAllFrames=function(){return this.getFrames().models||[]},r.prototype.getMainFrame=function(){return this.getFrames().at(0)},r.prototype.getMainComponent=function(){var t=this.getMainFrame();return t==null?void 0:t.getComponent()},r.prototype.toJSON=function(t){t===void 0&&(t={});var e=O.Hn.prototype.toJSON.call(this,t),n=(0,i.result)(this,"defaults");return(0,i.forEach)(e,function(o,c){c.indexOf("_")===0&&delete e[c]}),(0,i.forEach)(n,function(o,c){e[c]===o&&delete e[c]}),e},r}(O.Hn);const Jg=BS;var US=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vh=function(){return vh=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},vh.apply(this,arguments)},WS=function(l){US(r,l);function r(t,e){var n=l.call(this,t)||this;return n.on("reset",n.onReset),n.on("remove",n.onRemove),n.model=function(o,c){return c===void 0&&(c={}),new Jg(o,vh(vh({},c),{em:e}))},n}return r.prototype.onReset=function(t,e){var n=this,o;(o=e==null?void 0:e.previousModels)===null||o===void 0||o.map(function(c){return n.onRemove(c)})},r.prototype.onRemove=function(t){t==null||t.onRemove()},r}(O.FE);const $S=WS;var GS=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),KS=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},y_="change:selected",__="main",YS=function(l){GS(r,l);function r(t){var e=l.call(this,t,"PageManager",new $S([],t),pn)||this;e.events=pn,e.storageKey="pages",(0,i.bindAll)(e,"_onPageChange");var n=new bt.Z({_undo:!0});return e.model=n,e.pages.on("reset",function(o){return o.at(0)&&e.select(o.at(0))}),e.pages.on("all",e.__onChange,e),n.on(y_,e._onPageChange),e}return Object.defineProperty(r.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),r.prototype.getAll=function(){return KS([],this.all.models,!0)},r.prototype.__onChange=function(t,e,n,o){var c=this,h=c.em,m=c.events,y=o||n;h.trigger(m.all,{event:t,page:e,options:y})},r.prototype.onLoad=function(){var t,e=this,n=e.pages,o=e.config,c=e.em,h={silent:!0},m=((t=o.pages)===null||t===void 0?void 0:t.map(function(C){return new Jg(C,{em:c,config:o})}))||[];n.add(m,h);var y=n.length?this._initPage():this.add({type:__},h);y&&this.select(y,h)},r.prototype._onPageChange=function(t,e,n){var o=this,c=o.em,h=o.events,m=c.Layers,y=e.getMainComponent();m&&y&&m.setRoot(y),c.trigger(h.select,e,t.previous("selected")),this.__onChange(y_,e,n)},r.prototype.postLoad=function(){var t=this,e=t.em,n=t.model,o=t.pages,c=e.UndoManager;c.add(n),c.add(o),o.on("add remove reset change",function(h,m,y){return e.changesUp(y||m)})},r.prototype.add=function(t,e){var n=this;e===void 0&&(e={});var o=this,c=o.em,h=o.events;t.id=t.id||this._createId();var m=function(){var y=n.pages.add(new Jg(t,{em:n.em,config:n.config}),e);return e.select&&n.select(y),y};return!e.silent&&c.trigger(h.addBefore,t,m,e),e.abort?void 0:m()},r.prototype.remove=function(t,e){var n=this;e===void 0&&(e={});var o=this,c=o.em,h=o.events,m=(0,i.isString)(t)?this.get(t):t,y=function(){return m&&n.pages.remove(m,e),m};return!e.silent&&c.trigger(h.removeBefore,m,y,e),!e.abort&&y()},r.prototype.get=function(t){return this.pages.filter(function(e){return e.get(e.idAttribute)===t})[0]},r.prototype.getMain=function(){var t=this.pages;return t.filter(function(e){return e.get("type")===__})[0]||t.at(0)},r.prototype.getAllWrappers=function(){var t=this.getAll();return(0,i.unique)((0,i.flatten)(t.map(function(e){return e.getAllFrames().map(function(n){return n.getComponent()})})))},r.prototype.select=function(t,e){e===void 0&&(e={});var n=this,o=n.em,c=n.model,h=n.events,m=(0,i.isString)(t)?this.get(t):t;return m&&(o.trigger(h.selectBefore,m,e),c.set("selected",m,e)),this},r.prototype.getSelected=function(){return this.model.get("selected")},r.prototype.destroy=function(){var t=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map(function(e){return t[e]=0})},r.prototype.store=function(){return this.getProjectData()},r.prototype.load=function(t){var e=this.loadProjectData(t,{all:this.pages,reset:!0});return this.pages.forEach(function(n){return n.getFrames().initRefs()}),e},r.prototype._initPage=function(){return this.get(this.config.selected)||this.getMain()},r.prototype._createId=function(){var t=this.getAll(),e=t.length+16,n=this.getAllMap(),o;do o=(0,s.createId)(e);while(n[o]);return o},r}(G);const qS=YS;var Qg={placeholder:"eg. Text here"},XS={locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:{assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",categories:{},traits:{labels:{},attributes:{id:Qg,alt:Qg,title:Qg,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}}},messagesAdd:void 0};const ZS=XS;var tm;(function(l){l.add="i18n:add",l.update="i18n:update",l.locale="i18n:locale"})(tm||(tm={}));const JS=tm;var QS=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),t1=function(l){QS(r,l);function r(t){var e=l.call(this,t,"I18n",ZS)||this;e.events=JS;var n=e.config.messagesAdd;return n&&e.addMessages(n),e.config.detectLocale&&(e.config.locale=e._localLang()),e}return r.prototype.setLocale=function(t){var e=this,n=e.em,o=e.config,c=e.events;return n.trigger(c.locale,{value:t,valuePrev:o.locale}),o.locale=t,this},r.prototype.getLocale=function(){return this.config.locale},r.prototype.getMessages=function(t,e){e===void 0&&(e={});var n=this.config.messages;return t&&!n[t]&&this._debug("'".concat(t,"' i18n lang not found"),e),t?n[t]:n},r.prototype.setMessages=function(t){var e=this,n=e.em,o=e.config,c=e.events;return o.messages=t,n.trigger(c.update,t),this},r.prototype.addMessages=function(t){var e=this,n=e.em,o=e.events,c=e.config,h=c.messages;return n.trigger(o.add,t),this.setMessages((0,s.deepMerge)(h,t)),this},r.prototype.t=function(t,e){e===void 0&&(e={});var n=this.config,o=e.params||{},c=e.l||this.getLocale(),h=e.lFlb||n.localeFallback,m=this._getMsg(t,c,e);return m||(m=this._getMsg(t,h,e)),!m&&this._debug("'".concat(t,"' i18n key not found in '").concat(c,"' lang"),e),m=m&&(0,i.isString)(m)?this._addParams(m,o):m,m},r.prototype._localLang=function(){var t=(0,s.hasWin)()&&window.navigator||{},e=t.language||t.userLanguage;return e?e.split("-")[0]:"en"},r.prototype._addParams=function(t,e){var n=new RegExp("{([\\w\\d-]*)}","g");return t.replace(n,function(o,c){return e[c]||""}).trim()},r.prototype._getMsg=function(t,e,n){n===void 0&&(n={});var o=this.getMessages(e,n);if(o){var c=o[t];return!c&&t.indexOf(".")>0&&(c=t.split(".").reduce(function(h,m){if(!(0,i.isUndefined)(h))return h[m]},o)),c}},r.prototype._debug=function(t,e){e===void 0&&(e={});var n=this,o=n.em,c=n.config;(e.debug||c.debug)&&o&&o.logWarning(t)},r.prototype.destroy=function(){},r}(J);const e1=t1;var n1=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fa=function(){return fa=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},fa.apply(this,arguments)},r1=function(){},o1=rn.q.Target,w_={id:"sorter-target",type:o1},i1=function(l){n1(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.initialize=function(t){t===void 0&&(t={}),this.opt=t||{},(0,i.bindAll)(this,"startSort","onMove","endMove","rollback","updateOffset","moveDragHelper");var e=t||{};this.elT=0,this.elL=0,this.borderOffset=e.borderOffset||10;var n=e.container;this.el=typeof n=="string"?document.querySelector(n):n,this.$el=(0,S.default)(this.el),this.containerSel=e.containerSel||"div",this.itemSel=e.itemSel||"div",this.draggable=e.draggable||!0,this.nested=!!e.nested,this.pfx=e.pfx||"",this.ppfx=e.ppfx||"",this.freezeClass=e.freezeClass||this.pfx+"freezed",this.onStart=e.onStart||r1,this.onEndMove=e.onEndMove,this.customTarget=e.customTarget,this.onEnd=e.onEnd,this.direction=e.direction||"v",this.onMoveClb=e.onMove,this.relative=e.relative||!1,this.ignoreViewChildren=!!e.ignoreViewChildren,this.plh=e.placer,this.wmargin=e.wmargin||0,this.offTop=e.offsetTop||0,this.offLeft=e.offsetLeft||0,this.document=e.document||document,this.em=e.em,this.canvasRelative=!!e.canvasRelative,this.selectOnEnd=!e.avoidSelectOnEnd,this.scale=e.scale;var o=this.em;o!=null&&o.on&&(o.on(o.Canvas.events.refresh,this.updateOffset),this.updateOffset())},r.prototype.getScale=function(){return(0,i.result)(this,"scale")||1},r.prototype.getContainerEl=function(t){if(t&&(this.el=t),!this.el){var e=this.opt.container;this.el=typeof e=="string"?document.querySelector(e):e,this.$el=(0,S.default)(this.el)}return this.el},r.prototype.getDocuments=function(t){var e=this.em,n=t?t.ownerDocument:e==null?void 0:e.Canvas.getBody().ownerDocument,o=[document];return n&&o.push(n),o},r.prototype.updateOffset=function(){var t,e=((t=this.em)===null||t===void 0?void 0:t.get("canvasOffset"))||{};this.offTop=e.top,this.offLeft=e.left},r.prototype.setDropContent=function(t){delete this.dropModel,this.dropContent=t},r.prototype.updateTextViewCursorPosition=function(t){var e=this.em;if(e){var n=e.Canvas,o=n.getDocument(),c=null;if(o.caretRangeFromPoint){var h=(0,ee.VB)(t);c=o.caretRangeFromPoint(h.clientX,h.clientY)}else t.rangeParent&&(c=o.createRange(),c.setStart(t.rangeParent,t.rangeOffset));var m=n.getWindow().getSelection();n.getFrameEl().focus(),m==null||m.removeAllRanges(),c&&(m==null||m.addRange(c)),this.setContentEditable(this.activeTextModel,!0)}},r.prototype.setContentEditable=function(t,e){if(t){var n=t.getEl();n.contentEditable!=e&&(n.contentEditable=e)}},r.prototype.toggleSortCursor=function(t){var e=this.em,n=e==null?void 0:e.Canvas;n&&(t?n.startAutoscroll():n.stopAutoscroll())},r.prototype.setDragHelper=function(t,e){for(var n=e||"",o=t.cloneNode(!0),c=t.getBoundingClientRect(),h=getComputedStyle(t),m="",y=0;y<h.length;y++){var C=h[y];m+="".concat(C,":").concat(h.getPropertyValue(C),";")}if(document.body.appendChild(o),o.className+=" ".concat(this.pfx,"bdrag"),o.setAttribute("style",m),this.dragHelper=o,o.style.width="".concat(c.width,"px"),o.style.height="".concat(c.height,"px"),n&&this.moveDragHelper(n),this.em){var P=(0,S.default)(this.em.Canvas.getBody().ownerDocument);P.off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)}(0,S.default)(document).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)},r.prototype.moveDragHelper=function(t){var e=t.target.ownerDocument;if(!(!this.dragHelper||!e)){var n=t.pageY,o=t.pageX,c=0,h=0,m=e.defaultView||e.parentWindow,y=m.frameElement,C=this.dragHelper.style;if(y){var P=y.getBoundingClientRect();c=P.top+document.documentElement.scrollTop,h=P.left+document.documentElement.scrollLeft,n=t.clientY,o=t.clientX}C.top=n+c+"px",C.left=o+h+"px"}},r.prototype.matches=function(t,e){return s.matches.call(t,e)},r.prototype.closest=function(t,e){if(t)for(var n=t.parentNode;n&&n.nodeType===1;){if(this.matches(n,e))return n;n=n.parentNode}},r.prototype.offset=function(t){var e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},r.prototype.createPlaceholder=function(){var t=this.pfx,e=document.createElement("div"),n=document.createElement("div");return e.className=t+"placeholder",e.style.display="none",e.style.pointerEvents="none",n.className=t+"placeholder-int",e.appendChild(n),e},r.prototype.startSort=function(t,e){var n,o;e===void 0&&(e={});var c=this,h=c.em,m=c.itemSel,y=c.containerSel,C=c.plh,P=this.getContainerEl(e.container),D=this.getDocuments(t),z;delete this.dropModel,delete this.target,delete this.prevTarget,this.moved=!1,t&&!this.matches(t,"".concat(m,", ").concat(y))&&(t=this.closest(t,m)),this.sourceEl=t,C||(this.plh=this.createPlaceholder(),P.appendChild(this.plh)),t&&(z=this.getSourceModel(t),z!=null&&z.set&&z.set("status","freezed"),this.srcModel=z),(0,ee.on)(P,"mousemove dragover",this.onMove),(0,ee.on)(D,"mouseup dragend touchend",this.endMove),(0,ee.on)(D,"keydown",this.rollback),this.onStart({sorter:this,target:z,parent:z&&((n=z.parent)===null||n===void 0?void 0:n.call(z)),index:z&&((o=z.index)===null||o===void 0?void 0:o.call(z))}),h==null||h.clearSelection(),this.toggleSortCursor(!0),h==null||h.trigger("sorter:drag:start",t,z)},r.prototype.getTargetModel=function(t){var e=t||this.target;return(0,S.default)(e).data("model")},r.prototype.getSourceModel=function(t,e){var n=this,o=e===void 0?{}:e,c=o.target,h=o.avoidChildren,m=h===void 0?1:h,y=this,C=y.em,P=y.sourceEl,D=t||P,z=this,q=z.dropModel,ot=z.dropContent,ft=function(Xt){return Xt&&c&&Xt.opt&&Xt.opt.avoidChildren&&n.isTextableActive(Xt,c)};if(ot&&C){if(ft(q)&&(q=void 0),!q){var xt=C.Components.getComponents(),Ft={avoidChildren:m,avoidStore:1,avoidUpdateStyle:1},Rt=xt.add(ot,fa(fa({},Ft),{temporary:!0}));if(q=xt.remove(Rt,Ft),q=q instanceof Array?q[0]:q,this.dropModel=q,ft(q))return this.getSourceModel(D,{target:c,avoidChildren:0})}return q}return D&&(0,S.default)(D).data("model")},r.prototype.selectTargetModel=function(t,e){if(!(t instanceof O.FE)&&!(e&&e===t)){var n=this.targetModel;if(n&&n!==this.srcModel&&n.set("status",""),t!=null&&t.set){var o=this.em.Canvas,c=rn.q.Select,h=rn.q.Hover,m=rn.q.Spacing;[c,h,m].forEach(function(y){return o.removeSpots({type:y})}),o.addSpot(fa(fa({},w_),{component:t})),t.set("status","selected-parent"),this.targetModel=t}}},r.prototype.onMove=function(t){var e=t,n=this,o=n.em,c=n.onMoveClb,h=n.plh,m=n.customTarget;this.moved=!0;var y=h.style.display;(!y||y==="none")&&(h.style.display="block");var C=this.offset(this.el);this.elT=this.wmargin?Math.abs(C.top):C.top,this.elL=this.wmargin?Math.abs(C.left):C.left;var P=t.pageY-this.elT+this.el.scrollTop,D=t.pageX-this.elL+this.el.scrollLeft;if(this.canvasRelative&&o){var z=o.Canvas.getMouseRelativeCanvas(t,{noScroll:1});D=z.x,P=z.y}this.rX=D,this.rY=P,this.eventMove=t;var q=this.getSourceModel(),ot=m?m({sorter:this,event:t}):t.target,ft=this.dimsFromTarget(ot,D,P),xt=this.target,Ft=xt&&this.getTargetModel(xt);if(this.selectTargetModel(Ft,q),Ft||(h.style.display="none"),!!xt){this.lastDims=ft;var Rt=this.findPosition(ft,D,P);this.isTextableActive(q,Ft)?(this.activeTextModel=Ft,h.style.display="none",this.lastPos=Rt,this.updateTextViewCursorPosition(e)):(this.disableTextable(),delete this.activeTextModel,(!this.lastPos||this.lastPos.index!=Rt.index||this.lastPos.method!=Rt.method)&&(this.movePlaceholder(this.plh,ft,Rt,this.prevTargetDim),this.$plh||(this.$plh=(0,S.default)(this.plh)),this.canvasRelative||(this.offTop&&this.$plh.css("top","+="+this.offTop+"px"),this.offLeft&&this.$plh.css("left","+="+this.offLeft+"px")),this.lastPos=Rt)),(0,i.isFunction)(c)&&c({event:t,target:q,parent:Ft,index:Rt.index+(Rt.method=="after"?1:0)}),o&&o.trigger("sorter:drag",{target:xt,targetModel:Ft,sourceModel:q,dims:ft,pos:Rt,x:D,y:P})}},r.prototype.isTextableActive=function(t,e){var n;return((n=t==null?void 0:t.get)===null||n===void 0?void 0:n.call(t,"textable"))&&(e==null?void 0:e.isInstanceOf("text"))},r.prototype.disableTextable=function(){var t=this.activeTextModel;t==null||t.getView().disableEditing(),this.setContentEditable(t,!1)},r.prototype.isInFlow=function(t,e){if(!t)return!1;e=e||document.body;var n=t;return n.offsetHeight,!!this.styleInFlow(n,e)},r.prototype.styleInFlow=function(t,e){if(!(0,ee.BM)(t)){var n=t.style||{},o=(0,S.default)(t),c=e&&(0,S.default)(e);if(!(n.overflow&&n.overflow!=="visible")){var h=o.css("float");if(!(h&&h!=="none")&&!(c&&c.css("display")=="flex"&&c.css("flex-direction")!=="column")){switch(n.position){case"static":case"relative":case"":break;default:return}switch(t.tagName){case"TR":case"TBODY":case"THEAD":case"TFOOT":return!0}switch(o.css("display")){case"block":case"list-item":case"table":case"flex":case"grid":return!0}}}}},r.prototype.validTarget=function(t,e){var n=this.getTargetModel(t),o=this.getSourceModel(e,{target:n});e=o&&o.view&&o.view.el,t=n&&n.view&&n.view.el;var c={valid:!0,src:e,srcModel:o,trg:t,trgModel:n,draggable:!1,droppable:!1,dragInfo:"",dropInfo:""};if(!e||!t)return c.valid=!1,c;var h=o.get("draggable");if((0,i.isFunction)(h)){var m=h(o,n);c.dragInfo=m,c.draggable=m,h=m}else h=h instanceof Array?h.join(", "):h,c.dragInfo=h,h=(0,i.isString)(h)?this.matches(t,h):h,c.draggable=h;var y=n.get("droppable");if((0,i.isFunction)(y)){var m=y(o,n);c.droppable=m,c.dropInfo=m,y=m}else y=y instanceof O.FE?1:y,y=y instanceof Array?y.join(", "):y,c.dropInfo=y,y=(0,i.isString)(y)?this.matches(e,y):y,y=h&&this.isTextableActive(o,n)?1:y,c.droppable=y;return(!y||!h)&&(c.valid=!1),c},r.prototype.dimsFromTarget=function(t,e,n){e===void 0&&(e=0),n===void 0&&(n=0);var o=this.em,c=[];if(!t||(this.matches(t,"".concat(this.itemSel,", ").concat(this.containerSel))||(t=this.closest(t,this.itemSel)),this.draggable instanceof Array&&(t=this.closest(t,this.draggable.join(","))),!t))return c;if(this.prevTarget&&this.prevTarget!=t&&delete this.prevTarget,!this.prevTarget){this.targetP=this.closest(t,this.containerSel);var h=this.validTarget(t);if(o&&o.trigger("sorter:drag:validation",h),!h.valid&&this.targetP)return this.dimsFromTarget(this.targetP,e,n);this.prevTarget=t,this.prevTargetDim=this.getDim(t),this.cacheDimsP=this.getChildrenDim(this.targetP),this.cacheDims=this.getChildrenDim(t)}if(this.prevTarget==t&&(c=this.cacheDims),this.target=this.prevTarget,this.nearBorders(this.prevTargetDim,e,n)||!this.nested&&!this.cacheDims.length){var m=this.targetP;m&&this.validTarget(m).valid&&(c=this.cacheDimsP,this.target=m)}return delete this.lastPos,c},r.prototype.getTargetFromEl=function(t){var e=t,n,o=this.targetPrev,c=this.em,h=this.containerSel,m=this.itemSel;if(this.matches(e,"".concat(m,", ").concat(h))||(e=this.closest(e,m)),this.draggable instanceof Array&&(e=this.closest(e,this.draggable.join(","))),o&&o!=e&&delete this.targetPrev,!this.targetPrev){n=this.closest(e,h);var y=this.validTarget(e);if(c&&c.trigger("sorter:drag:validation",y),!y.valid&&n)return this.getTargetFromEl(n);this.targetPrev=e}return this.nearElBorders(e)&&(n=this.closest(e,h),n&&this.validTarget(n).valid&&(e=n)),e},r.prototype.nearElBorders=function(t){var e=10,n=t.getBoundingClientRect(),o=t.ownerDocument.body,c=this.getCurrentPos(),h=c.x,m=c.y,y=n.top+o.scrollTop,C=n.left+o.scrollLeft,P=n.width,D=n.height;if(m<y+e||m>y+D-e||h<C+e||h>C+P-e)return 1},r.prototype.getCurrentPos=function(){var t=this.eventMove,e=(t==null?void 0:t.pageX)||0,n=(t==null?void 0:t.pageY)||0;return{x:e,y:n}},r.prototype.getDim=function(t){var e=this,n=e.em,o=e.canvasRelative,c=n==null?void 0:n.Canvas,h=c?c.getElementOffsets(t):{},m,y,C,P;if(o&&n){var D=c.getElementPos(t,{noScroll:1});m=D.top,y=D.left,C=D.height,P=D.width}else{var z=this.offset(t);m=this.relative?t.offsetTop:z.top-(this.wmargin?-1:1)*this.elT,y=this.relative?t.offsetLeft:z.left-(this.wmargin?-1:1)*this.elL,C=t.offsetHeight,P=t.offsetWidth}return{top:m,left:y,height:C,width:P,offsets:h}},r.prototype.getChildrenDim=function(t){var e=this,n=[];if(!t)return n;var o=this.getTargetModel(t);if(o&&o.view&&!this.ignoreViewChildren){var c=o.getCurrentView?o.getCurrentView():o.view;t=c.getChildrenContainer()}return(0,i.each)(t.children,function(h,m){var y=h,C=(0,s.getModel)(y,S.default),P=C&&C.index?C.index():m;if(!(!(0,ee.BM)(y)&&!e.matches(y,e.itemSel))){var D=e.getDim(y),z=e.direction,q;z=="v"?q=!0:z=="h"?q=!1:q=e.isInFlow(y,t),D.dir=q,D.el=y,D.indexEl=P,n.push(D)}}),n},r.prototype.nearBorders=function(t,e,n){var o=!1,c=this.borderOffset,h=e||0,m=n||0,y=t.top,C=t.left,P=t.height,D=t.width;return(y+c>m||m>y+P-c||C+c>h||h>C+D-c)&&(o=!0),o},r.prototype.findPosition=function(t,e,n){for(var o={index:0,indexEl:0,method:"before"},c=0,h=0,m=0,y=0,C=0,P=0,D=0,z,q=0,ot=t.length;q<ot;q++){z=t[q];var ft=z.top,xt=z.left,Ft=z.height,Rt=z.width;if(m=xt+Rt,D=ft+Ft,C=xt+Rt/2,P=ft+Ft/2,!(h&&xt>h||y&&P>=y||c&&m<c))if(o.index=q,o.indexEl=z.indexEl,!z.dir)n<D&&(y=D),e<C?(h=C,o.method="before"):(c=C,o.method="after");else if(n<P){o.method="before";break}else o.method="after"}return o},r.prototype.movePlaceholder=function(t,e,n,o){var c=0,h=0,m=0,y="",C="",P="px",D=5,z=n.method,q=e[n.index];if(t.classList.remove("vertical"),t.classList.add("horizontal"),q){var ot=q.top,ft=q.left,xt=q.height,Ft=q.width;q.dir?(y=Ft+P,C="auto",h=z=="before"?ot-c:ot+xt-c,m=ft):(y="auto",C=xt-c*2+P,h=ot+c,m=z=="before"?ft-c:ft+Ft-c,t.classList.remove("horizontal"),t.classList.add("vertical"))}else{if(!this.nested){t.style.display="none";return}if(o){var Rt=o.offsets||{},Xt=Rt.paddingTop||D,de=Rt.paddingLeft||D,Oe=Rt.borderTopWidth||0,De=Rt.borderLeftWidth||0,pe=Rt.borderRightWidth||0,Fe=De+pe;h=o.top+Xt+Oe,m=o.left+de+De,y=parseInt("".concat(o.width))-de*2-Fe+P,C="auto"}}t.style.top=h+P,t.style.left=m+P,y&&(t.style.width=y),C&&(t.style.height=C)},r.prototype.parents=function(t){return t?[t].concat(this.parents(t.parent())):[]},r.prototype.sort=function(t,e){var n=t.parents.filter(function(m){return e.parents.includes(m)}),o=n[0];if(!o)return e.model.index()-t.model.index();var c=t.parents[t.parents.indexOf(o)-1],h=e.parents[e.parents.indexOf(o)-1];return h.index()-c.index()},r.prototype.endMove=function(){var t=this,e,n=this.sourceEl,o=[],c=this.getDocuments(),h=this.getContainerEl(),m=this.onEndMove,y=this.onEnd,C=this,P=C.target,D=C.lastPos,z;if((0,ee.S1)(h,"mousemove dragover",this.onMove),(0,ee.S1)(c,"mouseup dragend touchend",this.endMove),(0,ee.S1)(c,"keydown",this.rollback),this.plh.style.display="none",n&&(z=this.getSourceModel()),this.moved&&P){var q=this.toMove,ot=(0,i.isArray)(q)?q:q?[q]:[n],ft=0;ot.length===1?o.push(this.move(P,ot[0],D)):ot.map(function(Rt){return{model:Rt,parents:t.parents(Rt)}}).sort(this.sort).forEach(function(Rt){var Xt=Rt.model,de=Xt.index(),Oe=Xt.parent().getEl();o.push(t.move(P,Xt,fa(fa({},D),{indexEl:D.indexEl-ft,index:D.index-ft}))),Oe===P&&de<=D.index&&ft++})}this.plh&&(this.plh.style.display="none");var xt=this.dragHelper;if(xt&&(xt.parentNode.removeChild(xt),delete this.dragHelper),this.disableTextable(),this.selectTargetModel(),this.toggleSortCursor(),(e=this.em)===null||e===void 0||e.Canvas.removeSpots(w_),delete this.toMove,delete this.eventMove,delete this.dropModel,(0,i.isFunction)(m)){var Ft={target:z,parent:z&&z.parent(),index:z&&z.index()};o.length?o.forEach(function(Rt){return m(Rt,t,Ft)}):m(null,this,fa(fa({},Ft),{cancelled:1}))}(0,i.isFunction)(y)&&y({sorter:this})},r.prototype.move=function(t,e,n){var o=this,c=o.em,h=o.dropContent,m=(0,s.getElement)(e),y=[],C=n.method==="after"?n.indexEl+1:n.indexEl,P=this.validTarget(t,m),D=(0,S.default)(t).data("collection"),z=P.trgModel,q=P.srcModel,ot=P.draggable,ft=z instanceof O.FE?1:P.droppable,xt,Ft;if(D&&ft&&ot){var Rt={at:C,action:"move-component"},Xt=this.isTextableActive(q,z);if(h)xt=(0,i.isFunction)(h)?h():h,Rt.avoidUpdateStyle=!0,Rt.action="add-component";else{var de=q.collection.indexOf(q),Oe=D===q.collection,De=de===C||de===C-1,pe=!Oe||!De||Xt;pe&&(xt=q.collection.remove(q,{temporary:!0}),Oe&&C>de&&(Rt.at=C-1))}xt&&(Xt?(delete Rt.at,Ft=z.getView().insertComponent(xt,Rt)):Ft=D.add(xt,Rt)),delete this.dropContent,delete this.prevTarget}else if(c){var Fe=P.dropInfo||(z==null?void 0:z.get("droppable")),Ye=P.dragInfo||(q==null?void 0:q.get("draggable"));!D&&y.push("Target collection not found"),!ft&&Fe&&y.push("Target is not droppable, accepts [".concat(Fe,"]")),!ot&&Ye&&y.push("Component not draggable, acceptable by [".concat(Ye,"]")),c.logWarning("Invalid target position",{errors:y,model:q,context:"sorter",target:z})}return c==null||c.trigger("sorter:drag:end",{targetCollection:D,modelToDrop:xt,warns:y,validResult:P,dst:t,srcEl:m}),Ft},r.prototype.rollback=function(t){(0,ee.S1)(this.getDocuments(),"keydown",this.rollback);var e=t.which||t.keyCode;e==27&&(this.moved=!1,this.endMove())},r}(O.G7);const a1=i1;var fu=function(){return fu=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},fu.apply(this,arguments)},s1=function(l,r){r===void 0&&(r={});var t=r.prefix||"",e=document.createElement("i");return e.className=t+"resizer-h "+t+"resizer-h-"+l,e.setAttribute("data-"+t+"handler",l),e},l1=function(l,r){var t=window,e=l.getBoundingClientRect();return{left:e.left+t.pageXOffset,top:e.top+t.pageYOffset,width:e.width,height:e.height}},u1=function(){function l(r){r===void 0&&(r={}),this.defOpts={ratioDefault:!1,onUpdateContainer:function(){},step:1,minDim:10,maxDim:1/0,unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:!0,silentFrames:!1,avoidContainerUpdate:!1,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:!0,tc:!0,tr:!0,cl:!0,cr:!0,bl:!0,bc:!0,br:!0},this.opts=fu({},this.defOpts),this.setOptions(r),(0,i.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop")}return l.prototype.getConfig=function(){return this.opts},l.prototype.setOptions=function(r,t){r===void 0&&(r={}),this.opts=fu(fu({},t?this.defOpts:this.opts),r),this.setup()},l.prototype.setup=function(){var r=this.opts,t=r.prefix||"",e=r.appendTo||document.body,n=this.container;for(n||(n=document.createElement("div"),n.className="".concat(t,"resizer-c"),e.appendChild(n),this.container=n);n.firstChild;)n.removeChild(n.firstChild);var o={};["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(m){return o[m]=r[m]?s1(m,r):null});for(var c in o){var h=o[c];h&&n.appendChild(h)}this.handlers=o,this.mousePosFetcher=r.mousePosFetcher,this.updateTarget=r.updateTarget,this.posFetcher=r.posFetcher,this.onStart=r.onStart,this.onMove=r.onMove,this.onEnd=r.onEnd,this.onUpdateContainer=r.onUpdateContainer},l.prototype.toggleFrames=function(r){if(this.opts.silentFrames){var t=document.querySelectorAll("iframe");(0,i.each)(t,function(e){return e.style.pointerEvents=r?"none":""})}},l.prototype.isHandler=function(r){var t=this.handlers;for(var e in t)if(t[e]===r)return!0;return!1},l.prototype.getFocusedEl=function(){return this.el},l.prototype.getParentEl=function(){var r;return(r=this.el)===null||r===void 0?void 0:r.parentElement},l.prototype.getDocumentEl=function(){return[this.el.ownerDocument,document]},l.prototype.getElementPos=function(r,t){t===void 0&&(t={});var e=this.posFetcher;return e?e(r,t):l1(r)},l.prototype.focus=function(r){r&&r===this.el||(this.el=r,this.updateContainer({forceShow:!0}),(0,ee.on)(this.getDocumentEl(),"pointerdown",this.handleMouseDown))},l.prototype.blur=function(){this.container.style.display="none",this.el&&((0,ee.S1)(this.getDocumentEl(),"pointerdown",this.handleMouseDown),delete this.el)},l.prototype.start=function(r){var t=r;if(t.button===0){t.preventDefault(),t.stopPropagation();var e=this.el,n=this.getParentEl(),o=this,c=this.opts||{},h=this.mousePosFetcher,m="data-"+c.prefix+"handler",y=this.getElementPos(e,{avoidFrameZoom:!0,avoidFrameOffset:!0}),C=this.getElementPos(n),P=t.target;this.handlerAttr=P.getAttribute(m),this.clickedHandler=P,this.startDim={t:y.top,l:y.left,w:y.width,h:y.height},this.rectDim={t:y.top,l:y.left,w:y.width,h:y.height},this.startPos=h?h(t):{x:t.clientX,y:t.clientY},this.parentDim={t:C.top,l:C.left,w:C.width,h:C.height};var D=this.getDocumentEl();this.docs=D,(0,ee.on)(D,"pointermove",this.move),(0,ee.on)(D,"keydown",this.handleKeyDown),(0,ee.on)(D,"pointerup",this.stop),(0,i.isFunction)(this.onStart)&&this.onStart(t,{docs:D,config:c,el:e,resizer:o}),this.toggleFrames(!0),this.move(t)}},l.prototype.move=function(r){var t=r,e=this.onMove,n=this.mousePosFetcher,o=n?n(t):{x:t.clientX,y:t.clientY};this.currentPos=o,this.delta={x:o.x-this.startPos.x,y:o.y-this.startPos.y},this.keys={shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey},this.rectDim=this.calc(this),this.updateRect(!1),e&&e(t)},l.prototype.stop=function(r){var t=this.el,e=this.opts,n=this.docs||this.getDocumentEl();(0,ee.S1)(n,"pointermove",this.move),(0,ee.S1)(n,"keydown",this.handleKeyDown),(0,ee.S1)(n,"pointerup",this.stop),this.updateRect(!0),this.toggleFrames(),(0,i.isFunction)(this.onEnd)&&this.onEnd(r,{docs:n,config:e,el:t,resizer:this}),delete this.docs},l.prototype.updateRect=function(r){var t=this.el,e=this,n=this.opts,o=this.rectDim,c=this.updateTarget,h=this.getSelectedHandler(),m=n.unitHeight,y=n.unitWidth,C=n.keyWidth,P=n.keyHeight;if((0,i.isFunction)(c))c(t,o,{store:r,selectedHandler:h,resizer:e,config:n});else{var D=t.style;D[C]=o.w+y,D[P]=o.h+m}this.updateContainer()},l.prototype.updateContainer=function(r){var t;r===void 0&&(r={});var e=this,n=e.opts,o=e.container,c=e.el,h=o.style;!n.avoidContainerUpdate&&c&&r.forceShow&&(h.display="block"),(t=this.onUpdateContainer)===null||t===void 0||t.call(this,{el:o,resizer:this,opts:fu(fu({},n),r)})},l.prototype.getSelectedHandler=function(){var r=this.handlers;if(this.selectedHandler){for(var t in r)if(r[t]===this.selectedHandler)return t}},l.prototype.handleKeyDown=function(r){r.keyCode===27&&(this.rectDim=this.startDim,this.stop(r))},l.prototype.handleMouseDown=function(r){var t=r.target;this.isHandler(t)?(this.selectedHandler=t,this.start(r)):t!==this.el&&(delete this.selectedHandler,this.blur())},l.prototype.calc=function(r){var t,e=this.opts||{},n=e.step,o=this.startDim,c=e.minDim,h=e.maxDim,m=r.delta.x,y=r.delta.y,C=this.parentDim.w,P=this.parentDim.h,D=this.opts.unitWidth,z=this.opts.unitHeight,q=D==="%"?o.w/100*C:o.w,ot=z==="%"?o.h/100*P:o.h,ft={t:o.t,l:o.l,w:q,h:ot};if(r){var xt=r.handlerAttr;~xt.indexOf("r")&&(t=D==="%"?(0,s.normalizeFloat)((q+m*n)/C*100,.01):(0,s.normalizeFloat)(q+m*n,n),t=Math.max(c,t),h&&(t=Math.min(h,t)),ft.w=t),~xt.indexOf("b")&&(t=z==="%"?(0,s.normalizeFloat)((ot+y*n)/P*100,.01):(0,s.normalizeFloat)(ot+y*n,n),t=Math.max(c,t),h&&(t=Math.min(h,t)),ft.h=t),~xt.indexOf("l")&&(t=D==="%"?(0,s.normalizeFloat)((q-m*n)/C*100,.01):(0,s.normalizeFloat)(q-m*n,n),t=Math.max(c,t),h&&(t=Math.min(h,t)),ft.w=t),~xt.indexOf("t")&&(t=z==="%"?(0,s.normalizeFloat)((ot-y*n)/P*100,.01):(0,s.normalizeFloat)(ot-y*n,n),t=Math.max(c,t),h&&(t=Math.min(h,t)),ft.h=t);var Ft=e.ratioDefault?!r.keys.shift:r.keys.shift;if(xt.indexOf("c")<0&&Ft){var Rt=o.w/o.h;ft.w/ft.h>Rt?ft.h=Math.round(ft.w/Rt):ft.w=Math.round(ft.h*Rt)}~xt.indexOf("l")&&(ft.l+=o.w-ft.w),~xt.indexOf("t")&&(ft.t+=o.h-ft.h);for(var Xt in ft){var de=Xt;ft[de]=parseInt("".concat(ft[de]),10)}return ft}},l}();const c1=u1;var f1=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),em=function(){return em=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},em.apply(this,arguments)},d1=function(l){f1(r,l);function r(t){var e=l.call(this,t,"Utils")||this;return e.Sorter=a1,e.Resizer=c1,e.Dragger=Hi.Z,e.helpers=em({},s),e}return r.prototype.destroy=function(){},r}(J);const p1=d1;var No,Xo={},go={16:!1,18:!1,17:!1,91:!1},b_="all",du={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,command:91},C_={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},nm=function(l){return C_[l]||l.toUpperCase().charCodeAt(0)},_c=[];for(No=1;No<20;No++)C_["f"+No]=111+No;function ed(l,r){for(var t=l.length;t--;)if(l[t]===r)return t;return-1}function h1(l,r){if(l.length!=r.length)return!1;for(var t=0;t<l.length;t++)if(l[t]!==r[t])return!1;return!0}var v1={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function g1(l){for(No in go)go[No]=l[v1[No]]}function m1(l){var r,t,e,n,o,c;if(r=l.keyCode,ed(_c,r)==-1&&_c.push(r),(r==93||r==224)&&(r=91),r in go){go[r]=!0;for(e in du)du[e]==r&&(mo[e]=!0);return}if(g1(l),!!mo.filter.call(this,l)&&r in Xo){for(c=rm(),n=0;n<Xo[r].length;n++)if(t=Xo[r][n],t.scope==c||t.scope=="all"){o=t.mods.length>0;for(e in go)(!go[e]&&ed(t.mods,+e)>-1||go[e]&&ed(t.mods,+e)==-1)&&(o=!1);(t.mods.length==0&&!go[16]&&!go[18]&&!go[17]&&!go[91]||o)&&t.method(l,t)===!1&&(l.preventDefault?l.preventDefault():l.returnValue=!1,l.stopPropagation&&l.stopPropagation(),l.cancelBubble&&(l.cancelBubble=!0))}}}function y1(l){var r=l.keyCode,t,e=ed(_c,r);if(e>=0&&_c.splice(e,1),(r==93||r==224)&&(r=91),r in go){go[r]=!1;for(t in du)du[t]==r&&(mo[t]=!1)}}function _1(){for(No in go)go[No]=!1;for(No in du)mo[No]=!1}function mo(l,r,t){var e,n;e=x_(l),t===void 0&&(t=r,r="all");for(var o=0;o<e.length;o++)n=[],l=e[o].split("+"),l.length>1&&(n=S_(l),l=[l[l.length-1]]),l=l[0],l=nm(l),l in Xo||(Xo[l]=[]),Xo[l].push({shortcut:e[o],scope:r,method:t,key:e[o],mods:n})}function w1(l,r){var t,e,n=[],o,c,h;for(t=x_(l),c=0;c<t.length;c++){if(e=t[c].split("+"),e.length>1&&(n=S_(e)),l=e[e.length-1],l=nm(l),r===void 0&&(r=rm()),!Xo[l])return;for(o=0;o<Xo[l].length;o++)h=Xo[l][o],h.scope===r&&h1(h.mods,n)&&(Xo[l][o]={})}}function b1(l){return typeof l=="string"&&(l=nm(l)),ed(_c,l)!=-1}function C1(){return _c.slice(0)}function x1(l){var r=(l.target||l.srcElement).tagName;return!(r=="INPUT"||r=="SELECT"||r=="TEXTAREA")}for(No in du)mo[No]=!1;function S1(l){b_=l||"all"}function rm(){return b_||"all"}function O1(l){var r,t,e;for(r in Xo)for(t=Xo[r],e=0;e<t.length;)t[e].scope===l?t.splice(e,1):e++}function x_(l){var r;return l=l.replace(/\s/g,""),r=l.split(","),r[r.length-1]==""&&(r[r.length-2]+=","),r}function S_(l){for(var r=l.slice(0,l.length-1),t=0;t<r.length;t++)r[t]=du[r[t]];return r}function om(l,r,t){l.addEventListener?l.addEventListener(r,t,!1):l.attachEvent&&l.attachEvent("on"+r,function(){t(window.event)})}mo.setScope=S1,mo.getScope=rm,mo.deleteScope=O1,mo.filter=x1,mo.isPressed=b1,mo.getPressedKeyCodes=C1,mo.unbind=w1,mo.handlers=Xo,mo.init=function(l){om(l.document,"keydown",function(r){m1(r)}),om(l.document,"keyup",y1),om(l,"focus",_1)};const nd=mo;var T1={defaults:{"core:undo":{keys:"+z, ctrl+z",handler:"core:undo",opts:{prevent:!0}},"core:redo":{keys:"+shift+z, ctrl+shift+z",handler:"core:redo",opts:{prevent:!0}},"core:copy":{keys:"+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:!0}}}};const E1=T1;var P1=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),O_=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))};(0,s.hasWin)()&&nd.init(window);var k1=function(l){P1(r,l);function r(t){var e=l.call(this,t,"Keymaps",E1)||this;return e.keymaster=nd,e.keymaps={},e}return r.prototype.onLoad=function(){var t=this.config.defaults;for(var e in t){var n=t[e];this.add(e,n.keys,n.handler,n.opts||{})}},r.prototype.add=function(t,e,n,o){o===void 0&&(o={});var c=this.em,h=c.Commands,m=c.getEditor(),y=c.Canvas,C={id:t,keys:e,handler:n},P=this.keymaps[t];return P&&this.remove(t),this.keymaps[t]=C,nd(e,function(D,z){var q={event:D,h:z},ot=(0,i.isString)(n)?h.get(n):n,ft=!c.isEditing()&&!m.Canvas.isInputFocused();if(ft||o.force){o.prevent&&y.getCanvasView().preventDefault(D),(0,i.isFunction)(ot)?ot(m,0,q):h.runCommand(ot,q);var xt=[t,z.shortcut,D];c.trigger.apply(c,O_(["keymap:emit"],xt,!1)),c.trigger.apply(c,O_(["keymap:emit:".concat(t)],xt,!1))}},void 0),c.trigger("keymap:add",C),C},r.prototype.get=function(t){return this.keymaps[t]},r.prototype.getAll=function(){return this.keymaps},r.prototype.remove=function(t){var e=this.em,n=this.get(t);if(n)return delete this.keymaps[t],n.keys.split(", ").forEach(function(o){nd.unbind(o.trim())}),e==null||e.trigger("keymap:remove",n),n},r.prototype.removeAll=function(){var t=this;return Object.keys(this.keymaps).forEach(function(e){return t.remove(e)}),nd.handlers={},this},r.prototype.destroy=function(){this.removeAll(),this.keymaps={}},r}(J);const A1=k1;var M1={stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}};const L1=M1;var D1=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),j1=function(l){D1(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.defaults=function(){return{title:"",content:"",attributes:{},open:!1}},r.prototype.open=function(){this.set("open",!0)},r.prototype.close=function(){this.set("open",!1)},r}(bt.Z);const N1=j1;var I1=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gh=function(){return gh=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},gh.apply(this,arguments)},R1=function(l){I1(r,l);function r(t){var e=l.call(this,t)||this,n=e.model;return e.listenTo(n,"change:open",e.updateOpen),e.listenTo(n,"change:title",e.updateTitle),e.listenTo(n,"change:content",e.updateContent),e}return r.prototype.template=function(t){var e=t.pfx,n=t.ppfx,o=t.content,c=t.title;return'<div class="'.concat(e,"dialog ").concat(n,"one-bg ").concat(n,`two-color">
      <div class="`).concat(e,`header">
        <div class="`).concat(e,'title">').concat(c,`</div>
        <div class="`).concat(e,`btn-close" data-close-modal>&Cross;</div>
      </div>
      <div class="`).concat(e,`content">
        <div id="`).concat(e,'c">').concat(o,`</div>
        <div style="clear:both"></div>
      </div>
    </div>
    <div class="`).concat(e,'collector" style="display: none"></div>')},r.prototype.events=function(){return{click:"onClick","click [data-close-modal]":"hide"}},r.prototype.onClick=function(t){var e=this.config.backdrop;e&&t.target===this.el&&this.hide()},r.prototype.getCollector=function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},r.prototype.getContent=function(){var t=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(t,"content #").concat(t,"c"))),this.$content},r.prototype.getTitle=function(t){return t===void 0&&(t={}),this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),t.$?this.$title:this.$title.get(0)},r.prototype.updateContent=function(){var t=this.getContent(),e=t.children(),n=this.getCollector(),o=this.model.get("content");e.length&&n.append(e),t.empty().append(o)},r.prototype.updateTitle=function(){var t=this.getTitle({$:!0});t&&t.empty().append(this.model.get("title"))},r.prototype.updateOpen=function(){this.el.style.display=this.model.get("open")?"":"none"},r.prototype.hide=function(){this.model.close()},r.prototype.show=function(){this.model.open()},r.prototype.updateAttr=function(t){var e=this,n=e.pfx,o=e.$el,c=e.el,h=[].slice.call(c.attributes).map(function(m){return m.name});o.removeAttr(h.join(" ")),o.attr(gh(gh({},t||{}),{class:"".concat(n,"container ").concat(t&&t.class||"").trim()}))},r.prototype.render=function(){var t=this.$el,e=this.model.toJSON();return e.pfx=this.pfx,e.ppfx=this.ppfx,t.html(this.template(e)),this.updateAttr(),this.updateOpen(),this},r}(Ze);const F1=R1;var V1=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),H1=function(l){V1(r,l);function r(t){var e=l.call(this,t,"Modal",L1)||this;return e.model=new N1(e),e.model.on("change:open",function(n,o){t.trigger("modal:".concat(o?"open":"close"))}),e.model.on("change",(0,i.debounce)(function(){var n=e._evData(),o=e.config.custom;(0,i.isFunction)(o)&&o(n),t.trigger("modal",n)},0)),e}return r.prototype._evData=function(){var t=this,e=this.getTitle(),n=this.getContent(),o=this.model.attributes,c=o.open,h=o.attributes;return{open:c,attributes:h,title:(0,i.isString)(e)?(0,ee.rw)(e):e,content:(0,i.isString)(n)?(0,ee.rw)(n):n.get?n.get(0):n,close:function(){t.close()}}},r.prototype.postRender=function(t){var e=t.model.config.el||t.el,n=this.render();n&&(e==null||e.appendChild(n))},r.prototype.open=function(t){t===void 0&&(t={});var e=t.attributes||{};return t.title&&this.setTitle(t.title),t.content&&this.setContent(t.content),this.model.set("attributes",e),this.model.open(),this.modal&&this.modal.updateAttr(e),this},r.prototype.close=function(){return this.model.close(),this},r.prototype.onceClose=function(t){return this.em.once("modal:close",t),this},r.prototype.onceOpen=function(t){return this.em.once("modal:open",t),this},r.prototype.isOpen=function(){return!!this.model.get("open")},r.prototype.setTitle=function(t){return this.model.set("title",t),this},r.prototype.getTitle=function(){return this.model.get("title")},r.prototype.setContent=function(t){return this.model.set("content"," "),this.model.set("content",t),this},r.prototype.getContent=function(){return this.model.get("content")},r.prototype.getContentEl=function(){var t;return(t=this.modal)===null||t===void 0?void 0:t.getContent().get(0)},r.prototype.getModel=function(){return this.model},r.prototype.render=function(){var t;if(!this.config.custom){var e=F1.extend(this.config.extend),n=this.modal&&this.modal.el;return this.modal=new e({el:n,model:this.model,config:this.config}),(t=this.modal)===null||t===void 0?void 0:t.render().el}},r.prototype.destroy=function(){var t;(t=this.modal)===null||t===void 0||t.remove()},r}(J);const z1=H1;var T_="sw-visibility",E_="export-template",P_="open-sm",k_="open-tm",A_="open-layers",M_="open-blocks",im="fullscreen",am="preview",B1={stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:T_,className:"fa fa-square-o",command:"core:component-outline",context:T_,attributes:{title:"View components"}},{id:am,className:"fa fa-eye",command:am,context:am,attributes:{title:"Preview"}},{id:im,className:"fa fa-arrows-alt",command:im,context:im,attributes:{title:"Fullscreen"}},{id:E_,className:"fa fa-code",command:E_,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:P_,className:"fa fa-paint-brush",command:P_,active:!0,togglable:!1,attributes:{title:"Open Style Manager"}},{id:k_,className:"fa fa-cog",command:k_,togglable:!1,attributes:{title:"Settings"}},{id:A_,className:"fa fa-bars",command:A_,togglable:!1,attributes:{title:"Open Layer Manager"}},{id:M_,className:"fa fa-th-large",command:M_,togglable:!1,attributes:{title:"Open Blocks"}}]}]};const sm=B1;var U1=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),W1=function(l){U1(r,l);function r(t,e){var n=l.call(this,t,e)||this;return n.get("buttons").length&&n.set("buttons",new j_(n.module,n.get("buttons"))),n}return r.prototype.defaults=function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}},Object.defineProperty(r.prototype,"className",{get:function(){return this.get("className")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"command",{get:function(){return this.get("command")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"active",{get:function(){return this.get("active")},set:function(t){this.set("active",t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"togglable",{get:function(){return this.get("togglable")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"runDefaultCommand",{get:function(){return this.get("runDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"stopDefaultCommand",{get:function(){return this.get("stopDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"disable",{get:function(){return this.get("disable")},enumerable:!1,configurable:!0}),r}(bt.Z);const L_=W1;var $1=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),D_=function(l){$1(r,l);function r(t,e){return l.call(this,t,e,L_)||this}return r.prototype.deactivateAllExceptOne=function(t,e){this.forEach(function(n,o){n!==t&&(n.set("active",!1),e&&n.get("buttons").length&&n.get("buttons").deactivateAllExceptOne(t,e))})},r.prototype.deactivateAll=function(t,e){var n=t||"";this.forEach(function(o){o.get("context")==n&&o!==e&&o.set("active",!1,{fromCollection:!0})})},r.prototype.disableAllButtons=function(t){var e=t||"";this.forEach(function(n,o){n.get("context")==e&&n.set("disable",!0)})},r.prototype.disableAllButtonsExceptOne=function(t,e){this.forEach(function(n,o){n!==t&&(n.set("disable",!0),e&&n.get("buttons").length&&n.get("buttons").disableAllButtonsExceptOne(t,e))})},r}(ve);const j_=D_;D_.prototype.model=L_;var G1=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),K1=function(l){G1(r,l);function r(t,e){var n=l.call(this,t,e)||this,o=n.get("buttons")||[];return n.buttons=new j_(t,o),n}return r.prototype.defaults=function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}},Object.defineProperty(r.prototype,"buttons",{get:function(){return this.get("buttons")},set:function(t){this.set("buttons",t)},enumerable:!1,configurable:!0}),r}(bt.Z);const N_=K1;var Y1=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),I_=function(l){Y1(r,l);function r(t,e){return l.call(this,t,e,N_)||this}return r}(ve);const q1=I_;I_.prototype.model=N_;var X1=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wc=function(){return wc=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},wc.apply(this,arguments)},Z1=function(l){X1(r,l);function r(t){var e=l.call(this,t)||this,n=e,o=n.model,c=n.em,h=n.pfx,m=n.ppfx,y=o.className,C=o.attributes,P=C.command,D=C.listen;if(e.id=h+o.get("id"),e.activeCls="".concat(h,"active ").concat(m,"four-color"),e.disableCls="".concat(m,"disabled"),e.btnsVisCls="".concat(h,"visible"),e.className=h+"btn"+(y?" "+y:""),e.listenTo(o,"change",e.render),e.listenTo(o,"change:active updateActive",e.updateActive),e.listenTo(o,"checkActive",e.checkActive),e.listenTo(o,"change:bntsVis",e.updateBtnsVis),e.listenTo(o,"change:attributes",e.updateAttributes),e.listenTo(o,"change:className",e.updateClassName),e.listenTo(o,"change:disable",e.updateDisable),c&&(0,i.isString)(P)&&D){var z={fromListen:!0};e.listenTo(c,"run:".concat(P),function(){return o.set("active",!0,z)}),e.listenTo(c,"stop:".concat(P),function(){return o.set("active",!1,z)})}return c&&c.get&&(e.commands=c.get("Commands")),e}return r.prototype.tagName=function(){return this.model.get("tagName")},r.prototype.events=function(){return{click:"clicked"}},r.prototype.updateClassName=function(){var t=this,e=t.model,n=t.pfx,o=e.className,c=e.get("attributes").class,h="".concat(c||""," ").concat(n,"btn ").concat(o||"");this.$el.attr("class",h.trim())},r.prototype.updateAttributes=function(){var t=this,e=t.em,n=t.model,o=t.$el,c=n.get("attributes")||{},h=e&&e.t&&e.t("panels.buttons.titles.".concat(n.id));o.attr(c),h&&o.attr({title:h}),this.updateClassName()},r.prototype.updateBtnsVis=function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},r.prototype.updateActive=function(t,e,n){var o;n===void 0&&(n={});var c=this,h=c.model,m=c.commands,y=c.$el,C=c.activeCls,P=n.fromCollection,D=n.fromListen,z=h.get("context"),q=h.get("options"),ot=h.command,ft={};ot&&(m&&(0,i.isString)(ot)?ft=m.get(ot)||{}:(0,i.isFunction)(ot)?ft=m.create({run:ot}):ot!==null&&(0,i.isObject)(ot)&&(ft=m.create(ot)),h.active?(!P&&((o=h.collection)===null||o===void 0||o.deactivateAll(z,h)),h.set("active",!0,{silent:!0}).trigger("checkActive"),!D&&m.runCommand(ft,wc(wc({},q),{sender:h})),ft.noStop&&h.set("active",!1)):(y.removeClass(C),!D&&m.stopCommand(ft,wc(wc({},q),{sender:h,force:1}))))},r.prototype.updateDisable=function(){var t=this,e=t.disableCls,n=t.model,o=n.disable;this.$el[o?"addClass":"removeClass"](e)},r.prototype.checkActive=function(){var t=this,e=t.model,n=t.$el,o=t.activeCls;e.active?n.addClass(o):n.removeClass(o)},r.prototype.clicked=function(){var t=this.model;t.get("bntsVis")||t.disable||!t.command||this.toggleActive()},r.prototype.toggleActive=function(){var t=this,e=t.model,n=t.em,o=e.active,c=e.togglable;o&&!c||(e.active=!o,o?e.runDefaultCommand&&n.runDefault():e.stopDefaultCommand&&n.stopDefault())},r.prototype.render=function(){var t=this.model,e=t.get("label"),n=this.$el;return!t.get("el")&&n.empty(),this.updateAttributes(),e&&n.append(e),this.checkActive(),this.updateDisable(),this},r}(Ze);const J1=Z1;var Q1=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),tO=function(l){Q1(r,l);function r(t){var e=l.call(this,{collection:t})||this;return e.listenTo(e.collection,"add",e.addTo),e.listenTo(e.collection,"reset remove",e.render),e.className=e.pfx+"buttons",e}return r.prototype.addTo=function(t){this.addToCollection(t)},r.prototype.addToCollection=function(t,e){var n=e||null,o=t.get("el"),c=new J1({el:o,model:t}),h=c.render().el;return n?n.appendChild(h):this.$el.append(h),h},r.prototype.render=function(){var t=this,e=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(n){return t.addToCollection(n,e)}),this.$el.append(e),this.$el.attr("class",(0,i.result)(this,"className")),this},r}(Ze);const eO=tO;var nO=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lm=function(){return lm=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},lm.apply(this,arguments)},rO=function(l){nO(r,l);function r(t){var e=l.call(this,{model:t,el:t.get("el")})||this;return e.className=e.pfx+"panel",e.id=e.pfx+t.get("id"),e.listenTo(t,"change:appendContent",e.appendContent),e.listenTo(t,"change:content",e.updateContent),e.listenTo(t,"change:visible",e.toggleVisible),t.view=e,e}return r.prototype.appendContent=function(){this.$el.append(this.model.get("appendContent"))},r.prototype.updateContent=function(){this.$el.html(this.model.get("content"))},r.prototype.toggleVisible=function(){if(!this.model.get("visible")){this.$el.addClass("".concat(this.ppfx,"hidden"));return}this.$el.removeClass("".concat(this.ppfx,"hidden"))},r.prototype.attributes=function(){return this.model.get("attributes")},r.prototype.initResize=function(){var t=this.em,e=t==null?void 0:t.Editor,n=this.model.get("resizable");if(e&&n){var o=n===!0?[!0,!0,!0,!0]:n,c=o.length,h=void 0,m=void 0,y=void 0,C=!1;if(c==2){var P=o;h=P[0],y=P[0],m=P[1],C=P[1]}else if(c==4){var P=o;h=P[0],m=P[1],y=P[2],C=P[3]}var D=new e.Utils.Resizer(lm({tc:h,cr:m,bc:y,cl:C,tl:!1,tr:!1,bl:!1,br:!1,appendTo:this.el,silentFrames:!0,avoidContainerUpdate:!0,prefix:e.getConfig().stylePrefix,onEnd:function(){t.Canvas.refresh({all:!0})},posFetcher:function(z,q){var ot=q.target,ft=z.style,xt=D.getConfig(),Ft=xt.keyWidth,Rt=xt.keyHeight,Xt=z.getBoundingClientRect(),de=ot=="container",Oe=ft[Ft],De=ft[Rt],pe=Oe&&!de?parseFloat(Oe):Xt.width,Fe=De&&!de?parseFloat(De):Xt.height;return{left:0,top:0,width:pe,height:Fe}}},n&&typeof n!="boolean"?n:{}));D.blur=function(){},D.focus(this.el)}},r.prototype.render=function(){var t=this.model.buttons,e=this.$el,n=this.ppfx,o="".concat(this.className," ").concat(this.id," ").concat(n,"one-bg ").concat(n,"two-color");if(e.addClass(o),this.toggleVisible(),t.length){var c=new eO(t);e.append(c.render().el)}return e.append(this.model.get("content")),this},r}(Ze);const oO=rO;var iO=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),aO=function(l){iO(r,l);function r(t){var e=l.call(this,{collection:t})||this;return e.listenTo(t,"add",e.addTo),e.listenTo(t,"reset",e.render),e.listenTo(t,"remove",e.onRemove),e.className=e.pfx+"panels",e}return r.prototype.onRemove=function(t){var e=t.view;e&&e.remove()},r.prototype.addTo=function(t){this.addToCollection(t)},r.prototype.addToCollection=function(t,e){var n=e||null,o=t.get("el"),c=new oO(t),h=c.render().el,m=t.get("appendTo");if(!o)if(m){var y=document.querySelector(m);y==null||y.appendChild(h)}else n?n.appendChild(h):this.$el.append(h);return c.initResize(),h},r.prototype.render=function(){var t=this,e=this.$el,n=document.createDocumentFragment();return e.empty(),this.collection.each(function(o){return t.addToCollection(o,n)}),e.append(n),e.attr("class",this.className),this},r}(Ze);const sO=aO;var lO=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),uO=function(l){lO(r,l);function r(t){var e=l.call(this,t,"Panels",sm)||this;e.panels=new q1(e,e.config.defaults);for(var n in sm)n in e.config||(e.config[n]=sm[n]);return e}return r.prototype.getPanels=function(){return this.panels},r.prototype.getPanelsEl=function(){var t;return(t=this.PanelsViewObj)===null||t===void 0?void 0:t.el},r.prototype.addPanel=function(t){return this.panels.add(t)},r.prototype.removePanel=function(t){return this.panels.remove(t)},r.prototype.getPanel=function(t){var e=this.panels.where({id:t});return e.length?e[0]:null},r.prototype.addButton=function(t,e){var n=this.getPanel(t);return n?n.buttons.add(e):null},r.prototype.removeButton=function(t,e){var n=this.getPanel(t);return n&&n.buttons.remove(e)},r.prototype.getButton=function(t,e){var n=this.getPanel(t);if(n){var o=n.buttons.where({id:e});return o.length?o[0]:null}return null},r.prototype.render=function(){var t;return(t=this.PanelsViewObj)===null||t===void 0||t.remove(),this.PanelsViewObj=new sO(this.panels),this.PanelsViewObj.render().el},r.prototype.active=function(){this.getPanels().each(function(t){t.buttons.each(function(e){e.get("active")&&e.trigger("updateActive")})})},r.prototype.disableButtons=function(){this.getPanels().each(function(t){t.buttons.each(function(e){e.get("disable")&&e.trigger("change:disable")})})},r.prototype.destroy=function(){this.panels.reset(),this.panels.stopListening(),this.PanelsViewObj&&this.PanelsViewObj.remove()},r}(J);const cO=uO;var fO={stylePrefix:"cm-",optsCodeViewer:{}};const dO=fO;var pO=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hO=function(l,r){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&r.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(l);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(l,e[n])&&(t[e[n]]=l[e[n]]);return t},vO=function(l){pO(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.build=function(t,e){e===void 0&&(e={});var n=e.em,o=hO(e,["em"]),c=o;if(e.cleanId&&n){var h=n.Css.getAll(),m=h.toJSON().map(function(y){var C=y.selectors,P=C&&C.length===1&&C.models[0];return P&&P.isId()&&P.get("name")}).filter(Boolean);c.attributes||(c.attributes=function(y,C){var P=C.id;return P&&P[0]==="i"&&!y.get("script")&&!y.get("attributes").id&&m.indexOf(P)<0&&delete C.id,C})}return t.toHTML(c)},r}(O.Hn);const gO=vO;var mO=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yO=function(l){mO(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.build=function(t){var e=this,n=t.toJSON();return this.beforeEach(n),(0,i.each)(n,function(o,c){var h=n[c];if(h instanceof O.Hn)n[c]=e.build(h);else if(h instanceof O.FE){var m=h;n[c]=[],m.length&&m.forEach(function(y,C){n[c][C]=e.build(y)})}}),n},r.prototype.beforeEach=function(t){delete t.status},r}(O.Hn);const _O=yO;var wO=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function bO(l){var r,t=((r=l.toString().match(/\{([\s\S]*)\}/m))===null||r===void 0?void 0:r[1])||"";return t.replace(/^\s*\/\/.*$/gm,"").trim().length===0}var CO=function(l){wO(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.mapModel=function(t){var e,n=this,o="",c=t.get("script-export")||t.get("script"),h=t.get("type"),m=t.get("components"),y=t.getId();if(c){var C=t.get("attributes");C=(0,i.extend)({},C,{id:y}),t.set("attributes",C,{silent:!0});var P=t.getScriptString(c),D=t.get("script-props");if(t.get("scriptUpdated")&&!D)this.mapJs[h+"-"+y]={ids:[y],code:P};else{var z=void 0,q=this.mapJs[h];if(D&&(z=t.__getScriptProps()),q)q.ids.push(y),z&&(q.props[y]=z);else{var ot={ids:[y],code:P};z&&(ot.props=(e={},e[y]=z,e)),this.mapJs[h]=ot}}}return m.forEach(function(ft){o+=n.mapModel(ft)}),o},r.prototype.build=function(t){this.mapJs={},this.mapModel(t);var e="";for(var n in this.mapJs){var o=this.mapJs[n];if(o.code)if(o.props){if(bO(o.code))continue;e+=`
          var props = `.concat(JSON.stringify(o.props),`;
          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');
          var els = document.querySelectorAll(ids);
          for (var i = 0, len = els.length; i < len; i++) {
            var el = els[i];
            (`).concat(o.code,`.bind(el))(props[el.id]);
          }`)}else{var c="#"+o.ids.join(", #");e+=`
          var items = document.querySelectorAll('`.concat(c,`');
          for (var i = 0, len = items.length; i < len; i++) {
            (function(){
`).concat(o.code,`
}.bind(items[i]))();
          }`)}}return e},r}(O.Hn);const xO=CO;var SO=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),um=function(){return um=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},um.apply(this,arguments)},rd;(0,s.hasWin)()&&(rd=_n(631),_n(531),_n(629),_n(210));var R_=function(l){SO(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.defaults=function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0,autoFormat:!0}},r.prototype.init=function(t){return(0,i.bindAll)(this,"onChange"),this.editor=rd.fromTextArea(t,um({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=t,this.editor.on("change",this.onChange),this},r.prototype.onChange=function(){this.trigger("update",this)},r.prototype.getEditor=function(){return this.editor},r.prototype.getElement=function(){return this.element},r.prototype.setElement=function(t){return this.element=t,this},r.prototype.refresh=function(){return this.getEditor().refresh(),this},r.prototype.focus=function(){return this.getEditor().focus(),this},r.prototype.getContent=function(){var t=this.getEditor();return t&&t.getValue()},r.prototype.setContent=function(t,e){var n=this;e===void 0&&(e={});var o=this.editor;if(o){o.setValue(t);var c=this.get("autoFormat"),h=o.autoFormatRange&&(c===!0||Array.isArray(c)&&c.includes(this.get("codeName")));h&&(rd.commands.selectAll(o),o.autoFormatRange(o.getCursor(!0),o.getCursor(!1)),rd.commands.goDocStart(o)),!e.noRefresh&&setTimeout(function(){return n.refresh()})}},r}(O.Hn);const OO=R_;R_.prototype.CodeMirror=rd;var TO=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),EO=function(l,r){return Object.defineProperty?Object.defineProperty(l,"raw",{value:r}):l.raw=r,l},PO=function(l){TO(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.template=function(t){var e=t.pfx,n=t.codeName,o=t.label;return f(F_||(F_=EO([`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `],[`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `])),e,e,n,e,o,e)},r.prototype.initialize=function(t){this.config=t.config||{},this.pfx=this.config.stylePrefix},r.prototype.render=function(){var t,e,n=this,o=n.model,c=n.pfx,h=n.$el,m=o.toJSON(),y=o.get("input")||((e=(t=o).getElement)===null||e===void 0?void 0:e.call(t));return m.pfx=c,h.html(this.template(m)),h.attr("class","".concat(c,"editor-c")),h.find("#".concat(c,"code")).append(y),this},r}(O.G7);const kO=PO;var F_,AO=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),mh=function(){return mh=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},mh.apply(this,arguments)},MO="CodeMirror",LO=function(l){AO(r,l);function r(t){var e=l.call(this,t,"CodeManager",dO)||this;e.EditorView=kO;var n=e.config,o=n.pStylePrefix;return o&&(n.stylePrefix=o+n.stylePrefix),e.generators={},e.viewers={},e.defGenerators={html:new gO,css:new Sg,json:new _O,js:new xO},e.defViewers={CodeMirror:new OO},e.loadDefaultGenerators().loadDefaultViewers(),e}return r.prototype.addGenerator=function(t,e){return this.generators[t]=e,this},r.prototype.getGenerator=function(t){return this.generators[t]},r.prototype.getGenerators=function(){return this.generators},r.prototype.addViewer=function(t,e){return this.viewers[t]=e,this},r.prototype.getViewer=function(t){return this.viewers[t]},r.prototype.getViewers=function(){return this.viewers},r.prototype.createViewer=function(t){t===void 0&&(t={});var e=(0,i.isUndefined)(t.type)?MO:t.type,n=this.getViewer(e)&&this.getViewer(e).clone(),o=document.createElement("div"),c=document.createElement("textarea");return o.appendChild(c),n.set(mh(mh({},this.config.optsCodeViewer),t)),n.init(c),n.setElement(o),n},r.prototype.updateViewer=function(t,e){t.setContent(e)},r.prototype.getCode=function(t,e,n){n===void 0&&(n={}),n.em=this.em;var o=this.getGenerator(e);return o?o.build(t,n):""},r.prototype.loadDefaultGenerators=function(){for(var t in this.defGenerators)this.addGenerator(t,this.defGenerators[t]);return this},r.prototype.loadDefaultViewers=function(){for(var t in this.defViewers)this.addViewer(t,this.defViewers[t]);return this},r.prototype.destroy=function(){},r}(J);const DO=LO;var jO=_n(410),NO=_n.n(jO),IO={maximumStackLength:500,trackSelection:!0};const RO=IO;var FO=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ts=function(){return ts=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},ts.apply(this,arguments)},VO=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},yh=function(l){return l.avoidStore||l.noUndo},V_=function(l){return Object.keys(l.changedAttributes())},HO=function(l){FO(r,l);function r(t){var e=l.call(this,t,"UndoManager",RO)||this;e.config._disable&&(e.config.maximumStackLength=0);var n=!0;return e.um=new(NO())(ts({track:!0,register:[]},e.config)),e.um.changeUndoType("change",{condition:function(o){var c=o.get("_undo");if(c){var h=o.get("_undoexc");if((0,i.isArray)(h)&&V_(o).some(function(m){return h.indexOf(m)>=0}))return!1;if((0,i.isBoolean)(c)||(0,i.isArray)(c)&&V_(o).some(function(m){return c.indexOf(m)>=0}))return!0}return!1},on:function(o,c,h){var m=this;!this.beforeCache&&(this.beforeCache=o.previousAttributes());var y=h||c||{};if(y.noUndo&&setTimeout(function(){m.beforeCache=null}),!yh(y)){var C=o.toJSON({fromUndo:n}),P={object:o,before:this.beforeCache,after:C};return this.beforeCache=null,(0,i.isEmpty)(C)?void 0:P}}}),e.um.changeUndoType("add",{on:function(o,c,h){if(h===void 0&&(h={}),!(yh(h)||!e.isRegistered(c)))return{object:c,before:void 0,after:o,options:ts(ts({},h),{fromUndo:n})}}}),e.um.changeUndoType("remove",{on:function(o,c,h){if(h===void 0&&(h={}),!(yh(h)||!e.isRegistered(c)))return{object:c,before:o,after:void 0,options:ts(ts({},h),{fromUndo:n})}}}),e.um.changeUndoType("reset",{undo:function(o,c){o.reset(c,{fromUndo:n})},redo:function(o,c,h){o.reset(h,{fromUndo:n})},on:function(o,c){if(c===void 0&&(c={}),!(yh(c)||!e.isRegistered(o)))return{object:o,before:c.previousModels,after:VO([],o.models,!0),options:ts(ts({},c),{fromUndo:n})}}}),e.um.on("undo redo",function(){t.getSelectedAll().map(function(o){return o.trigger("rerender:layer")})}),["undo","redo"].forEach(function(o){return e.um.on(o,function(){return t.trigger(o)})}),e}return r.prototype.postLoad=function(){var t=this,e=t.config,n=t.em;e.trackSelection&&n&&this.add(n.get("selected"))},r.prototype.add=function(t){return this.um.register(t),this},r.prototype.remove=function(t){return this.um.unregister(t),this},r.prototype.removeAll=function(){return this.um.unregisterAll(),this},r.prototype.start=function(){return this.um.startTracking(),this},r.prototype.stop=function(){return this.um.stopTracking(),this},r.prototype.undo=function(t){t===void 0&&(t=!0);var e=this,n=e.em,o=e.um;return!n.isEditing()&&o.undo(t),this},r.prototype.undoAll=function(){return this.um.undoAll(),this},r.prototype.redo=function(t){t===void 0&&(t=!0);var e=this,n=e.em,o=e.um;return!n.isEditing()&&o.redo(t),this},r.prototype.redoAll=function(){return this.um.redoAll(),this},r.prototype.hasUndo=function(){return!!this.um.isAvailable("undo")},r.prototype.hasRedo=function(){return!!this.um.isAvailable("redo")},r.prototype.isRegistered=function(t){return!!this.getInstance().objectRegistry.isRegistered(t)},r.prototype.getStack=function(){return this.um.stack},r.prototype.getStackGroup=function(){var t=[],e=[];return this.getStack().forEach(function(n){var o=n.get("magicFusionIndex");e.indexOf(o)<0&&(e.push(o),t.push(n))}),t},r.prototype.skip=function(t){var e=!!this.um.isTracking();e&&this.stop(),t(),e&&this.start()},r.prototype.getGroupedStack=function(){var t={},e=this.getStack(),n=function(o,c){var h=o.attributes,m=h.type,y=h.after,C=h.before,P=h.object,D=h.options,z=D===void 0?{}:D;return{index:c,type:m,after:y,before:C,object:P,options:z}};return e.forEach(function(o,c){var h=o.get("magicFusionIndex"),m=n(o,c);t[h]?t[h].push(m):t[h]=[m]}),Object.keys(t).map(function(o){var c=t[o];return{index:c[c.length-1].index,actions:c,labels:(0,i.unique)(c.reduce(function(h,m){var y,C=(y=m.options)===null||y===void 0?void 0:y.action;return C&&h.push(C),h},[]))}})},r.prototype.goToGroup=function(t){var e=this;if(t){var n=this.getPointer(),o=t.index-n;(0,i.times)(Math.abs(o),function(){e[o<0?"undo":"redo"](!1)})}},r.prototype.getPointer=function(){return this.getStack().pointer},r.prototype.clear=function(){return this.um.clear(),this},r.prototype.getInstance=function(){return this.um},r.prototype.destroy=function(){this.clear().removeAll()},r}(J);const zO=HO;var BO={stylePrefix:"rte-",adjustToolbar:!0,actions:["bold","italic","underline","strikethrough","link","wrap"],custom:!1};const UO=BO;var bc=function(){return bc=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},bc.apply(this,arguments)},_h;(function(l){l[l.ACTIVE=1]="ACTIVE",l[l.INACTIVE=0]="INACTIVE",l[l.DISABLED=-1]="DISABLED"})(_h||(_h={}));var cm="_rte",pu={ACTIVE:1,INACTIVE:0,DISABLED:-1},wh=function(l,r){r===void 0&&(r="A");var t=l.selection()||{},e=t.anchorNode,n=t.focusNode,o=e==null?void 0:e.parentNode,c=n==null?void 0:n.parentNode;return(o==null?void 0:o.nodeName)==r||(c==null?void 0:c.nodeName)==r},bh="data-selectme",od={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(l){return l.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(l){return l.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(l){return l.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(l){return l.exec("strikeThrough")}},link:{icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
        </svg>`,name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(l){return l&&l.selection()&&wh(l)?pu.ACTIVE:pu.INACTIVE},result:function(l){wh(l)?l.exec("unlink"):l.insertHTML('<a href="" '.concat(bh,">").concat(l.selection(),"</a>"),{select:!0})}},wrap:{name:"wrap",icon:`<svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`,attributes:{title:"Wrap for style"},state:function(l){return l!=null&&l.selection()&&wh(l,"SPAN")?pu.DISABLED:pu.INACTIVE},result:function(l){!wh(l,"SPAN")&&l.insertHTML("<span ".concat(bh,">").concat(l.selection(),"</span>"),{select:!0})}}},WO=function(){function l(r,t,e){var n=this;if(e===void 0&&(e={}),this.em=r,this.settings=e,t[cm])return t[cm];t[cm]=this,this.setEl(t),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var o=(e.actions||[]).map(function(C){var P=C;return(0,i.isString)(C)?P=bc({},od[C]):od[C.name]&&(P=bc(bc({},od[C.name]),C)),P}),c=o.length?o:Object.keys(od).map(function(C){return od[C]});e.classes=bc({actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"},e.classes);var h=e.classes,m=e.actionbar;if(this.actionbar=m,this.classes=h,this.actions=c,!m){if(!this.isCustom(e.module)){var y=e.actionbarContainer;m=document.createElement("div"),m.className=h.actionbar,y==null||y.appendChild(m),this.actionbar=m}c.forEach(function(C){return n.addAction(C)})}return e.styleWithCSS&&this.exec("styleWithCSS"),this}return l.prototype.isCustom=function(r){var t=r||this.em.RichTextEditor;return!!(t!=null&&t.config.custom||t!=null&&t.customRte)},l.prototype.destroy=function(){},l.prototype.setEl=function(r){this.el=r,this.doc=r.ownerDocument},l.prototype.updateActiveActions=function(){var r=this,t=this.getActions();t.forEach(function(e){var n=e.update,o=e.btn,c=r.classes,h=c.active,m=c.inactive,y=c.disabled,C=e.state,P=e.name,D=r.doc,z=_h.INACTIVE;if(o&&(o.className=o.className.replace(h,"").trim(),o.className=o.className.replace(m,"").trim(),o.className=o.className.replace(y,"").trim()),C){var q=C(r,D);if(z=q,o)switch(q){case pu.ACTIVE:o.className+=" ".concat(h);break;case pu.INACTIVE:o.className+=" ".concat(m);break;case pu.DISABLED:o.className+=" ".concat(y);break}}else D.queryCommandSupported(P)&&D.queryCommandState(P)&&(o&&(o.className+=" ".concat(h)),z=_h.ACTIVE);e.currentState=z,n==null||n(r,e)}),t.length&&this.em.RichTextEditor.__dbdTrgCustom()},l.prototype.enable=function(r){return this.enabled?this:this.__toggleEffects(!0,r)},l.prototype.disable=function(){return this.__toggleEffects(!1)},l.prototype.__toggleEffects=function(r,t){r===void 0&&(r=!1),t===void 0&&(t={});var e=r?ee.on:ee.S1,n=this,o=n.el,c=n.doc,h=this.actionbarEl();if(h&&(h.style.display=r?"":"none"),o.contentEditable="".concat(!!r),e(o,"mouseup keyup",this.updateActiveActions),e(c,"keydown",this.__onKeydown),e(c,"paste",this.__onPaste),this.enabled=r,r){var m=t.event;if(this.syncActions(),this.updateActiveActions(),m){var y=null;if(c.caretRangeFromPoint){var C=(0,ee.VB)(m);y=c.caretRangeFromPoint(C.clientX,C.clientY)}else m.rangeParent&&(y=c.createRange(),y.setStart(m.rangeParent,m.rangeOffset));var P=c.getSelection();P==null||P.removeAllRanges(),y&&(P==null||P.addRange(y))}o.focus()}return this},l.prototype.__onKeydown=function(r){var t=this.em,e=t.RichTextEditor.getConfig().onKeydown;if(e)return e({ev:r,rte:this,editor:t.getEditor()});var n=this.doc,o=["insertOrderedList","insertUnorderedList"];r.key==="Enter"&&!o.some(function(c){return n.queryCommandState(c)})&&(n.execCommand("insertLineBreak"),r.preventDefault())},l.prototype.__onPaste=function(r){var t=this.em,e=t.RichTextEditor.getConfig().onPaste;if(e)return e({ev:r,rte:this,editor:t.getEditor()});var n=r.clipboardData,o=n.getData("text"),c=n.getData("text/html");if(o&&!c){r.preventDefault();var h=o.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,h)}},l.prototype.syncActions=function(){var r=this;this.getActions().forEach(function(t){if(r.actionbar&&(!t.state||t.state&&t.state(r,r.doc)>=0)){var e=t.event||"click",n=t.btn;n&&(n["on".concat(e)]=function(){t.result(r,t),r.updateActiveActions()})}})},l.prototype.addAction=function(r,t){t===void 0&&(t={});var e=t.sync,n=this.actionbarEl();if(n){var o=r.icon,c=r.attributes,h=c===void 0?{}:c,m=document.createElement("span");m.className=this.classes.button,r.btn=m;for(var y in h)m.setAttribute(y,h[y]);typeof o=="string"?m.innerHTML=o:m.appendChild(o),n.appendChild(m)}e&&(this.actions.push(r),this.syncActions())},l.prototype.getActions=function(){return this.actions},l.prototype.selection=function(){return this.doc.getSelection()},l.prototype.exec=function(r,t){this.doc.execCommand(r,!1,t)},l.prototype.actionbarEl=function(){return this.actionbar},l.prototype.insertHTML=function(r,t){var e=t===void 0?{}:t,n=e.select,o=this,c=o.em,h=o.doc,m=o.el,y=h.getSelection();if(y&&y.rangeCount){var C=(0,s.getComponentModel)(m)||c.getSelected(),P=h.createElement("div"),D=y.getRangeAt(0);D.deleteContents(),(0,i.isString)(r)?P.innerHTML=r:r&&P.appendChild(r),Array.prototype.slice.call(P.childNodes).forEach(function(z){D.insertNode(z)}),y.removeAllRanges(),y.addRange(D),m.focus(),n&&C&&(C.once("rte:disable",function(){var z=C.find("[".concat(bh,"]"))[0];z&&(c.setSelected(z),z.removeAttributes(bh))}),C.trigger("disable"))}},l}();const $O=WO;var GO=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),H_=function(l,r,t,e){function n(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function h(C){try{y(e.next(C))}catch(P){c(P)}}function m(C){try{y(e.throw(C))}catch(P){c(P)}}function y(C){C.done?o(C.value):n(C.value).then(h,m)}y((e=e.apply(l,r||[])).next())})},z_=function(l,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,n,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(y){return function(C){return m([y,C])}}function m(y){if(e)throw new TypeError("Generator is already executing.");for(;c&&(c=0,y[0]&&(t=0)),t;)try{if(e=1,n&&(o=y[0]&2?n.return:y[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,y[1])).done)return o;switch(n=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,n=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){t.label=y[1];break}if(y[0]===6&&t.label<o[1]){t.label=o[1],o=y;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(y);break}o[2]&&t.ops.pop(),t.trys.pop();continue}y=r.call(l,t)}catch(C){y=[6,C],n=0}finally{e=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},KO=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},fm="".concat(En.refresh," frame:scroll component:update"),YO="rte:enable",qO="rte:disable",XO="rte:custom",ZO={enable:YO,disable:qO,custom:XO},JO=function(l){GO(r,l);function r(t){var e=l.call(this,t,"RichTextEditor",UO)||this;e.events=ZO;var n=e.config,o=n.pStylePrefix;o&&(n.stylePrefix=o+n.stylePrefix),e.pfx=n.stylePrefix,e.actions=n.actions||[];var c=new O.Hn;return e.model=c,c.on("change:currentView",e.__trgCustom,e),e.__dbdTrgCustom=(0,i.debounce)(function(){return e.__trgCustom()},0),e}return r.prototype.onLoad=function(){if((0,s.hasWin)()){var t=this.config,e=t.pStylePrefix,n=t.custom,o=(0,ee.ut)("div",{class:(0,ee.cx)("".concat(e,"rte-toolbar"),!n&&"".concat(e,"one-bg ").concat(e,"rte-toolbar-ui"))});this.toolbar=o,this.initRte((0,ee.ut)("div")),(0,ee.on)(o,"mousedown",function(c){return c.stopPropagation()})}},r.prototype.__trgCustom=function(){var t=this,e=t.model,n=t.em,o=t.events;n.trigger(o.custom,{enabled:!!e.get("currentView"),container:this.getToolbarEl(),actions:this.getAll()})},r.prototype.destroy=function(){var t,e,n;(t=this.globalRte)===null||t===void 0||t.destroy(),(n=(e=this.customRte)===null||e===void 0?void 0:e.destroy)===null||n===void 0||n.call(e),this.model.stopListening().clear({silent:!0}),this.__dbdTrgCustom.cancel(),(0,ee.L_)(this.toolbar)},r.prototype.postRender=function(t){var e=t.model.get("Canvas");this.toolbar.style.pointerEvents="all",this.hideToolbar(),e.getToolsEl().appendChild(this.toolbar)},r.prototype.initRte=function(t){var e=this.globalRte,n=this,o=n.em,c=n.pfx,h=n.actionbar,m=n.config,y=this.actions||KO([],m.actions,!0),C={actionbar:"".concat(c,"actionbar"),button:"".concat(c,"action"),active:"".concat(c,"active"),inactive:"".concat(c,"inactive"),disabled:"".concat(c,"disabled")};return e?(e.em=o,e.setEl(t)):(e=new $O(o,t,{classes:C,actions:y,actionbar:h,actionbarContainer:this.toolbar,module:this}),this.globalRte=e),e.actionbar&&(this.actionbar=e.actionbar),e.actions&&(this.actions=e.actions),e},r.prototype.add=function(t,e){var n;e===void 0&&(e={}),e.name=t,(n=this.globalRte)===null||n===void 0||n.addAction(e,{sync:!0})},r.prototype.get=function(t){var e,n;return(e=this.globalRte)===null||e===void 0||e.getActions().forEach(function(o){o.name==t&&(n=o)}),n},r.prototype.getAll=function(){var t;return((t=this.globalRte)===null||t===void 0?void 0:t.getActions())||[]},r.prototype.remove=function(t){var e,n=this.getAll(),o=this.get(t);if(o){var c=o.btn,h=n.indexOf(o);(e=c==null?void 0:c.parentNode)===null||e===void 0||e.removeChild(c),n.splice(h,1)}return o},r.prototype.run=function(t){var e=this.globalRte,n=(0,i.isString)(t)?this.get(t):t;e&&n&&(n.result(e,n),e.updateActiveActions())},r.prototype.getToolbarEl=function(){return this.toolbar},r.prototype.updatePosition=function(){var t=this,e=t.em,n=t.toolbar,o="px",c=e.Canvas,h=n.style,m=c.getTargetToElementFixed(this.lastEl,n,{event:"rteToolbarPosUpdate",left:0});["top","left","bottom","right"].forEach(function(y){var C=m[y];(0,s.isDef)(C)&&(h[y]=(0,i.isString)(C)?C:(C||0)+o)})},r.prototype.enable=function(t,e,n){return n===void 0&&(n={}),H_(this,void 0,void 0,function(){var o,c,h,m,y;return z_(this,function(C){switch(C.label){case 0:return this.lastEl=t.el,o=this,c=o.customRte,h=o.em,m=t.getChildrenContainer(),this.toolbar.style.display="",[4,c?c.enable(m,e):this.initRte(m).enable(n)];case 1:return y=C.sent(),h&&(setTimeout(this.updatePosition.bind(this),0),h.off(fm,this.updatePosition,this),h.on(fm,this.updatePosition,this),h.trigger("rte:enable",t,y)),this.model.set({currentView:t}),[2,y]}})})},r.prototype.getContent=function(t,e){return H_(this,void 0,void 0,function(){var n;return z_(this,function(o){switch(o.label){case 0:return n=this.customRte,n&&e&&(0,i.isFunction)(n.getContent)?[4,n.getContent(t.el,e)]:[3,2];case 1:return[2,o.sent()];case 2:return[2,t.getChildrenContainer().innerHTML]}})})},r.prototype.hideToolbar=function(){var t=this.toolbar.style,e="-1000px";t.top=e,t.left=e,t.display="none"},r.prototype.disable=function(t,e,n){n===void 0&&(n={});var o=this.em,c=this.customRte,h=t.getChildrenContainer();c?c.disable(h,e):e&&e.disable(),this.hideToolbar(),o&&(o.off(fm,this.updatePosition,this),!n.fromMove&&o.trigger("rte:disable",t,e)),this.model.unset("currentView")},r}(J);const QO=JO,tT={sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]};var eT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yo=function(){return yo=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},yo.apply(this,arguments)},nT=function(l,r){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&r.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(l);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(l,e[n])&&(t[e[n]]=l[e[n]]);return t},B_=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},dm=function(l){eT(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.getDefaults=function(){return(0,i.result)(this.prototype,"defaults")},r.prototype.defaults=function(){return{name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:!1,important:!1,toRequire:!1,requires:void 0,requiresParent:null,parentTarget:null}},r.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),this.em=e.em;var n=this.getId()||"",o=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(o||n).replace(/ /g,"-"));var c=this.get("property");!this.get("id")&&this.set("id",c),!o&&this.set("name",(0,s.capitalize)(c).replace(/-/g," ")),this.on("change",this.__upTargets),r.callInit(this,t,e)},r.prototype.__getParentProp=function(){var t,e;return(e=(t=this.collection)===null||t===void 0?void 0:t.opts)===null||e===void 0?void 0:e.parentProp},r.prototype.__upTargets=function(t,e){var n,o=this;e===void 0&&(e={});var c=this.em,h=c.Styles,m=this.getName(),y=e.__clear,C=y?"":this.__getFullValue(e),P=this.__getParentProp(),D=this.changedAttributes(),z=(0,i.keys)(D).reduce(function(Rt,Xt){return Rt[Xt]=o.previous(Xt),Rt},{}),q=B_(B_([],(0,i.keys)(this.__getClearProps()),!0),["__p"],!1),ot=(0,i.keys)(D),ft=!e.__up&&!P&&(y||q.some(function(Rt){return ot.indexOf(Rt)>=0})),xt=this.get("onChange"),Ft={property:this,from:z,to:D,value:C,opts:e};h.__trgEv(h.events.propertyUpdate,Ft),xt&&xt(Ft),ft&&this.__upTargetsStyle((n={},n[m]=C,n),e)},r.prototype.__upTargetsStyle=function(t,e){var n,o=(n=this.em)===null||n===void 0?void 0:n.get("StyleManager");o==null||o.addStyleTargets(yo(yo({},t),{__p:!!e.avoidStore}),e)},r.prototype._up=function(t,e){e===void 0&&(e={}),e.noTarget&&(e.__up=!0);var n=e.partial,o=nT(e,["partial"]);return t.__p=!!(o.avoidStore||n),this.set(t,yo(yo({},o),{avoidStore:t.__p}))},r.prototype.up=function(t,e){e===void 0&&(e={}),this.set(t,yo(yo({},e),{__up:!0}))},r.prototype.init=function(){},r.prototype.getId=function(){return this.get("id")},r.prototype.getType=function(){return this.get("type")},r.prototype.getName=function(){return this.get("property")},r.prototype.getLabel=function(t){var e;t===void 0&&(t={});var n=t.locale,o=n===void 0?!0:n,c=this.getId(),h=this.get("name")||this.get("label");return o&&((e=this.em)===null||e===void 0?void 0:e.t("styleManager.properties.".concat(c)))||h},r.prototype.getValue=function(t){t===void 0&&(t={});var e=t.noDefault,n=this.get("value");return!this.hasValue()&&!e?this.getDefaultValue():n},r.prototype.hasValue=function(t){t===void 0&&(t={});var e=t.noParent,n=e&&this.getParentTarget(),o=this.get("value");return!(0,i.isUndefined)(o)&&o!==""&&!n},r.prototype.hasValueParent=function(){return this.hasValue()&&!this.hasValue({noParent:!0})},r.prototype.getStyle=function(t){var e;t===void 0&&(t={});var n=this.getName(),o=t.camelCase?(0,s.camelCase)(n):n;return e={},e[o]=this.__getFullValue(t),e},r.prototype.getDefaultValue=function(){var t=this.get("default");return"".concat((0,i.isUndefined)(t)?this.get("defaults"):t)},r.prototype.upValue=function(t,e){e===void 0&&(e={});var n=t===null||t===""?this.__getClearProps():this.__parseValue(t,e);return this._up(n,e)},r.prototype.isVisible=function(){return!!this.get("visible")},r.prototype.clear=function(t){return t===void 0&&(t={}),this._up(this.__getClearProps(),yo(yo({},t),{__clear:!0})),this},r.prototype.canClear=function(){var t=this.getParent();return t?t.__canClearProp(this):this.hasValue({noParent:!0})},r.prototype.getParent=function(){return this.__getParentProp()},r.prototype.isFull=function(){return!!this.get("full")},r.prototype.__parseValue=function(t,e){return this.parseValue(t,e)},r.prototype.__getClearProps=function(){return{value:""}},r.prototype.setValue=function(t,e,n){e===void 0&&(e=!0),n===void 0&&(n={});var o=this.parseValue(t),c=!e;!c&&this.set({value:void 0},{avoidStore:c,silent:!0}),this.set(o,yo({avoidStore:c},n))},r.prototype.setValueFromInput=function(t,e,n){n===void 0&&(n={}),this.setValue(t,e,yo(yo({},n),{fromInput:1}))},r.prototype.parseValue=function(t,e){e===void 0&&(e={});var n={value:t},o="!important",c=this.get("functionName")||"";if((0,i.isString)(t)&&t.indexOf(o)!==-1&&(n.value=t.replace(o,"").trim(),n.important=!0),!c&&!e.complete)return n;var h=[],m="".concat(n.value).trim(),y=m.indexOf("(")+1,C=c||m.substring(0,y-1);if(C&&(n.functionName=C),!c||m.indexOf("".concat(c,"("))===0){var P=m.lastIndexOf(")");h.push(y),P>=0&&h.push(P),n.value=String.prototype.substring.apply(m,h)}if(e.numeric){var D=parseFloat(n.value);n.unit=n.value.replace(D,""),n.value=D}return n},r.prototype.__getFullValue=function(t){var e=t===void 0?{}:t,n=e.withDefault;return!this.hasValue()&&n?this.getDefaultValue():this.getFullValue()},r.prototype.getFullValue=function(t,e){e===void 0&&(e={});var n=this.get("functionName"),o=this.getDefaultValue(),c=(0,i.isUndefined)(t)?this.get("value"):t,h=!(0,i.isUndefined)(c)&&c!=="";if(c&&o&&c===o)return o;if(n&&h){var m=n==="url"?"'".concat(c.replace(/'|"/g,""),"'"):c;c="".concat(n,"(").concat(m,")")}return h&&this.get("important")&&!e.skipImportant&&(c="".concat(c," !important")),c||""},r.prototype.__setParentTarget=function(t){this.up({parentTarget:t})},r.prototype.getParentTarget=function(){return this.get("parentTarget")||null},r.prototype.__parseFn=function(t){t===void 0&&(t="");var e=t.indexOf("(")+1,n=t.lastIndexOf(")");return{name:t.substring(0,e-1).trim(),value:String.prototype.substring.apply(t,[e,n>=0?n:void 0]).trim()}},r.prototype.__checkVisibility=function(t){var e=t.target,n=t.component,o=t.sectors,c=n||e;if(!c)return!1;var h=this.getId(),m=this.getName(),y=this.get("toRequire"),C=this.get("requires"),P=this.get("requiresParent"),D=c.get("unstylable"),z=c.get("stylable-require"),q=c.get("stylable");if((0,i.isArray)(q)&&(q=q.indexOf(m)>=0),(0,i.isArray)(D)&&(q=D.indexOf(m)<0),y&&(q=!e||z&&(z.indexOf(h)>=0||z.indexOf(m)>=0)),o&&C){var ot=(0,i.keys)(C);o.forEach(function(Rt){Rt.getProperties().forEach(function(Xt){if((0,i.includes)(ot,Xt.id)){var de=C[Xt.id];q=q&&(0,i.includes)(de,Xt.get("value"))}})})}if(P){var ft=n&&n.parent(),xt=ft&&ft.getEl();if(xt){var Ft=(0,s.hasWin)()?window.getComputedStyle(xt):{};(0,i.each)(P,function(Rt,Xt){q=q&&Ft[Xt]&&(0,i.includes)(Rt,Ft[Xt])})}else q=!1}return!!q},r}(O.Hn);const An=dm;dm.callParentInit=function(l,r,t,e){e===void 0&&(e={}),l.prototype.initialize.apply(r,[t,yo(yo({},e),{skipInit:1})])},dm.callInit=function(l,r,t){t===void 0&&(t={}),!t.skipInit&&l.init(r,t)};var rT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ch=function(){return Ch=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Ch.apply(this,arguments)},oT=function(l){rT(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.defaults=function(){return{values:{}}},r.prototype.initialize=function(){var t=this.collection;this.prop=t==null?void 0:t.prop},r.prototype.getId=function(){return this.cid},r.prototype.getIndex=function(){var t=this.collection;return t?t.indexOf(this):-1},r.prototype.getValues=function(t){t===void 0&&(t={});var e=this.get("values");return t.camelCase?Object.keys(e).reduce(function(n,o){return n[(0,s.camelCase)(o)]=e[o],n},{}):e},r.prototype.getLabel=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.getLayerLabel(this)},r.prototype.isSelected=function(){var t;return((t=this.prop)===null||t===void 0?void 0:t.getSelectedLayer())===this},r.prototype.select=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.selectLayer(this)},r.prototype.remove=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.removeLayer(this)},r.prototype.move=function(t){var e;return(e=this.prop)===null||e===void 0?void 0:e.moveLayer(this,t)},r.prototype.getStylePreview=function(t){var e;return t===void 0&&(t={}),(e=this.prop)===null||e===void 0?void 0:e.getStylePreview(this,t)},r.prototype.hasPreview=function(){var t;return!!(!((t=this.prop)===null||t===void 0)&&t.get("preview"))},r.prototype.upValues=function(t){return t===void 0&&(t={}),this.set("values",Ch(Ch({},this.getValues()),t))},r}(O.Hn);const iT=oT;var aT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),U_=function(l){aT(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.initialize=function(t,e){e===void 0&&(e={}),this.prop=e.prop},r}(O.FE);const sT=U_;U_.prototype.model=iT;var lT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Cc=function(){return Cc=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Cc.apply(this,arguments)},W_=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},$_=function(l){return l==="integer"||l==="number"},uT=function(l){lT(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.defaults=function(){return Cc(Cc({},An.getDefaults()),{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})},r.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),An.callParentInit(An,this,t,e);var n=this.em,o=new gm(this.get("properties")||[],{em:n,parentProp:this});this.set("properties",o,{silent:!0}),this.listenTo(o,"change",this.__upProperties),An.callInit(this,t,e)},Object.defineProperty(r.prototype,"properties",{get:function(){return this.get("properties")||[]},enumerable:!1,configurable:!0}),r.prototype.getProperties=function(){return W_([],this.get("properties").models,!0)},r.prototype.getProperty=function(t){return this.properties.filter(function(e){return e.getId()===t||e.getName()===t})[0]},r.prototype.getPropertyAt=function(t){return this.get("properties").at(t)},r.prototype.isDetached=function(){return!!this.get("detached")},r.prototype.getValues=function(t){var e=t===void 0?{}:t,n=e.byName;return this.getProperties().reduce(function(o,c){var h=n?c.getName():c.getId();return o[h]="".concat(c.__getFullValue()),o},{})},r.prototype.getSeparator=function(){return this.getSplitSeparator()},r.prototype.getJoin=function(){return this.__getJoin()},r.prototype.getStyleFromProps=function(t){var e;t===void 0&&(t={});var n=this.getName(),o=this.__getJoin(),c=this.get("toStyle"),h=this.getValues(),m={};if(c)m=c(h,{join:o,name:n,property:this});else if(h=this.getValues({byName:!0}),this.isDetached())m=h;else{var y=this.getProperties().map(function(C){return C.__getFullValue({withDefault:1})}).filter(Boolean).join(o);m=(e={},e[n]=y,e)}return this.isDetached()?m[n]="":(m[n]=m[n]||"",m=Cc(Cc({},m),this.getProperties().reduce(function(C,P){return C[P.getName()]="",C},{}))),t.camelCase?Object.keys(m).reduce(function(C,P){return C[(0,s.camelCase)(P)]=m[P],C},{}):m},r.prototype.getSplitSeparator=function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},r.prototype.__upProperties=function(t,e){if(e===void 0&&(e={}),!(e.__up||e.__clearIn)){var n=this.__getParentProp();if(n)return n.__upProperties(this,e);this.__upTargetsStyleProps(e,t)}},r.prototype.__upTargetsStyleProps=function(t,e){var n;t===void 0&&(t={});var o=this.getStyleFromProps();if(this.isDetached()&&e){var c=e.getName();o=(n={},n[c]=o[c],n)}this.__upTargetsStyle(o,t)},r.prototype._up=function(t,e){return e===void 0&&(e={}),this.__setProperties(this.__getSplitValue(t.value),e),An.prototype._up.call(this,t,e),this},r.prototype.getStyle=function(t){return this.getStyleFromProps(t)},r.prototype.__getFullValue=function(t){if(t===void 0&&(t={}),this.isDetached()||t.__clear)return"";var e=this.getStyleFromProps()[this.getName()]||"";return Oa(e)},r.prototype.__getJoin=function(){var t=this.get("join");return(0,i.isString)(t)?t:this.get("separator")},r.prototype.__styleHasProps=function(t){t===void 0&&(t={});var e=this.getName(),n=this.getProperties(),o=n.map(function(h){return h.getName()}),c=W_([e],o,!0);return c.some(function(h){return!(0,i.isUndefined)(t[h])&&t[h]!==""})},r.prototype.__splitValue=function(t,e){return Oa(t).split(e).map(function(n){return n.trim()}).filter(Boolean)},r.prototype.__splitStyleName=function(t,e,n){return this.__splitValue(t[e]||"",n)},r.prototype.__getSplitValue=function(t,e){t===void 0&&(t="");var n=e===void 0?{}:e,o=n.byName,c=this.getProperties(),h=c.length===4&&c.every(function(C){return $_(C.getType())}),m=this.__splitValue(t,this.getSplitSeparator()),y={};return c.forEach(function(C,P){var D=m[P],z=(0,i.isUndefined)(D)?"":D;if(h){var q=m.length;z=m[P]||m[P%q+(q!=1&&q%2?1:0)]||z}var ot=o?C.getName():C.getId();y[ot]=z||""}),y},r.prototype.__getPropsFromStyle=function(t,e){if(t===void 0&&(t={}),e===void 0&&(e={}),!this.__styleHasProps(t))return null;var n=e.byName,o=this.getName(),c=this.getProperties(),h=this.getSplitSeparator(),m=this.get("fromStyle"),y=m?m(t,{property:this,name:o,separator:h}):{};return m||(y=this.__getSplitValue(t[o]||"",{byName:n}),c.forEach(function(C){var P=t[C.getName()],D=n?C.getName():C.getId();!(0,i.isUndefined)(P)&&P!==""&&(y[D]=P)})),y},r.prototype.__setProperties=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),this.getProperties().forEach(function(o){var c=t[o.getId()];o.__getFullValue()!==c&&o.upValue(c,e)});var n=(0,i.keys)(t).map(function(o){return t[o]}).join(" ");this.set("value",n,{silent:!0})},r.prototype.clear=function(){var t=this;return this.getProperties().map(function(e){return e.clear({__clearIn:!t.isDetached()})}),An.prototype.clear.call(this),this},r.prototype.hasValue=function(t){return this.getProperties().some(function(e){return e.hasValue(t)})},r.prototype.getFullValue=function(){return this.__getFullValue()},r.prototype.__canClearProp=function(t){return this.isDetached()&&t.hasValue({noParent:!0})},r}(An);const xc=uT;var cT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Io=function(){return Io=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Io.apply(this,arguments)},fT=function(l,r){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&r.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(l);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(l,e[n])&&(t[e[n]]=l[e[n]]);return t},dT=/,(?![^\(]*\))/,pT=/\s(?![^(]*\))/,hT=function(l){cT(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.defaults=function(){return Io(Io({},xc.getDefaults()),{layers:[],emptyValue:"unset",layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})},r.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),xc.callParentInit(xc,this,t,e);var n=this.get("layers"),o=new sT(n,{prop:this});o.property=this,o.properties=this.get("properties"),this.set("layers",o,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(o,"add remove",this.__upLayers),xc.callInit(this,t,e)},Object.defineProperty(r.prototype,"layers",{get:function(){return this.get("layers")},enumerable:!1,configurable:!0}),r.prototype.getLayers=function(){return this.layers.models},r.prototype.hasLayers=function(){return this.getLayers().length>0},r.prototype.getLayer=function(t){return t===void 0&&(t=0),this.layers.at(t)||void 0},r.prototype.getSelectedLayer=function(){var t=this.get("selectedLayer");return t&&t.getIndex()>=0?t:void 0},r.prototype.selectLayer=function(t){return this.set("selectedLayer",t,{__select:!0})},r.prototype.selectLayerAt=function(t){t===void 0&&(t=0);var e=this.getLayer(t);return e&&this.selectLayer(e)},r.prototype.moveLayer=function(t,e){e===void 0&&(e=0);var n=this.layers,o=t?t.getIndex():-1;o>=0&&(0,i.isNumber)(e)&&e>=0&&e<n.length&&o!==e&&(this.removeLayer(t),n.add(t,{at:e}))},r.prototype.addLayer=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var n={};this.getProperties().forEach(function(c){var h=c.getId(),m=t[h];n[h]=(0,i.isUndefined)(m)?c.getDefaultValue():m});var o=this.layers.push({values:n},e);return o},r.prototype.removeLayer=function(t){return this.layers.remove(t)},r.prototype.removeLayerAt=function(t){t===void 0&&(t=0);var e=this.getLayer(t);return e?this.removeLayer(e):null},r.prototype.getLayerLabel=function(t){var e="";if(t){var n=this.get("layerLabel"),o=t.getValues(),c=t.getIndex();if(n)e=n(t,{index:c,values:o,property:this});else{var h=[];this.getProperties().map(function(m){h.push(o[m.getId()])}),e=h.filter(Boolean).join(" ")}}return e},r.prototype.getStyleFromLayer=function(t,e){var n;e===void 0&&(e={});var o=this.__getJoin(),c=this.__getJoinLayers(),h=this.get("toStyle"),m=this.getName(),y=t.getValues(),C;if(h)C=h(y,{join:o,joinLayers:c,name:m,layer:t,property:this});else{var P=this.getProperties().map(function(D){var z=D.getName(),q=y[D.getId()],ot=(0,i.isUndefined)(q)?D.getDefaultValue():q;if(e.number&&$_(D.getType())){var ft=D.parseValue(q,e.number);ot="".concat(ft.value).concat(ft.unit)}return{name:z,value:ot}});C=this.isDetached()?P.reduce(function(D,z){return D[z.name]=z.value,D},{}):(n={},n[this.getName()]=P.map(function(D){return D.value}).join(o),n)}return e.camelCase?Object.keys(C).reduce(function(D,z){return D[(0,s.camelCase)(z)]=C[z],D},{}):C},r.prototype.getStylePreview=function(t,e){e===void 0&&(e={});var n={},o=this.get("preview");return o&&(n=this.getStyleFromLayer(t,e)),n},r.prototype.getLayerSeparator=function(){var t=this.get("layerSeparator");return(0,i.isString)(t)?new RegExp("".concat(t,"(?![^\\(]*\\))")):t},r.prototype.hasEmptyValue=function(){return!this.hasLayers()&&!!this.attributes.isEmptyValue},r.prototype.__upProperties=function(t,e){var n;e===void 0&&(e={});var o=this.getSelectedLayer();o&&(o.upValues((n={},n[t.getId()]=t.__getFullValue(),n)),!e.__up&&this.__upTargetsStyleProps(e))},r.prototype.__upLayers=function(t,e,n){this.__upTargetsStyleProps(n||e)},r.prototype.__upTargets=function(t,e){if(e===void 0&&(e={}),!e.__select)return An.prototype.__upTargets.call(this,t,e)},r.prototype.__upTargetsStyleProps=function(t){t===void 0&&(t={}),this.__upTargetsStyle(this.getStyleFromLayers(t),t)},r.prototype.__upTargetsStyle=function(t,e){return An.prototype.__upTargetsStyle.call(this,t,e)},r.prototype.__upSelected=function(t,e){var n=t===void 0?{}:t,o=n.noEvent;e===void 0&&(e={});var c=this.em.Styles,h=this.getSelectedLayer(),m=h==null?void 0:h.getValues();m&&this.getProperties().forEach(function(y){var C,P=(C=m[y.getId()])!==null&&C!==void 0?C:"";y.__getFullValue()!==P&&y.upValue(P,Io(Io({},e),{__up:!0}))}),!o&&c.__trgEv(c.events.layerSelect,{property:this})},r.prototype._up=function(t,e){e===void 0&&(e={});var n=t.__layers,o=n===void 0?[]:n,c=fT(t,["__layers"]);return!this.isDetached()&&this.__setLayers(o),this.__upSelected({noEvent:!0},e),An.prototype._up.call(this,c,e),this},r.prototype.__setLayers=function(t,e){t===void 0&&(t=[]),e===void 0&&(e={});var n=this.layers,o=t.map(function(c){return{values:c}});n.length===o.length?o.map(function(c,h){var m;return(m=n.at(h))===null||m===void 0?void 0:m.upValues(c.values)}):n.reset(o),this.set({isEmptyValue:!!e.isEmptyValue}),this.__upSelected({noEvent:!0})},r.prototype.__parseValue=function(t){var e=this,n=this.parseValue(t);return n.__layers=t.split(dT).map(function(o){return o.trim()}).map(function(o){return e.__parseLayer(o)}).filter(Boolean),n},r.prototype.__parseLayer=function(t){var e=this.get("parseLayer"),n=t.split(pT),o=this.getProperties();return e?e({value:t,values:n}):o.reduce(function(c,h,m){var y=n[m];return c[h.getId()]=(0,i.isUndefined)(y)?h.getDefaultValue():y,c},{})},r.prototype.__getLayersFromStyle=function(t){var e=this;if(t===void 0&&(t={}),!this.__styleHasProps(t))return null;if(this.isEmptyValueStyle(t))return[];var n=this.getName(),o=this.getProperties(),c=this.getLayerSeparator(),h=this.attributes.fromStyle,m=h?h(t,{property:this,name:n,separatorLayers:c}):[];if(!h){var y=this.__splitStyleName(t,n,c).map(function(C){return C.split(e.getSplitSeparator())}).map(function(C){var P={};return o.forEach(function(D,z){var q=C[z];P[D.getId()]=(0,i.isUndefined)(q)?D.getDefaultValue():q}),P});o.forEach(function(C){var P=C.getId();e.__splitStyleName(t,C.getName(),c).map(function(D){var z;return z={},z[P]=D||C.getDefaultValue(),z}).forEach(function(D,z){y[z]=y[z]?Io(Io({},y[z]),D):D})}),m=y}return(0,i.isArray)(m)?m:[m]},r.prototype.getStyle=function(t){return t===void 0&&(t={}),this.getStyleFromLayers(t)},r.prototype.getStyleFromLayers=function(t){var e=this;t===void 0&&(t={});var n={},o=this.getName(),c=this.getLayers(),h=this.getProperties(),m=c.map(function(C){return e.getStyleFromLayer(C,t)});if(m.forEach(function(C){(0,i.keys)(C).map(function(P){n[P]||(n[P]=[]),n[P].push(C[P])})}),(0,i.keys)(n).map(function(C){n[C]=n[C].join(e.__getJoinLayers())}),this.isDetached())n[o]="",!c.length&&h.map(function(C){n[C.getName()]=""});else{var y=h.reduce(function(C,P){return C[P.getName()]="",C},{});n[o]=n[o]||"",n=Io(Io({},n),y)}return Io(Io({},n),t.__clear?{}:this.getEmptyValueStyle())},r.prototype.isEmptyValueStyle=function(t){t===void 0&&(t={});var e=this.getEmptyValueStyle({force:!0}),n=(0,i.keys)(e);return!!n.length&&n.every(function(o){return e[o]===t[o]})},r.prototype.getEmptyValueStyle=function(t){t===void 0&&(t={});var e=this.attributes.emptyValue;if(e&&(!this.hasLayers()||t.force)){var n=this.getName(),o=this.getProperties(),c=(0,i.isString)(e)?e:e({property:this});if((0,i.isString)(c)){var h={};return this.isDetached()?o.map(function(m){h[m.getName()]=c}):h[n]=c,h}else return c}else return{}},r.prototype.__getJoinLayers=function(){var t=this.get("layerJoin"),e=this.get("layerSeparator");return t||((0,i.isString)(e)?e:t)},r.prototype.__getFullValue=function(){if(this.get("detached"))return"";var t=this.getStyleFromLayers();return Oa(t[this.getName()])},r.prototype.hasValue=function(t){t===void 0&&(t={});var e=t.noParent,n=e&&this.getParentTarget();return(this.hasLayers()||this.hasEmptyValue())&&!n},r.prototype.clear=function(t){return t===void 0&&(t={}),this.layers.reset(),this.__upTargetsStyleProps(Io(Io({},t),{__clear:!0})),An.prototype.clear.call(this),this},r.prototype.__canClearProp=function(){return!1},r.prototype.__getLayers=function(){return this.layers},r}(xc);const vT=hT;var gT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xh=function(){return xh=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},xh.apply(this,arguments)},mT=function(l,r){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&r.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(l);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(l,e[n])&&(t[e[n]]=l[e[n]]);return t},yT=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},pm="data-clear-style",_T=function(l){gT(r,l);function r(t){t===void 0&&(t={});var e=l.call(this,t)||this;(0,i.bindAll)(e,"__change","__updateStyle");var n=t.config||{},o=n.em;e.config=n,e.em=o,e.pfx=n.stylePrefix||"",e.ppfx=n.pStylePrefix||"",e.__destroyFn=e.destroy?e.destroy.bind(e):function(){};var c=e.model;c.view=e,e.onValueChange=(0,i.debounce)(e.onValueChange.bind(e),10),e.updateStatus=(0,i.debounce)(e.updateStatus.bind(e),0),e.listenTo(c,"destroy remove",e.remove),e.listenTo(c,"change:visible",e.updateVisibility),e.listenTo(c,"change:name change:className change:full",e.render),e.listenTo(c,"change:value",e.onValueChange),e.listenTo(c,"change:parentTarget",e.updateStatus),e.listenTo(o,"change:device",e.onValueChange);var h=e.init&&e.init.bind(e);return h&&h(),e}return r.prototype.events=function(){var t;return t={change:"inputValueChanged"},t["click [".concat(pm,"]")]="clear",t},r.prototype.template=function(t){var e=this,n=e.pfx,o=e.ppfx;return`
      <div class="`.concat(n,`label" data-sm-label></div>
      <div class="`).concat(o,`fields" data-sm-fields></div>
    `)},r.prototype.templateLabel=function(t){var e=this,n=e.pfx,o=e.em,c=t.parent,h=t.attributes,m=h.icon,y=m===void 0?"":m,C=h.info,P=C===void 0?"":C,D=o==null?void 0:o.getConfig().icons,z=(D==null?void 0:D.close)||"";return`
      <span class="`.concat(n,"icon ").concat(y,'" title="').concat(P,`">
        `).concat(t.getLabel(),`
      </span>
      `).concat(c?"":'<div class="'.concat(n,'clear" style="display: none" ').concat(pm,">").concat(z,"</div>"),`
    `)},r.prototype.templateInput=function(t){return`
      <div class="`.concat(this.ppfx,`field">
        <input placeholder="`).concat(t.getDefaultValue(),`"/>
      </div>
    `)},r.prototype.remove=function(){var t=this;return O.G7.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach(function(e){return t[e]=null}),this.__destroyFn(this._getClbOpts()),this},r.prototype.updateStatus=function(){var t,e=this,n=e.model,o=e.pfx,c=e.ppfx,h=e.config,m="".concat(c,"four-color"),y="".concat(c,"color-warn"),C=this.$el.children(".".concat(o,"label")),P=this.getClearEl(),D=P?P.style:{};C.removeClass("".concat(m," ").concat(y)),D.display="none",n.hasValue({noParent:!0})&&h.highlightChanged?(C.addClass(m),h.clearProperties&&(D.display="")):n.hasValue()&&h.highlightComputed&&C.addClass(y),(t=this.parent)===null||t===void 0||t.updateStatus()},r.prototype.clear=function(t){t&&t.stopPropagation(),this.model.clear()},r.prototype.getClearEl=function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(pm,"]"))),this.clearEl},r.prototype.inputValueChanged=function(t){t&&t.stopPropagation(),!this.emit&&this.model.upValue(t.target.value)},r.prototype.onValueChange=function(t,e,n){this.setValue(this.model.getFullValue(void 0,{skipImportant:!0})),this.updateStatus()},r.prototype.setValue=function(t){var e=this.model,n=(0,i.isUndefined)(t)||t===""?e.getDefaultValue():t;if(this.update)return this.__update(n);this.__setValueInput(n)},r.prototype.__setValueInput=function(t){var e=this.getInputEl();e&&(e.value=t)},r.prototype.getInputEl=function(){return this.input||(this.input=this.el.querySelector("input")),this.input},r.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},r.prototype.clearCached=function(){delete this.clearEl,delete this.input,delete this.$input},r.prototype.__unset=function(){var t=this.unset&&this.unset.bind(this);t&&t(this._getClbOpts())},r.prototype.__update=function(t){var e=this.update&&this.update.bind(this);e&&e(xh(xh({},this._getClbOpts()),{value:t}))},r.prototype.__change=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.emit&&this.emit.bind(this);n&&n.apply(void 0,yT([this._getClbOpts()],t,!1))},r.prototype.__updateStyle=function(t,e){e===void 0&&(e={});var n=e.complete,o=e.partial;mT(e,["complete","partial"]);var c=this.model,h=n!==!1&&o!==!0;(0,s.isObject)(t)?c.__upTargetsStyle(t,{avoidStore:!h}):c.upValue(t,{partial:!h})},r.prototype._getClbOpts=function(){var t=this,e=t.model,n=t.el,o=t.createdEl;return{el:n,createdEl:o,property:e,props:e.attributes,change:this.__change,updateStyle:this.__updateStyle}},r.prototype.render=function(){this.clearCached();var t=this,e=t.pfx,n=t.model,o=t.el,c=t.$el,h=n.getName(),m=n.getType(),y=n.get("className")||"",C="".concat(e,"property"),P=m==="number"?"".concat(e).concat(m," ").concat(e,"integer"):"".concat(e).concat(m);this.createdEl&&this.__destroyFn(this._getClbOpts()),c.empty().append(this.template(n)),c.find("[data-sm-label]").append(this.templateLabel(n));var D=this.create&&this.create.bind(this);this.createdEl=D&&D(this._getClbOpts()),c.find("[data-sm-fields]").append(this.createdEl||this.templateInput(n)),o.className="".concat(C," ").concat(P," ").concat(C,"__").concat(h," ").concat(y).trim(),o.className+=n.isFull()?" ".concat(C,"--full"):"";var z=this.onRender&&this.onRender.bind(this);return z&&z(),this.setValue(n.getValue()),this},r.prototype.onRender=function(){},r}(O.G7);const es=_T;var wT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bT=function(l){wT(r,l);function r(t){var e=l.call(this,t)||this;e.config=t.config||{},e.pfx=e.config.stylePrefix||"",e.properties=[],e.parent=t.parent;var n=e.collection;return e.listenTo(n,"add",e.addTo),e.listenTo(n,"reset",e.render),e}return r.prototype.addTo=function(t,e,n){this.add(t,null,n)},r.prototype.add=function(t,e,n){n===void 0&&(n={});var o=this,c=o.parent,h=o.config,m=e||this.el,y=new t.typeView({model:t,config:h});c&&(y.parent=c),y.render();var C=y.el;this.properties.push(y),(0,ee.$Q)(m,C,n.at)},r.prototype.remove=function(){return O.G7.prototype.remove.apply(this,arguments),this.clearItems(),this},r.prototype.clearItems=function(){this.properties.forEach(function(t){return t.remove()}),this.properties=[]},r.prototype.render=function(){var t=this,e=this,n=e.$el,o=e.pfx;this.clearItems();var c=document.createDocumentFragment();return this.collection.forEach(function(h){return t.add(h,c)}),n.empty(),n.append(c),n.attr("class","".concat(o,"properties")),this},r}(O.G7);const hm=bT;var CT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Sh=function(){return Sh=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Sh.apply(this,arguments)},xT=function(l){CT(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.templateInput=function(){var t=this.pfx;return`
      <div class="`.concat(t,"field ").concat(t,`composite">
        <span id="`).concat(t,`input-holder"></span>
      </div>
    `)},r.prototype.remove=function(){var t;return(t=this.props)===null||t===void 0||t.remove(),es.prototype.remove.apply(this,arguments),this},r.prototype.onValueChange=function(){},r.prototype.onRender=function(){var t=this.pfx,e=this.model,n=e.get("properties");if(n.length&&!this.props){var o=e.isDetached(),c=new hm({config:Sh(Sh({},this.config),{highlightComputed:o,highlightChanged:o}),collection:n,parent:this});c.render(),this.$el.find("#".concat(t,"input-holder")).append(c.el),this.props=c}},r.prototype.clearCached=function(){es.prototype.clearCached.apply(this,arguments),delete this.props},r}(es);const id=xT;var ST=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),OT=function(l){ST(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.events=function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}},r.prototype.template=function(){var t=this,e=t.pfx,n=t.ppfx,o=t.em,c=o==null?void 0:o.getConfig().icons,h=(c==null?void 0:c.close)||"",m=(c==null?void 0:c.move)||"";return`
      <div class="`.concat(e,`label-wrp">
        <div id="`).concat(e,'move" class="').concat(n,`no-touch-actions" data-move-layer>
          `).concat(m,`
        </div>
        <div id="`).concat(e,`label" data-label></div>
        <div id="`).concat(e,'preview-box" class="').concat(e,`layer-preview" style="display: none" data-preview-box>
          <div id="`).concat(e,'preview" class="').concat(e,`layer-preview-cnt" data-preview></div>
        </div>
        <div id="`).concat(e,'close-layer" class="').concat(e,`btn-close" data-close-layer>
          `).concat(h,`
        </div>
      </div>
      <div id="`).concat(e,`inputs" data-properties></div>
    `)},r.prototype.initialize=function(t){t===void 0&&(t={});var e=this.model,n=t.config||{};this.em=n.em,this.config=n,this.sorter=t.sorter,this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.propertyView=t.propertyView;var o=this.propertyView.model;this.listenTo(e,"destroy remove",this.remove),this.listenTo(e,"change:values",this.updateLabel),this.listenTo(o,"change:selectedLayer",this.updateVisibility),e.view=this,e.set({droppable:0,draggable:1}),this.$el.data("model",e)},r.prototype.initSorter=function(){var t;(t=this.sorter)===null||t===void 0||t.startSort(this.el)},r.prototype.removeItem=function(t){t&&t.stopPropagation(),this.model.remove()},r.prototype.select=function(){this.model.select()},r.prototype.getPropertiesWrapper=function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},r.prototype.getPreviewEl=function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},r.prototype.getLabelEl=function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl},r.prototype.updateLabel=function(){var t=this.model,e=t.getLabel();if(this.getLabelEl().innerHTML=e,t.hasPreview()){var n=this.getPreviewEl(),o=t.getStylePreview({number:{min:-3,max:3}}),c=(0,i.keys)(o).map(function(h){return"".concat(h,":").concat(o[h])}).join(";");n.setAttribute("style",c)}},r.prototype.updateVisibility=function(){var t,e=this,n=e.pfx,o=e.model,c=e.propertyView,h=this.getPropertiesWrapper(),m=o.isSelected();h.style.display=m?"":"none",this.$el[m?"addClass":"removeClass"]("".concat(n,"active")),m&&h.appendChild((t=c.props)===null||t===void 0?void 0:t.el)},r.prototype.render=function(){var t=this,e=t.el,n=t.pfx,o=t.model;return e.innerHTML=this.template(),e.className="".concat(n,"layer"),o.hasPreview()&&(e.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this},r}(O.G7);const TT=OT;var ET=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),PT=function(l){ET(r,l);function r(t){var e=l.call(this,t)||this,n=e.collection,o=t.config||{},c=o.em,h=o.stylePrefix||"",m=o.pStylePrefix||"";e.config=o,e.pfx=h,e.ppfx=m,e.propertyView=t.propertyView,e.className="".concat(h,"layers ").concat(m,"field"),e.listenTo(n,"add",e.addTo),e.listenTo(n,"reset",e.reset),e.items=[];var y=c==null?void 0:c.Utils;return e.sorter=y?new y.Sorter({container:e.el,ignoreViewChildren:1,containerSel:".".concat(h,"layers"),itemSel:".".concat(h,"layer"),pfx:o.pStylePrefix,em:c}):"",n.view=e,e.$el.data("model",n),e.$el.data("collection",n),e}return r.prototype.addTo=function(t){var e=this.collection.indexOf(t);this.addToCollection(t,null,e)},r.prototype.addToCollection=function(t,e,n){var o=e||null,c=this,h=c.propertyView,m=c.config,y=c.sorter,C=c.$el,P=new TT({model:t,config:m,sorter:y,propertyView:h}),D=P.render().el;if(this.items.push(P),o)o.appendChild(D);else if(typeof n<"u"){var z="before";C.children().length===n&&(n--,z="after"),n<0?C.append(D):C.children().eq(n)[z](D)}else C.append(D);return D},r.prototype.reset=function(t,e){this.clearItems(),this.render()},r.prototype.remove=function(){return this.clearItems(),O.G7.prototype.remove.apply(this,arguments),this},r.prototype.clearItems=function(){this.items.forEach(function(t){return t.remove()}),this.items=[]},r.prototype.render=function(){var t=this,e=this,n=e.$el,o=e.sorter,c=document.createDocumentFragment();return n.empty(),this.collection.forEach(function(h){return t.addToCollection(h,c)}),n.append(c),n.attr("class",this.className),o&&(o.plh=null),this},r}(O.G7);const kT=PT;var AT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Sc=function(){return Sc=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Sc.apply(this,arguments)},MT=function(l){AT(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.events=function(){return Sc(Sc({},id.prototype.events()),{"click [data-add-layer]":"addLayer",change:""})},r.prototype.templateInput=function(){var t=this,e=t.pfx,n=t.em,o=n==null?void 0:n.getConfig().icons,c=(o==null?void 0:o.plus)||"+";return`
      <div class="`.concat(e,"field ").concat(e,`stack">
        <button type="button" id="`).concat(e,`add" data-add-layer>
          `).concat(c,`
        </button>
        <div data-layers-wrapper></div>
      </div>
    `)},r.prototype.init=function(){var t=this.model;this.listenTo(t.layers,"change reset",this.updateStatus),this.listenTo(t,"change:isEmptyValue",this.updateStatus)},r.prototype.addLayer=function(){this.model.addLayer({},{at:0})},r.prototype.setValue=function(){},r.prototype.remove=function(){var t;return(t=this.layersView)===null||t===void 0||t.remove(),id.prototype.remove.apply(this,arguments),this},r.prototype.clearCached=function(){id.prototype.clearCached.apply(this,arguments),delete this.layersView},r.prototype.onRender=function(){var t=this,e=t.model,n=t.el,o=t.config,c=e.get("properties");if(c.length&&!this.props){var h=new hm({config:Sc(Sc({},o),{highlightComputed:!1,highlightChanged:!1}),collection:c,parent:this});h.render();var m=new kT({collection:e.layers,config:o,propertyView:this});m.render();var y=n.querySelector("[data-layers-wrapper]");y.appendChild(m.el),this.props=h,this.layersView=m}},r}(id);const LT=MT;var DT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Oh=function(){return Oh=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Oh.apply(this,arguments)},jT=function(l){DT(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.events=function(){return Oh(Oh({},es.prototype.events()),{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})},r.prototype.templateInput=function(){var t,e=this,n=e.pfx,o=e.em,c=(t=this.em)===null||t===void 0?void 0:t.getConfig().icons,h=c==null?void 0:c.close;return`
      <div class="`.concat(n,"field ").concat(n,`file">
        <div id='`).concat(n,`input-holder'>
          <div class="`).concat(n,`btn-c">
            <button class="`).concat(n,'btn" id="').concat(n,`images" type="button" data-open-assets>
              `).concat(o.t("styleManager.fileButton"),`
            </button>
          </div>
          <div style="clear:both;"></div>
        </div>
        <div id="`).concat(n,'preview-box" class="').concat(n,`preview-file" data-preview-box>
          <div id="`).concat(n,'preview-file" class="').concat(n,`preview-file-cnt" data-preview></div>
          <div id="`).concat(n,'close" class="').concat(n,'preview-file-close" data-clear-asset>').concat(h,`</div>
        </div>
      </div>
    `)},r.prototype.__setValueInput=function(t){var e=this,n=e.model,o=e.el,c=n.getDefaultValue(),h=o.querySelector("[data-preview-box]"),m=o.querySelector("[data-preview]");h.style.display=!t||t===c?"none":"",m.style.backgroundImage=t||n.getDefaultValue()},r.prototype.openAssetManager=function(){var t=this,e,n=(e=this.em)===null||e===void 0?void 0:e.Assets;n==null||n.open({select:function(o,c){var h=(0,i.isString)(o)?o:o.get("src");t.model.upValue(h,{partial:!c}),c&&n.close()},types:["image"],accept:"image/*"})},r}(es);const NT=jT;var IT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),RT=function(l){IT(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.templateInput=function(t){return""},r.prototype.init=function(){var t=this.model;this.listenTo(t,"change:unit",this.onValueChange),this.listenTo(t,"change:units",this.render)},r.prototype.setValue=function(t){},r.prototype.onRender=function(){var t=this,e=t.ppfx,n=t.model,o=t.el;if(!this.inputInst){var c=n.input;c.ppfx=e,c.render();var h=o.querySelector(".".concat(e,"fields"));h.appendChild(c.el),this.input=c.inputEl.get(0),this.inputInst=c}},r.prototype.clearCached=function(){es.prototype.clearCached.apply(this,arguments),this.inputInst=null},r}(es);const ns=RT;var FT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),VT=function(l){FT(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.setValue=function(t){var e;(e=this.inputInst)===null||e===void 0||e.setValue(t,{fromTarget:1,def:this.model.getDefaultValue()})},r.prototype.remove=function(){var t=this;ns.prototype.remove.apply(this,arguments);var e=this.inputInst;return e&&e.remove&&e.remove(),["inputInst","$color"].forEach(function(n){return t[n]=null}),this},r.prototype.__handleChange=function(t,e){this.model.upValue(t,{partial:e})},r.prototype.onRender=function(){var t;if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var e=this,n=e.ppfx,o=e.model,c=e.em,h=e.el,m=new Yt({target:c,model:o,ppfx:n,onChange:this.__handleChange}),y=m.render();h.querySelector(".".concat(n,"fields")).appendChild(y.el),this.input=(t=y.inputEl)===null||t===void 0?void 0:t.get(0),this.inputInst=y}},r}(ns);const HT=VT;var zT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Th=function(){return Th=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Th.apply(this,arguments)},G_=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},BT=function(l){zT(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.defaults=function(){return Th(Th({},An.getDefaults()),{options:[],full:0})},r.prototype.getOptions=function(){var t=this.attributes,e=t.options,n=t.list;return(e&&e.length?e:n)||[]},r.prototype.getOption=function(t){var e=this,n=(0,s.isDef)(t)?t:this.getValue();return this.getOptions().filter(function(o){return e.getOptionId(o)===n})[0]||null},r.prototype.setOptions=function(t){return t===void 0&&(t=[]),this.set("options",t),this},r.prototype.addOption=function(t){if(t){var e=this.getOptions();this.setOptions(G_(G_([],e,!0),[t],!1))}return this},r.prototype.getOptionId=function(t){return(0,s.isDef)(t.id)?t.id:t.value},r.prototype.getOptionLabel=function(t,e){var n;e===void 0&&(e={});var o=e.locale,c=o===void 0?!0:o,h=((0,i.isString)(t)?this.getOption(t):t)||{},m=this.getOptionId(h),y=h.label||h.name||m,C=e.property||this.getId();return c&&((n=this.em)===null||n===void 0?void 0:n.t("styleManager.options.".concat(C,".").concat(m)))||y},r.prototype.initialize=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];An.prototype.initialize.apply(this,t),this.listenTo(this,"change:options",this.__onOptionChange)},r.prototype.__onOptionChange=function(){this.set("list",this.get("options"))},r}(An);const vm=BT;var UT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),WT=function(l){UT(r,l);function r(t){var e=l.call(this,t)||this;return e.listenTo(e.model,"change:options",e.updateOptions),e}return r.prototype.templateInput=function(){var t=this,e=t.pfx,n=t.ppfx;return`
      <div class="`.concat(n,"field ").concat(n,`select">
        <span id="`).concat(e,`input-holder"></span>
        <div class="`).concat(n,`sel-arrow">
          <div class="`).concat(n,`d-s-arrow"></div>
        </div>
      </div>
    `)},r.prototype.updateOptions=function(){delete this.input,this.onRender()},r.prototype.onRender=function(){var t=this.pfx,e=this.model,n=e.getOptions();if(!this.input){var o=[];n.forEach(function(h){var m=e.getOptionId(h),y=e.getOptionLabel(m),C=h.style?h.style.replace(/"/g,"&quot;"):"",P=C?'style="'.concat(C,'"'):"",D=m.replace(/"/g,"&quot;");o.push('<option value="'.concat(D,'" ').concat(P,">").concat(y,"</option>"))});var c=this.el.querySelector("#".concat(t,"input-holder"));c.innerHTML="<select>".concat(o.join(""),"</select>"),this.input=c.firstChild}},r.prototype.__setValueInput=function(t){var e=this.model,n=this.getInputEl(),o=e.getOptions()[0],c=o?e.getOptionId(o):"";n&&(n.value=t||c)},r}(es);const K_=WT;var $T=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Eh=function(){return Eh=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Eh.apply(this,arguments)},GT=function(l){$T(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.defaults=function(){return Eh(Eh({},vm.getDefaults()),{full:1})},r}(vm);const KT=GT;var YT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qT=function(l){YT(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.templateInput=function(){var t=this.ppfx;return'<div class="'.concat(t,"field ").concat(t,'field-radio"></div>')},r.prototype.onRender=function(){var t=this,e=t.pfx,n=t.ppfx,o=this.model,c="".concat(n,"radio-item-label"),h=o.getName(),m=o.getOptions(),y="".concat(e,"radio ").concat(e,"radio-").concat(h),C=o.cid;if(!this.input){var P=[];m.forEach(function(z){var q=z.className?"".concat(z.className," ").concat(e,"icon ").concat(c):"",ot=o.getOptionId(z),ft="".concat(h,"-").concat(ot,"-").concat(C),xt=q?"":o.getOptionLabel(ot),Ft=z.title?'title="'.concat(z.title,'"'):"",Rt=o.getValue()===ot?"checked":"";P.push(`
          <div class="`.concat(n,`radio-item">
            <input type="radio" class="`).concat(y,'" id="').concat(ft,'" name="').concat(h,"-").concat(C,'" value="').concat(ot,'" ').concat(Rt,`/>
            <label class="`).concat(q||c,'" ').concat(Ft,' for="').concat(ft,'">').concat(xt,`</label>
          </div>
        `))});var D=this.el.querySelector(".".concat(n,"field"));D.innerHTML='<div class="'.concat(n,'radio-items">').concat(P.join(""),"</div>"),this.input=D.firstChild}},r.prototype.__setValueInput=function(t){var e,n=this.model,o=t||n.getDefaultValue(),c=(e=this.getInputEl())===null||e===void 0?void 0:e.querySelector('[value="'.concat(o,'"]'));c&&(c.checked=!0)},r}(K_);const XT=qT;var ZT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hu=function(){return hu=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},hu.apply(this,arguments)},JT=function(l){ZT(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.defaults=function(){return hu(hu({},An.getDefaults()),{units:[],unit:"",min:"",max:"",step:1})},r.prototype.getUnits=function(){return this.get("units")||[]},r.prototype.getUnit=function(){return this.get("unit")},r.prototype.getMin=function(){return this.get("min")},r.prototype.getMax=function(){return this.get("max")},r.prototype.getStep=function(){return this.get("step")},r.prototype.upUnit=function(t,e){return e===void 0&&(e={}),this._up({unit:t},e)},r.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),An.callParentInit(An,this,t,e);var n=this.get("unit"),o=this.getUnits();this.input=(0,s.hasWin)()?new ke({model:this}):void 0,o.length&&!n&&this.set("unit",o[0],{silent:!0}),An.callInit(this,t,e)},r.prototype.__getClearProps=function(){return hu(hu({},An.prototype.__getClearProps()),{unit:""})},r.prototype.parseValue=function(t,e){e===void 0&&(e={});var n=An.prototype.parseValue.apply(this,arguments),o=this.input.validateInputValue(n.value,hu({deepCheck:1},e)),c=o.value,h=o.unit;return n.value=c,n.unit=h,n},r.prototype.getFullValue=function(){var t=this.get("value"),e=this.get("unit"),n=(0,i.isUndefined)(t)?"":"".concat(t),o=!(0,i.isUndefined)(e)&&n?e:"",c="".concat(n).concat(o);return An.prototype.getFullValue.apply(this,[c])},r}(An);const Ph=JT;var QT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),kh=function(){return kh=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},kh.apply(this,arguments)},tE=function(l){QT(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.defaults=function(){return kh(kh({},Ph.getDefaults()),{showInput:1})},r}(Ph);const eE=tE;var nE=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ah=function(){return Ah=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Ah.apply(this,arguments)},rE=function(l){nE(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.events=function(){return Ah(Ah({},ns.prototype.events()),{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},r.prototype.templateInput=function(t){var e=this.ppfx;return`
      <div class="`.concat(e,"field ").concat(e,`field-range">
        <input type="range" min="`).concat(t.get("min"),'" max="').concat(t.get("max"),'" step="').concat(t.get("step"),`"/>
      </div>
    `)},r.prototype.getSliderEl=function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},r.prototype.inputValueChanged=function(t){t.stopPropagation(),this.model.upValue(this.getSliderEl().value)},r.prototype.inputValueChangedSoft=function(t){t.stopPropagation(),this.model.upValue(this.getSliderEl().value,{partial:!0})},r.prototype.setValue=function(t){var e=this.model,n=e.parseValue(t);this.getSliderEl().value=t===""?e.getDefaultValue():parseFloat(n.value),ns.prototype.setValue.apply(this,arguments)},r.prototype.onRender=function(){ns.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},r.prototype.clearCached=function(){ns.prototype.clearCached.apply(this,arguments),delete this.slider},r}(ns);const oE=rE;var iE=O.FE.extend(d_),aE=iE.extend({extendViewApi:1,init:function(){var l=this,r=l.opts,t=l.em,e=r.module||(t==null?void 0:t.get("StyleManager"));e&&(e.__listenAdd(this,e.events.propertyAdd),e.__listenRemove(this,e.events.propertyRemove))},types:[{id:"stack",model:vT,view:LT,isType:function(l){if(l&&l.type=="stack")return l}},{id:"composite",model:xc,view:id,isType:function(l){if(l&&l.type=="composite")return l}},{id:"file",model:An,view:NT,isType:function(l){if(l&&l.type=="file")return l}},{id:"color",model:An,view:HT,isType:function(l){if(l&&l.type=="color")return l}},{id:"select",model:vm,view:K_,isType:function(l){if(l&&l.type=="select")return l}},{id:"radio",model:KT,view:XT,isType:function(l){if(l&&l.type=="radio")return l}},{id:"slider",model:eE,view:oE,isType:function(l){if(l&&l.type=="slider")return l}},{id:"integer",model:Ph,view:ns,isType:function(l){if(l&&l.type=="integer")return l}},{id:"number",model:Ph,view:ns,isType:function(l){if(l&&l.type=="number")return l}},{id:"base",model:An,view:es,isType:function(l){return l.type="base",l}}]});const gm=aE;var sE=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Mh=function(){return Mh=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Mh.apply(this,arguments)},lE=function(l,r){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&r.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(l);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(l,e[n])&&(t[e[n]]=l[e[n]]);return t},uE=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},cE=function(l){sE(r,l);function r(t,e){e===void 0&&(e={});var n=l.call(this,t)||this,o=e.em;n.em=o;var c=t||{},h=n.buildProperties(c.buildProps),m=n.get("name")||"",y=[];!n.get("id")&&n.set("id",m.replace(/ /g,"_").toLowerCase()),h?y=n.extendProperties(h):y=n.get("properties").map(function(P){return(0,i.isString)(P)?n.buildProperties(P)[0]:P}).filter(Boolean),y=y.map(function(P){return n.checkExtend(P)});var C=new gm(y,{em:o});return C.sector=n,n.set("properties",C),n}return r.prototype.defaults=function(){return{id:"",name:"",open:!0,visible:!0,extendBuilded:!0,properties:[]}},Object.defineProperty(r.prototype,"properties",{get:function(){return this.get("properties")},enumerable:!1,configurable:!0}),r.prototype.getId=function(){return this.get("id")},r.prototype.getName=function(){var t,e=this.getId();return((t=this.em)===null||t===void 0?void 0:t.t("styleManager.sectors.".concat(e)))||this.get("name")},r.prototype.setName=function(t){return this.set("name",t)},r.prototype.isOpen=function(){return!!this.get("open")},r.prototype.setOpen=function(t){return this.set("open",t)},r.prototype.isVisible=function(){return!!this.get("visible")},r.prototype.getProperties=function(t){t===void 0&&(t={});var e=this.properties,n=e.models?uE([],e.models,!0):e;return n.filter(function(o){var c=!0;if(t.withValue&&(c=o.hasValue({noParent:!0})),t.withParentValue){var h=o.hasValue({noParent:!0});c=!h&&o.hasValue()}return c})},r.prototype.getProperty=function(t){return this.getProperties().filter(function(e){return e.get("id")===t})[0]||void 0},r.prototype.addProperty=function(t,e){return this.properties.add(this.checkExtend(t),e)},r.prototype.extendProperties=function(t,e,n){n===void 0&&(n=!1);for(var o=t.length,c=e||this.get("properties"),h=this.get("extendBuilded"),m=[],y=0,C=c.length;y<C;y++){for(var P=c[y],D=0,z=0;z<o;z++){var q=t[z];if(P.property==q.property||P.id==q.property){var ot=P.properties;ot&&ot.length&&(P.properties=this.extendProperties(q.properties||[],ot,1)),t[z]=h?(0,i.extend)(q,P):P,m[z]=t[z],D=1;continue}}D||(t.push(P),m.push(P))}return n?m.filter(function(ft){return ft}):t},r.prototype.checkExtend=function(t){var e=((0,i.isString)(t)?{extend:t}:t)||{},n=e.extend,o=lE(e,["extend"]);return n?Mh(Mh({},this.buildProperties([n])[0]||{}),o):t},r.prototype.buildProperties=function(t){var e,n=t||[];if(!n.length)return[];var o=(e=this.em)===null||e===void 0?void 0:e.Styles.builtIn;return o==null?void 0:o.build(n)},r}(O.Hn);const Y_=cE;var fE=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Lh=function(){return Lh=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Lh.apply(this,arguments)},dE=function(l){fE(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.initialize=function(t,e){e===void 0&&(e={});var n=e.module,o=e.em;this.em=o,this.module=n,this.listenTo(this,"reset",this.onReset)},r.prototype.model=function(t,e){e===void 0&&(e={});var n=e.collection.em;return new Y_(t,Lh(Lh({},e),{em:n}))},r.prototype.onReset=function(t,e){e===void 0&&(e={});var n=e.previousModels||[];n.forEach(function(o){return o.get("properties").reset()})},r}(O.FE);const pE=dE;var $s=function(){return $s=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},$s.apply(this,arguments)},hE=function(l,r){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&r.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(l);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(l,e[n])&&(t[e[n]]=l[e[n]]);return t},vu=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},xr=function(l){return l.map(function(r){return{id:r}})},vE=function(){function l(){this.props={},this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var r=", sans-serif",t=["flex-start","flex-end","center"],e=vu(vu([],t,!0),["baseline","stretch"],!1);this.optsBgSize=xr(["auto","cover","contain"]),this.optsBgAttach=xr(["scroll","fixed","local"]),this.optsBgRepeat=xr(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=xr(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=xr(["visible","hidden","scroll","auto"]),this.optsDir=xr(["row","row-reverse","column","column-reverse"]),this.opstDisplay=xr(["block","inline","inline-block","flex","none"]),this.optsTransitFn=xr(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=xr(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=xr(["none","left","right"]),this.optsPos=xr(["static","relative","absolute","fixed"]),this.optsTextAlign=xr(["left","center","right","justify"]),this.optsFlexAlign=xr(e),this.optsJustCont=xr(vu(vu([],t,!0),["space-between","space-around","space-evenly"],!1)),this.optsAlignCont=xr(vu(vu([],t,!0),["space-between","space-around","stretch"],!1)),this.optsAlignSelf=xr(vu(["auto"],e,!0)),this.optsTransitProp=xr(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=xr(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=xr(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+r,"Arial Black, Gadget"+r,"Brush Script MT"+r,"Comic Sans MS, cursive"+r,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+r,"Impact, Charcoal"+r,"Lucida Sans Unicode, Lucida Grande"+r,"Tahoma, Geneva"+r,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+r,"Verdana, Geneva"+r].map(function(n){return{id:n,label:n.split(",")[0]}}),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return l.prototype.__sub=function(r){var t=this;return function(){return r.map(function(e){if((0,i.isString)(e))return t.get(e);var n=e.extend,o=hE(e,["extend"]);return $s($s({},t.get(n)),o)})}},l.prototype.init=function(){var r=this,t=this,e=t.fixedValues,n=t.requireFlex,o=t.typeNumber;this.props={};var c=[["text-shadow-h",{type:o,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:e},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:n},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:o,default:"0",requiresParent:n}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black",full:!0}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01,full:!0}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:n},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:n},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(h,m){var y=m.values,C=y["box-shadow-h"],P=y["box-shadow-v"],D=y["box-shadow-blur"],z=y["box-shadow-spread"];return"".concat(C," ").concat(P," ").concat(D," ").concat(z)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(h,m){var y=m.values,C=y["text-shadow-h"],P=y["text-shadow-v"],D=y["text-shadow-blur"];return"".concat(C," ").concat(P," ").concat(D)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(h,m){var y=m.values,C=y["background-repeat-sub"]||"",P=y["background-position-sub"]||"",D=y["background-attachment-sub"]||"",z=y["background-size-sub"]||"";return[C,P,D,z].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(h,m){var y=m.property,C=m.name,P=h[C]||"",D=y.getLayerSeparator();return P?P.split(D).map(function(z){var q=y.__parseFn(z),ot=q.name,ft=q.value;return{"transform-type":ot,"transform-value":ft}}):[]},toStyle:function(h,m){var y,C=m.name;return y={},y[C]="".concat(h["transform-type"],"(").concat(h["transform-value"],")"),y},properties:[{property:"transform-type",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(h){var m=h.property,y=h.to;if(y.value){var C=m.getOption(),P=$s({},C.propValue||{}),D=m.getParent().getProperty("transform-value"),z=D.getUnit();(!z||(P==null?void 0:P.units.indexOf(z))<0)&&(P.unit=(P==null?void 0:P.units[0])||""),D.up(P)}}},{property:"transform-value",type:this.typeNumber,default:"0",full:!0}]}]];return c.forEach(function(h){var m=h[0],y=h[1],C=h[2];r.add(m,y||{},{from:C})}),this},l.prototype.add=function(r,t,e){t===void 0&&(t={}),e===void 0&&(e={});var n=e.from||"",o=this.props[n||r]||{},c=$s($s($s({},o),{property:r}),t);return c.properties&&(0,i.isFunction)(c.properties)&&(c.properties=c.properties()),this.props[r]=c,c},l.prototype.get=function(r){return this.props[r]},l.prototype.build=function(r){var t=this,e=[],n=(0,i.isString)(r)?[r]:r;return n.forEach(function(o){e.push(t.get(o)||{property:o})}),e},l}();const gE=vE;var mE=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yE=function(l,r){return Object.defineProperty?Object.defineProperty(l,"raw",{value:r}):l.raw=r,l},_E=function(l){mE(r,l);function r(t){var e=l.call(this,t)||this,n=t.config||{},o=e.model,c=n.em;return e.config=n,e.em=c,e.pfx=n.stylePrefix||"",e.listenTo(o,"destroy remove",e.remove),e.listenTo(o,"change:open",e.updateOpen),e.listenTo(o,"change:visible",e.updateVisibility),e}return r.prototype.template=function(t){var e,n=t.pfx,o=t.label,c=(e=this.em)===null||e===void 0?void 0:e.getConfig().icons,h=(c==null?void 0:c.caret)||"",m="".concat(n,"sector-");return f(q_||(q_=yE([`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `],[`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `])),m,m,h,m,o)},r.prototype.events=function(){return{"click [data-sector-title]":"toggle"}},r.prototype.updateOpen=function(){var t=this,e=t.$el,n=t.model,o=t.pfx,c=n.isOpen();e[c?"addClass":"removeClass"]("".concat(o,"open")),this.getPropertiesEl().style.display=c?"":"none"},r.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},r.prototype.getPropertiesEl=function(){var t=this,e=t.$el,n=t.pfx;return e.find(".".concat(n,"properties")).get(0)},r.prototype.toggle=function(){var t=this.model;t.setOpen(!t.get("open"))},r.prototype.renderProperties=function(){var t=this,e=t.model,n=t.config,o=e.get("properties");if(o){var c=new hm({collection:o,config:n});this.$el.append(c.render().el)}},r.prototype.render=function(){var t=this,e=t.pfx,n=t.model,o=t.$el,c=n.getId(),h=n.getName();return o.html(this.template({pfx:e,label:h})),this.renderProperties(),o.attr("class","".concat(e,"sector ").concat(e,"sector__").concat(c," no-select")),this.updateOpen(),this},r}(O.G7);const wE=_E;var q_,bE=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),CE=function(l){bE(r,l);function r(t){t===void 0&&(t={});var e=l.call(this,t)||this,n=t.module,o=t.config,c=e.collection;return e.pfx=(o==null?void 0:o.stylePrefix)||"",e.ppfx=(o==null?void 0:o.pStylePrefix)||"",e.config=o,e.module=n,e.listenTo(c,"add",e.addTo),e.listenTo(c,"reset",e.render),e}return r.prototype.remove=function(){var t=this;return O.G7.prototype.remove.apply(this,arguments),["config","module","em"].forEach(function(e){return t[e]={}}),this},r.prototype.addTo=function(t,e,n){n===void 0&&(n={}),this.addToCollection(t,null,n)},r.prototype.addToCollection=function(t,e,n){n===void 0&&(n={});var o=this,c=o.config,h=o.el,m=e||h,y=new wE({model:t,config:c}).render().el;return(0,ee.$Q)(m,y,n.at),y},r.prototype.render=function(){var t=this,e=this,n=e.$el,o=e.pfx,c=e.ppfx;n.empty();var h=document.createDocumentFragment();return this.collection.each(function(m){return t.addToCollection(m,h)}),n.append(h),n.addClass("".concat(o,"sectors ").concat(c,"one-bg ").concat(c,"two-color")),this},r}(O.G7);const xE=CE;var SE=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Gs=function(){return Gs=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Gs.apply(this,arguments)},X_=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},Z_="style",ad="".concat(Z_,":"),mm="".concat(ad,"sector"),OE="".concat(mm,":add"),TE="".concat(mm,":remove"),EE="".concat(mm,":update"),ym="".concat(ad,"property"),PE="".concat(ym,":add"),kE="".concat(ym,":remove"),AE="".concat(ym,":update"),J_="".concat(ad,"layer:select"),_m="".concat(ad,"target"),ME="".concat(ad,"custom"),Q_=function(l){return l||l===0},LE={all:Z_,sectorAdd:OE,sectorRemove:TE,sectorUpdate:EE,propertyAdd:PE,propertyRemove:kE,propertyUpdate:AE,layerSelect:J_,target:_m,custom:ME},DE=function(l){SE(r,l);function r(t){var e=l.call(this,t,"StyleManager",new pE([],{em:t}),LE,tT)||this;e.Sector=Y_,e.storageKey="",(0,i.bindAll)(e,"__clearStateTarget");var n=e.config,o=n.pStylePrefix;o&&(n.stylePrefix=o+n.stylePrefix),e.builtIn=new gE,e.properties=new gm([],{em:t,module:e}),e.sectors=e.all;var c=new O.Hn({targets:[]});e.model=c;var h="component:toggled component:update:classes change:state change:device frame:resized selector:type";e.upAll=(0,i.debounce)(function(){return e.__upSel()},0),c.listenTo(t,h,e.upAll),c.listenTo(t,"component:toggled",e.__clearStateTarget);var m=(0,i.debounce)(function(){e.__upProps(),e.__trgCustom()},0);c.listenTo(t,"styleable:change undo redo",m);var y=(0,i.debounce)(function(){return e.__trgCustom()},0);return c.listenTo(t,"".concat(J_," ").concat(_m),y),c.on("change:lastTarget",function(){return t.trigger(_m,e.getSelected())}),e}return r.prototype.__upSel=function(){this.select(this.em.getSelectedAll())},r.prototype.__trgCustom=function(t){t===void 0&&(t={}),this.__ctn=this.__ctn||t.container,this.em.trigger(this.events.custom,{container:this.__ctn})},r.prototype.__trgEv=function(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];(e=this.em).trigger.apply(e,X_([t],n,!1))},r.prototype.__clearStateTarget=function(){var t=this,e=this.em,n=this.__getStateTarget();n&&(e==null||e.skip(function(){e.Css.remove(n),t.model.set({stateTarget:null})}))},r.prototype.onLoad=function(){this.sectors.add(this.config.sectors,{silent:!0})},r.prototype.postRender=function(){this.__appendTo()},r.prototype.addSector=function(t,e,n){n===void 0&&(n={});var o=this.getSector(t);return o||(e.id=t,o=this.sectors.add(e,n)),o},r.prototype.getSector=function(t,e){e===void 0&&(e={});var n=this.sectors.where({id:t})[0];return!n&&e.warn&&this._logNoSector(t),n||null},r.prototype.getSectors=function(t){t===void 0&&(t={});var e=this.sectors,n=e&&e.models?t.array?X_([],e.models,!0):e:[];return t.visible?n.filter(function(o){return o.isVisible()}):n},r.prototype.removeSector=function(t){return this.getSectors().remove(this.getSector(t,{warn:!0}))},r.prototype.addProperty=function(t,e,n){n===void 0&&(n={});var o=this.getSector(t,{warn:!0}),c;return o&&(c=o.addProperty(e,n)),c},r.prototype.getProperty=function(t,e){var n=this.getSector(t,{warn:!0}),o;return n&&(o=n.properties.filter(function(c){return c.get("property")===e||c.get("id")===e})[0]),o},r.prototype.getProperties=function(t){var e,n=this.getSector(t,{warn:!0});return n&&(e=n.properties),e},r.prototype.removeProperty=function(t,e){var n=this.getProperties(t);return n?n.remove(this.getProperty(t,e)):null},r.prototype.select=function(t,e){var n=this;e===void 0&&(e={});var o=this.em,c=(0,i.isArray)(t)?t:[t],h=e.stylable,m=o.Css,y=[];c.filter(Boolean).forEach(function(ot){var ft=ot;if((0,i.isString)(ot)){var xt=m.getRule(ot)||m.setRule(ot);!(0,i.isUndefined)(h)&&xt.set({stylable:h}),ft=xt}y.push(ft)});var C=e.component||y.filter(function(ot){return(0,s.isComponent)(ot)}).reverse()[0];y=y.map(function(ot){return n.getModelToStyle(ot)});var P=o.getState(),D=y.slice().reverse()[0],z=this.getParentRules(D,{state:P,component:C}),q=this.__getStateTarget();return o.skip(function(){var ot;if(P&&(!((ot=D==null?void 0:D.getState)===null||ot===void 0)&&ot.call(D))){var ft=D.getStyle();q?q.setStyle(ft):q=m.getAll().add({selectors:"gjs-selected",style:ft,shallow:!0,important:!0})}else q&&(m.remove(q),q=void 0)}),this.model.set({targets:y,lastTarget:D,lastTargetParents:z,stateTarget:q,component:C}),this.__upProps(e),y},r.prototype.getSelected=function(){return this.model.get("lastTarget")},r.prototype.getSelectedAll=function(){return this.model.get("targets")},r.prototype.getSelectedParents=function(){return this.model.get("lastTargetParents")||[]},r.prototype.__getStateTarget=function(){return this.model.get("stateTarget")},r.prototype.addStyleTargets=function(t,e){this.getSelectedAll().map(function(c){return c.addStyle(t,e)});var n=this.getSelected();n&&this.__emitCmpStyleUpdate(t);var o=this.__getStateTarget();n&&(o==null||o.setStyle(n.getStyle(),e))},r.prototype.getBuiltIn=function(t){return this.builtIn.get(t)},r.prototype.getBuiltInAll=function(){return this.builtIn.props},r.prototype.addBuiltIn=function(t,e){return this.builtIn.add(t,e)},r.prototype.getModelToStyle=function(t,e){e===void 0&&(e={});var n=this.em,o=e.skipAdd;if(n&&(t!=null&&t.toHTML)){var c=n.getConfig(),h=n.UndoManager,m=n.Css,y=n.Selectors,C=y?y.getConfig():{},P=c.devicePreviewMode?"":n.get("state"),D=t.get("classes"),z=D.getStyleable(),q=z.length,ot=!C.componentFirst||e.useClasses,ft={noCount:1},xt={state:P,addOpts:ft};h.skip(function(){var Ft;if(q&&ot){var Rt=n.getCurrentMedia();Ft=m.get(z,P,Rt),!Ft&&!o&&(Ft=m.add(z,P,Rt,{},ft))}else if(c.avoidInlineStyle){var Xt=t.getId();Ft=m.getIdRule(Xt,xt),!Ft&&!o&&(Ft=m.setIdRule(Xt,{},xt)),t.is("wrapper")&&Ft.set("wrapper",1,ft)}Ft&&(t=Ft)})}return t},r.prototype.getParentRules=function(t,e){var n=e===void 0?{}:e,o=n.state,c=n.component,h=this.em,m=[];if(h&&t){var y=c,C=h.Css,P=h.CodeManager.getGenerator("css"),D=t.toHTML?t:t.getComponent(),z={array:!0},q=[],ot=[],ft=[],xt=function(Rt){return Rt.length?C.getRules().filter(function(Xt){var de=Xt.getSelectors().map(function(Oe){return Oe.getFullName()});return!!de.length&&de.every(function(Oe){return Rt.indexOf(Oe)>=0})}):[]};D?(q=C.getRules("#".concat(D.getId())),ot=y?xt(y.getSelectors().getFullName(z)):[],ft=ot.concat(q)):(q=y?C.getRules("#".concat(y.getId())):[],ot=xt(t.getSelectors().getFullName(z)),ft=q.concat(ot));var Ft=ft.filter(function(Rt){return(0,i.isUndefined)(o)?1:Rt.get("state")===o}).sort(P.sortRules).reverse();m=Ft.slice(Ft.indexOf(t)+1)}return m},r.prototype.addType=function(t,e){this.properties.addType(t,e)},r.prototype.getType=function(t){return this.properties.getType(t)},r.prototype.getTypes=function(){return this.properties.getTypes()},r.prototype.createType=function(t,e){var n=e===void 0?{}:e,o=n.model,c=o===void 0?{}:o,h=n.view,m=h===void 0?{}:h,y=this.config,C=this.getType(t);if(C)return new C.view(Gs({model:new C.model(c),config:y},m))},r.prototype.render=function(){var t=this,e=t.config,n=t.em,o=t.SectView,c=o&&o.el;return this.SectView=new xE({el:c,em:n,config:e,module:this,collection:this.sectors}),this.SectView.render().el},r.prototype._logNoSector=function(t){var e=this.em;e&&e.logWarning("'".concat(t,"' sector not found"))},r.prototype.__emitCmpStyleUpdate=function(t,e){e===void 0&&(e={});var n=this.em;if(!t.__p){var o=this.getSelectedAll(),c=e.components||n.getSelectedAll(),h=Array.isArray(c)?c:[c],m=Gs({},t);delete m.__p,h.forEach(function(y){return!o.includes(y)&&y.__onStyleChange(m)})}},r.prototype.__upProps=function(t){var e=this;t===void 0&&(t={});var n=this.getSelected();if(n){var o=this.sectors,c=this.model.get("component"),h=this.getSelectedParents(),m=n.getStyle(),y=h.map(function(C){return{target:C,style:C.getStyle()}});o.map(function(C){C.getProperties().map(function(P){e.__upProp(P,m,y,t)})}),o.forEach(function(C){var P=C.getProperties();P.forEach(function(z){var q=z.__checkVisibility({target:n,component:c,sectors:o});z.set("visible",q)});var D=P.some(function(z){return z.isVisible()});C.set("visible",D)})}},r.prototype.__upProp=function(t,e,n,o){var c=this,h=t.getName(),m=e[h],y=Q_(m),C=t.getType()==="stack",P=t.getType()==="composite",D=Gs(Gs({},o),{__up:!0}),z=!P&&!C,q=t,ot=t,ft=C?q.__getLayersFromStyle(e):[],xt=P?ot.__getPropsFromStyle(e):{},Ft=y?m:null,Rt=null;if(C&&ft===null||P&&xt===null){var Xt=C?"__getLayersFromStyle":"__getPropsFromStyle",de=n.filter(function(Ye){return q[Xt](Ye.style)!==null})[0];if(de){Ft=de.style[h],Rt=de.target;var Oe=q[Xt](de.style);C?ft=Oe:xt=Oe}}else if(!y){Ft=null;var de=n.filter(function(yn){return Q_(yn.style[h])})[0];de&&(Ft=de.style[h],Rt=de.target)}if(t.__setParentTarget(Rt),z&&t.__getFullValue()!==Ft&&t.upValue(Ft,D),C&&q.__setLayers(ft||[],{isEmptyValue:q.isEmptyValueStyle(e)}),P){var De=ot.getProperties();if(ot.isDetached()){var pe=ot.__getPropsFromStyle(e,{byName:!0})||{},Fe=n.map(function(Ye){return Gs(Gs({},Ye),{style:ot.__getPropsFromStyle(Ye.style,{byName:!0})||{}})});De.map(function(Ye){return c.__upProp(Ye,pe,Fe,o)})}else ot.__setProperties(xt||{},D),ot.getProperties().map(function(Ye){return Ye.__setParentTarget(Rt)})}},r.prototype.destroy=function(){var t;[this.properties,this.sectors].forEach(function(e){e.reset(),e.stopListening()}),(t=this.SectView)===null||t===void 0||t.remove(),this.model.stopListening(),this.upAll.cancel()},r}(G);const jE=DE;var NE=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),eo=function(){return eo=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},eo.apply(this,arguments)},wm=function(l,r,t,e){function n(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function h(C){try{y(e.next(C))}catch(P){c(P)}}function m(C){try{y(e.throw(C))}catch(P){c(P)}}function y(C){C.done?o(C.value):n(C.value).then(h,m)}y((e=e.apply(l,r||[])).next())})},bm=function(l,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,n,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(y){return function(C){return m([y,C])}}function m(y){if(e)throw new TypeError("Generator is already executing.");for(;c&&(c=0,y[0]&&(t=0)),t;)try{if(e=1,n&&(o=y[0]&2?n.return:y[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,y[1])).done)return o;switch(n=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,n=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){t.label=y[1];break}if(y[0]===6&&t.label<o[1]){t.label=o[1],o=y;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(y);break}o[2]&&t.ops.pop(),t.trys.pop();continue}y=r.call(l,t)}catch(C){y=[6,C],n=0}finally{e=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},IE=function(l,r){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&r.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(l);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(l,e[n])&&(t[e[n]]=l[e[n]]);return t},RE=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))};x().$=S.default;var FE=[p1,e1,A1,zO,Ug,ge,ou,jE,Vf,z1,DO,cO,QO,ca,mS,Uo,sS,Pg],VE=[HS,wr,qS,bg];E({$:S.default});var tw={debug:console.log,info:console.info,warning:console.warn,error:console.error},HE=function(l){NE(r,l);function r(t){t===void 0&&(t={});var e=l.call(this)||this;e.__skip=!1,e.defaultRunning=!1,e.destroyed=!1,e._config=t;var n=e.config;e.set("Config",t),e.set("modules",[]),e.set("toLoad",[]),e.set("storables",[]),e.set("selected",new R),e.set("dmode",n.dragMode);var o=n.el,c=n.log,h=c===!0?(0,i.keys)(tw):(0,i.isArray)(c)?c:[];return(0,i.bindAll)(e,"initBaseColorPicker"),o&&n.fromElement&&(n.components=o.innerHTML),e.attrsOrig=o?(0,i.toArray)(o.attributes).reduce(function(m,y){return m[y.nodeName]=y.nodeValue,m},{}):"",n.components&&!n.pageManager&&(n.pageManager={pages:[{component:n.components}]}),FE.forEach(function(m){return e.loadModule(m)}),VE.forEach(function(m){return e.loadStorableModule(m)}),e.on("change:componentHovered",e.componentHovered,e),e.on("change:changesCount",e.updateChanges,e),e.on("change:readyLoad change:readyCanvas",e._checkReady,e),h.forEach(function(m){return e.listenLog(m)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(m){var y=m.from,C=m.to;e.listenTo(e,y,function(){for(var P=[],D=0;D<arguments.length;D++)P[D]=arguments[D];e.trigger.apply(e,RE([C],P,!1)),e.logWarning("The event '".concat(y,"' is deprecated, replace it with '").concat(C,"'"))})}),e}return r.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(r.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"I18n",{get:function(){return this.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Utils",{get:function(){return this.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Commands",{get:function(){return this.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Keymaps",{get:function(){return this.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Modal",{get:function(){return this.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Panels",{get:function(){return this.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"CodeManager",{get:function(){return this.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"UndoManager",{get:function(){return this.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"RichTextEditor",{get:function(){return this.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Canvas",{get:function(){return this.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Editor",{get:function(){return this.get("Editor")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Components",{get:function(){return this.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Css",{get:function(){return this.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Blocks",{get:function(){return this.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Selectors",{get:function(){return this.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Storage",{get:function(){return this.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Traits",{get:function(){return this.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Parser",{get:function(){return this.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Layers",{get:function(){return this.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Assets",{get:function(){return this.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Devices",{get:function(){return this.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Pages",{get:function(){return this.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Styles",{get:function(){return this.get("StyleManager")},enumerable:!1,configurable:!0}),r.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},r.prototype.getContainer=function(){return this.config.el},r.prototype.listenLog=function(t){this.listenTo(this,"log:".concat(t),tw[t])},Object.defineProperty(r.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),r.prototype.getConfig=function(t){var e=this.config;return(0,i.isUndefined)(t)?e:e[t]},r.prototype.loadOnStart=function(){var t=this,e=this.config,n=e.projectData,o=e.headless,c=this.Storage;this.toLoad.reverse().forEach(function(y){return y.onLoad()});var h=function(){t.modules.forEach(function(y){return y.postLoad&&y.postLoad(t)}),t.set("readyLoad",1)};o?(n&&this.loadData(n),h()):this._storageTimeout=setTimeout(function(){return wm(t,void 0,void 0,function(){var y;return bm(this,function(C){switch(C.label){case 0:return n?(this.loadData(n),[3,5]):[3,1];case 1:if(!(c!=null&&c.canAutoload()))return[3,5];C.label=2;case 2:return C.trys.push([2,4,,5]),[4,this.load()];case 3:return C.sent(),[3,5];case 4:return y=C.sent(),this.logError(y),[3,5];case 5:return h(),[2]}})})});var m=new r({noticeOnUnload:!1,storageManager:!1,undoManager:!1});m.Pages.onLoad(),m.Canvas.postLoad(),this.set("shallow",m)},r.prototype.updateChanges=function(t,e,n){var o=this,c=this.Storage,h=this.getDirtyCount();n.isClear||(this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout(function(){return o.trigger("update")})),this.config.noticeOnUnload&&(window.onbeforeunload=h?function(){return!0}:null),c.isAutosave()&&h>=c.getStepsBeforeSave()&&this.store().catch(function(m){return o.logError(m)})},r.prototype.loadModule=function(t){var e=new t(this);return this.set(e.name,e),e.onLoad&&this.toLoad.push(e),this.modules.push(e),e},r.prototype.loadStorableModule=function(t){var e=this.loadModule(t);return this.storables.push(e),e},r.prototype.init=function(t,e){e===void 0&&(e={}),this.destroyed&&(this.initialize(e),this.destroyed=!1),this.set("Editor",t)},r.prototype.getEditor=function(){return this.get("Editor")},r.prototype.handleUpdates=function(t,e,n){var o=this;n===void 0&&(n={}),!(this.__skip||n.temporary||n.noCount||n.avoidStore||!this.get("ready"))&&(this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout(function(){var c=o.getDirtyCount()||0;n.unset;var h=IE(n,["unset"]);o.set("changesCount",c+1,h)},0))},r.prototype.changesUp=function(t){this.handleUpdates(0,0,t)},r.prototype.componentHovered=function(t,e,n){var o=this.previous("componentHovered");o&&this.trigger("component:unhovered",o,n),e&&this.trigger("component:hovered",e,n)},r.prototype.getSelected=function(){return this.selected.lastComponent()},r.prototype.getSelectedAll=function(){return this.selected.allComponents()},r.prototype.setSelected=function(t,e){var n=this;e===void 0&&(e={});var o=e.event,c=o&&(o.ctrlKey||o.metaKey),h=(o||{}).shiftKey,m=((0,i.isArray)(t)?t:[t]).map(function(D){var z,q;return((q=(z=D==null?void 0:D.delegate)===null||z===void 0?void 0:z.select)===null||q===void 0?void 0:q.call(z,D))||D}).filter(Boolean),y=this.getSelectedAll(),C=this.getConfig().multipleSelection,P=(0,i.isArray)(t);(P||!t)&&this.removeSelected(y.filter(function(D){return!(0,i.contains)(m,D)})),m.forEach(function(D){if(D&&(n.trigger("component:select:before",D,e),!D.get("selectable")||e.abort))if(e.useValid){for(var z=D.parent();z&&!z.get("selectable");)z=z.parent();D=z}else return;if(c&&C)return n.toggleSelected(D);if(h&&C){n.clearSelection(n.Canvas.getWindow());var q=D.collection,ot=D.index(),ft,xt;if(n.getSelectedAll().forEach(function(Ft){var Rt=Ft.collection,Xt=Ft.index();Rt===q&&(Xt<ot?ft=(0,i.isUndefined)(ft)?Xt:Math.max(ft,Xt):Xt>ot&&(xt=(0,i.isUndefined)(xt)?Xt:Math.min(xt,Xt)))}),!(0,i.isUndefined)(ft))for(;ft!==ot;)n.addSelected(q.at(ft)),ft++;if(!(0,i.isUndefined)(xt))for(;xt!==ot;)n.addSelected(q.at(xt)),xt--;return n.addSelected(D)}!P&&n.removeSelected(y.filter(function(Ft){return Ft!==D})),n.addSelected(D,e)})},r.prototype.addSelected=function(t,e){var n=this;e===void 0&&(e={});var o=(0,i.isArray)(t)?t:[t];o.forEach(function(c){var h=n.selected;if(!(!c||!c.get("selectable")||c.parents().some(function(y){return h.hasComponent(y)}))){e.forceChange&&n.removeSelected(c,e);var m=h.allComponents().filter(function(y){return(0,i.contains)(y.parents(),c)});m.forEach(function(y){return n.removeSelected(y,e)}),h.addComponent(c,e),n.trigger("component:select",c,e),n.Canvas.addSpot({type:rn.q.Select,component:c})}})},r.prototype.removeSelected=function(t,e){var n=this;e===void 0&&(e={}),this.selected.removeComponent(t,e);var o=(0,i.isArray)(t)?t:[t];o.forEach(function(c){return n.Canvas.removeSpots({type:rn.q.Select,component:c})})},r.prototype.toggleSelected=function(t,e){var n=this;e===void 0&&(e={});var o=(0,i.isArray)(t)?t:[t];o.forEach(function(c){n.selected.hasComponent(c)?n.removeSelected(c,e):n.addSelected(c,e)})},r.prototype.setHovered=function(t,e){var n=this;e===void 0&&(e={});var o=function(m,y){var C=n,P=C.config,D=C.Canvas,z=n.getHovered(),q=n.getSelectedAll(),ot=rn.q.Hover,ft=rn.q.Spacing;n.set("componentHovered",m||null,y),z&&(D.removeSpots({type:ot,component:z}),D.removeSpots({type:ft,component:z})),m&&(D.addSpot({type:ot,component:m}),(!q.includes(m)||P.showOffsetsSelected)&&D.addSpot({type:ft,component:m}))};if(!t)return o();var c="component:hover";if(e.forceChange&&o(),this.trigger("".concat(c,":before"),t,e),!t.get("hoverable"))if(e.useValid&&!e.abort){for(var h=t.parent();h&&!h.get("hoverable");)h=h.parent();t=h}else return;e.abort||(o(t,e),this.trigger(c,t,e))},r.prototype.getHovered=function(){return this.get("componentHovered")},r.prototype.setComponents=function(t,e){return e===void 0&&(e={}),this.Components.setComponents(t,e)},r.prototype.getComponents=function(){var t=this.Components,e=this.CodeManager;if(!(!t||!e)){var n=t.getComponents();return e.getCode(n,"json")}},r.prototype.setStyle=function(t,e){e===void 0&&(e={});var n=this.Css;return n.clear(e),n.getAll().add(t,e),this},r.prototype.addStyle=function(t,e){e===void 0&&(e={});var n=this.getStyle().add(t,e);return(0,i.isArray)(n)?n:[n]},r.prototype.getStyle=function(){return this.Css.getAll()},r.prototype.setState=function(t){return this.set("state",t),this},r.prototype.getState=function(){return this.get("state")||""},r.prototype.getHtml=function(t){t===void 0&&(t={});var e=this.config,n=e.optsHtml,o=e.jsInHtml?this.getJs(t):"",c=t.component||this.Components.getComponent(),h=c?this.CodeManager.getCode(c,"html",eo(eo({},n),t)):"";return h+=o?"<script>".concat(o,"<\/script>"):"",h},r.prototype.getCss=function(t){t===void 0&&(t={});var e=this.config,n=e.optsCss,o=t.avoidProtected,c=(0,i.isUndefined)(t.keepUnusedStyles)?e.keepUnusedStyles:t.keepUnusedStyles,h=this.Css,m=t.component||this.Components.getComponent(),y=o?"":e.protectedCss,C=m&&this.CodeManager.getCode(m,"css",eo(eo({cssc:h,keepUnusedStyles:c},n),t));return m?t.json?C:y+C:""},r.prototype.getJs=function(t){t===void 0&&(t={});var e=t.component||this.Components.getWrapper();return e?this.CodeManager.getCode(e,"js").trim():""},r.prototype.store=function(t){return wm(this,void 0,void 0,function(){var e;return bm(this,function(n){switch(n.label){case 0:return e=this.storeData(),[4,this.Storage.store(e,t)];case 1:return n.sent(),this.clearDirtyCount(),[2,e]}})})},r.prototype.load=function(t,e){return e===void 0&&(e={}),wm(this,void 0,void 0,function(){var n;return bm(this,function(o){switch(o.label){case 0:return[4,this.Storage.load(t)];case 1:return n=o.sent(),this.loadData(n),[4,(0,s.wait)()];case 2:return o.sent(),e.clear&&(this.UndoManager.clear(),this.clearDirtyCount()),[2,n]}})})},r.prototype.storeData=function(){var t={},e=this.getEditing();return e&&e.trigger("sync:content",{noCount:!0}),this.storables.forEach(function(n){t=eo(eo({},t),n.store(1))}),JSON.parse(JSON.stringify(t))},r.prototype.loadData=function(t){return t===void 0&&(t={}),(0,s.isEmptyObj)(t)||(this.storables.forEach(function(e){return e.clear()}),this.storables.forEach(function(e){return e.load(t)})),t},r.prototype.getDeviceModel=function(){var t=this.get("device");return this.Devices.get(t)},r.prototype.runDefault=function(t){t===void 0&&(t={});var e=this.get("Commands").get(this.config.defaultCommand);!e||this.defaultRunning||(e.stop(this,this,t),e.run(this,this,t),this.defaultRunning=!0)},r.prototype.stopDefault=function(t){t===void 0&&(t={});var e=this.get("Commands"),n=e.get(this.config.defaultCommand);!n||!this.defaultRunning||(n.stop(this,this,t),this.defaultRunning=!1)},r.prototype.refreshCanvas=function(t){t===void 0&&(t={}),this.Canvas.refresh({spots:t.tools})},r.prototype.clearSelection=function(t){var e,n=t||window;(e=n.getSelection())===null||e===void 0||e.removeAllRanges()},r.prototype.getCurrentMedia=function(){var t=this.config,e=this.getDeviceModel(),n=t.mediaCondition,o=t.devicePreviewMode,c=e&&e.get("widthMedia");return e&&c&&!o?"(".concat(n,": ").concat(c,")"):""},r.prototype.getWrapper=function(){return this.Components.getWrapper()},r.prototype.setCurrentFrame=function(t){return this.set("currentFrame",t)},r.prototype.getCurrentFrame=function(){return this.get("currentFrame")},r.prototype.getCurrentFrameModel=function(){var t;return(t=this.getCurrentFrame()||{})===null||t===void 0?void 0:t.model},r.prototype.getIcon=function(t){var e=this.config.icons||{};return e[t]||""},r.prototype.getDirtyCount=function(){return this.get("changesCount")},r.prototype.clearDirtyCount=function(){return this.set({changesCount:0},{isClear:!0})},r.prototype.getZoomDecimal=function(){return this.Canvas.getZoomDecimal()},r.prototype.getZoomMultiplier=function(){return this.Canvas.getZoomMultiplier()},r.prototype.setDragMode=function(t){return this.set("dmode",t)},r.prototype.getDragMode=function(t){var e=(t==null?void 0:t.getDragMode())||this.get("dmode");return e||""},r.prototype.t=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.get("I18n");return n==null?void 0:n.t.apply(n,t)},r.prototype.inAbsoluteMode=function(t){return this.getDragMode(t)==="absolute"},r.prototype.destroyAll=function(){var t=this,e=this,n=e.config,o=e.view,c=this.getEditor(),h=(n.grapesjs||{}).editors,m=h===void 0?[]:h,y=this.get("shallow");this._storageTimeout&&clearTimeout(this._storageTimeout),y==null||y.destroyAll(),this.stopListening(),this.stopDefault(),this.modules.slice().reverse().forEach(function(C){return C.destroy()}),o&&o.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach(function(C){return t[C]={}}),m.splice(m.indexOf(c),1),(0,s.hasWin)()&&(0,S.default)(n.el).empty().attr(this.attrsOrig)},r.prototype.getEditing=function(){var t=this.get("editing");return t&&t.model||void 0},r.prototype.setEditing=function(t){return this.set("editing",t),this},r.prototype.isEditing=function(){return!!this.get("editing")},r.prototype.log=function(t,e){e===void 0&&(e={});var n=e.ns,o=e.level,c=o===void 0?"debug":o;if(this.trigger("log",t,e),c&&this.trigger("log:".concat(c),t,e),n){var h="log-".concat(n);this.trigger(h,t,e),c&&this.trigger("".concat(h,":").concat(c),t,e)}},r.prototype.logInfo=function(t,e){this.log(t,eo(eo({},e),{level:"info"}))},r.prototype.logWarning=function(t,e){this.log(t,eo(eo({},e),{level:"warning"}))},r.prototype.logError=function(t,e){this.log(t,eo(eo({},e),{level:"error"}))},r.prototype.initBaseColorPicker=function(t,e){e===void 0&&(e={});var n=this.config,o=n.colorPicker,c=o===void 0?{}:o,h=n.el,m=n.stylePrefix;return(0,S.default)(t).spectrum(eo(eo({containerClassName:"".concat(m,"one-bg ").concat(m,"two-color"),appendTo:h||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:""},e),c))},r.prototype.skip=function(t){this.__skip=!0;var e=this.UndoManager;e?e.skip(t):t(),this.__skip=!1},r.prototype.data=function(t,e,n){var o="_gjs-data";if(t[o]||(t[o]={}),(0,i.isUndefined)(n))return t[o][e];t[o][e]=n},r}(O.Hn);const zE=HE;var BE=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),UE=function(l){BE(r,l);function r(t){var e=l.call(this,{model:t})||this,n=t.attributes,o=n.Panels,c=n.UndoManager;return t.view=e,t.once("change:ready",function(){o.active(),o.disableButtons(),c.clear(),setTimeout(function(){t.trigger("load",t.get("Editor")),t.clearDirtyCount()})}),e}return r.prototype.render=function(){var t=this,e=this,n=e.$el,o=e.model,c=o.attributes,h=c.Panels,m=c.Canvas,y=o.config,C=o.modules,P=y.stylePrefix,D=["".concat(P,"editor")];!y.customUI&&D.push("".concat(P,"one-bg ").concat(P,"two-color"));var z=(0,S.default)(y.el||"body ".concat(y.container));y.cssIcons&&(0,s.appendStyles)(y.cssIcons,{unique:!0,prepand:!0}),n.empty(),y.width&&z.css("width",y.width),y.height&&z.css("height",y.height),n.append(m.render()),n.append(h.render());var q=o.get("shallow"),ot=q.get("Canvas").render();return ot.style.display="none",n.append(ot),n.attr("class",D.join(" ")),z.addClass("".concat(P,"editor-cont")).empty().append(n),C.forEach(function(ft){return ft.postRender&&ft.postRender(t)}),this},r}(O.G7);const WE=UE;var sd=function(){return sd=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},sd.apply(this,arguments)},ew=function(l,r,t,e){function n(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function h(C){try{y(e.next(C))}catch(P){c(P)}}function m(C){try{y(e.throw(C))}catch(P){c(P)}}function y(C){C.done?o(C.value):n(C.value).then(h,m)}y((e=e.apply(l,r||[])).next())})},nw=function(l,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,n,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(y){return function(C){return m([y,C])}}function m(y){if(e)throw new TypeError("Generator is already executing.");for(;c&&(c=0,y[0]&&(t=0)),t;)try{if(e=1,n&&(o=y[0]&2?n.return:y[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,y[1])).done)return o;switch(n=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,n=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){t.label=y[1];break}if(y[0]===6&&t.label<o[1]){t.label=o[1],o=y;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(y);break}o[2]&&t.ops.pop(),t.trys.pop();continue}y=r.call(l,t)}catch(C){y=[6,C],n=0}finally{e=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},$E=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},GE=function(){function l(r,t){r===void 0&&(r={}),t===void 0&&(t={});var e;this.html=f,this.config=sd(sd(sd({},_),r),{pStylePrefix:(e=r.stylePrefix)!==null&&e!==void 0?e:_.stylePrefix}),this.em=new zE(this.config),this.$=t.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(l.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"I18n",{get:function(){return this.em.I18n},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Utils",{get:function(){return this.em.Utils},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Commands",{get:function(){return this.em.Commands},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Keymaps",{get:function(){return this.em.Keymaps},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Modal",{get:function(){return this.em.Modal},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Panels",{get:function(){return this.em.Panels},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Canvas",{get:function(){return this.em.Canvas},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Parser",{get:function(){return this.em.Parser},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"CodeManager",{get:function(){return this.em.CodeManager},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"UndoManager",{get:function(){return this.em.UndoManager},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"RichTextEditor",{get:function(){return this.em.RichTextEditor},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Pages",{get:function(){return this.em.Pages},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Components",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"DomComponents",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Layers",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"LayerManager",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Css",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"CssComposer",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Storage",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"StorageManager",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Assets",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"AssetManager",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Blocks",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"BlockManager",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Traits",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"TraitManager",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Selectors",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"SelectorManager",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Styles",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"StyleManager",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Devices",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"DeviceManager",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"EditorModel",{get:function(){return this.em},enumerable:!1,configurable:!0}),l.prototype.getConfig=function(r){return this.em.getConfig(r)},l.prototype.getHtml=function(r){return this.em.getHtml(r)},l.prototype.getCss=function(r){return this.em.getCss(r)},l.prototype.getJs=function(r){return this.em.getJs(r)},l.prototype.getComponents=function(){return this.Components.getComponents()},l.prototype.getWrapper=function(){return this.Components.getWrapper()},l.prototype.setComponents=function(r,t){return t===void 0&&(t={}),this.em.setComponents(r,t),this},l.prototype.addComponents=function(r,t){return this.getWrapper().append(r,t)},l.prototype.getStyle=function(){return this.em.Css.getAll()},l.prototype.setStyle=function(r,t){return t===void 0&&(t={}),this.em.setStyle(r,t),this},l.prototype.addStyle=function(r,t){return t===void 0&&(t={}),this.em.addStyle(r,t)},l.prototype.getSelected=function(){return this.em.getSelected()},l.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},l.prototype.getSelectedToStyle=function(){var r=this.em.getSelected();if(r)return this.StyleManager.getModelToStyle(r)},l.prototype.select=function(r,t){return this.em.setSelected(r,t),this},l.prototype.selectAdd=function(r){return this.em.addSelected(r),this},l.prototype.selectRemove=function(r){return this.em.removeSelected(r),this},l.prototype.selectToggle=function(r){return this.em.toggleSelected(r),this},l.prototype.getEditing=function(){return this.em.getEditing()},l.prototype.setDevice=function(r){return this.em.set("device",r),this},l.prototype.getDevice=function(){return this.em.get("device")},l.prototype.runCommand=function(r,t){return t===void 0&&(t={}),this.Commands.run(r,t)},l.prototype.stopCommand=function(r,t){return t===void 0&&(t={}),this.Commands.stop(r,t)},l.prototype.store=function(r){return ew(this,void 0,void 0,function(){return nw(this,function(t){switch(t.label){case 0:return[4,this.em.store(r)];case 1:return[2,t.sent()]}})})},l.prototype.load=function(r,t){return t===void 0&&(t={}),ew(this,void 0,void 0,function(){return nw(this,function(e){switch(e.label){case 0:return[4,this.em.load(r,t)];case 1:return[2,e.sent()]}})})},l.prototype.getProjectData=function(){return this.em.storeData()},l.prototype.loadProjectData=function(r){return this.em.loadData(r)},l.prototype.storeData=function(){return this.em.storeData()},l.prototype.loadData=function(r){return this.em.loadData(r)},l.prototype.getContainer=function(){return this.config.el},l.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},l.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},l.prototype.refresh=function(r){this.em.refreshCanvas(r)},l.prototype.setCustomRte=function(r){this.RichTextEditor.customRte=r},l.prototype.setCustomParserCss=function(r){return this.Parser.getConfig().parserCss=r,this},l.prototype.setDragMode=function(r){return this.em.setDragMode(r),this},l.prototype.log=function(r,t){return t===void 0&&(t={}),this.em.log(r,t),this},l.prototype.t=function(){for(var r,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(r=this.em).t.apply(r,t)},l.prototype.on=function(r,t){return this.em.on(r,t),this},l.prototype.once=function(r,t){return this.em.once(r,t),this},l.prototype.off=function(r,t){return this.em.off(r,t),this},l.prototype.trigger=function(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return this.em.trigger.apply(this.em,$E([r],t,!0)),this},l.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},l.prototype.getEl=function(){var r;return(r=this.editorView)===null||r===void 0?void 0:r.el},l.prototype.getModel=function(){return this.em},l.prototype.render=function(){var r;return(r=this.editorView)===null||r===void 0||r.remove(),this.editorView=new WE(this.em),this.editorView.render().el},l.prototype.onReady=function(r){this.em.get("ready")?r(this):this.em.on("load",r)},l}();const KE=GE;var YE=function(l,r){var t=r.get(l);if(!t){var e=(0,s.getGlobal)()[l];t=(e==null?void 0:e.default)||e}return t},rw=function(l,r){return(0,i.isString)(l)?YE(l,r):(l==null?void 0:l.default)||l},ow=function(l,r){l.getModel().logWarning("Plugin ".concat(r," not found"),{context:"plugins",plugin:r})},qE=function(){function l(){this.plugins={}}return l.prototype.add=function(r,t){var e=this.get(r);return e||(this.plugins[r]=t,t)},l.prototype.get=function(r){return this.plugins[r]},l.prototype.getAll=function(){return this.plugins},l}();const XE=qE,ZE=function(){var l=function(){for(var t,e=window.navigator.userAgent,n=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],o=0;o<n.length;o++){var c=n[o];if(t=c[1].exec(e),t)break}return!!t};if((0,s.hasWin)()&&l()){var r=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(t){return t||(t=""),r.apply(document.implementation,[t])}}};var Dh=function(){return Dh=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Dh.apply(this,arguments)};ZE();var Cm=new XE,iw=[],aw=function(l,r){var t=rw(l,Cm);return function(e){t?t(e,r||{}):ow(e,l)}},sw={$:S.default,editors:iw,plugins:Cm,usePlugin:aw,version:"0.21.10",init:function(l){l===void 0&&(l={});var r=l.headless,t=l.container;if(!t&&!r)throw new Error("'container' is required");var e=Dh(Dh({autorender:!0,plugins:[],pluginsOpts:{}},l),{grapesjs:this,el:r?void 0:(0,i.isElement)(t)?t:document.querySelector(t)}),n=new KE(e,{$:S.default}),o=n.getModel();return e.plugins.forEach(function(c){var h=rw(c,Cm),m=e.pluginsOpts[c]||{};h?h(n,m):ow(n,c)}),o.loadOnStart(),e.autorender&&!r&&n.render(),iw.push(n),n}};const JE=sw})();var rM=Jx.ZP,Qx={exports:{}},Od={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jb;function oM(){if(jb)return Od;jb=1;var i=Yb,s=Symbol.for("react.element"),f=Symbol.for("react.fragment"),v=Object.prototype.hasOwnProperty,_=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,w={key:!0,ref:!0,__self:!0,__source:!0};function x(S,E,O){var M,A={},L=null,R=null;O!==void 0&&(L=""+O),E.key!==void 0&&(L=""+E.key),E.ref!==void 0&&(R=E.ref);for(M in E)v.call(E,M)&&!w.hasOwnProperty(M)&&(A[M]=E[M]);if(S&&S.defaultProps)for(M in E=S.defaultProps,E)A[M]===void 0&&(A[M]=E[M]);return{$$typeof:s,type:S,key:L,ref:R,props:A,_owner:_.current}}return Od.Fragment=f,Od.jsx=x,Od.jsxs=x,Od}Qx.exports=oM();var Ur=Qx.exports;const tS=Ae.createContext(null),iM=({children:i})=>{const[s,f]=Ae.useState({setEditor:v=>{f(_=>({..._,editor:v}))}});return Ur.jsx(tS.Provider,{value:s,children:i})},Sa=()=>{const i=Ae.useContext(tS);if(!i)throw new Error("useEditorInstance must be used within EditorInstanceProvider");return i},eS=Ae.createContext(null),aM=({children:i})=>{const[s,f]=Ae.useState(()=>({setRefCanvas(v){f(_=>({..._,refCanvas:v}))},setCustomModal(v){f(_=>({..._,customModal:v}))},setCustomAssets(v){f(_=>({..._,customAssets:v}))},setCustomBlocks(v){f(_=>({..._,customBlocks:v}))},setCustomRte(v){f(_=>({..._,customRte:v}))},setCustomStyles(v){f(_=>({..._,customStyles:v}))},setCustomLayers(v){f(_=>({..._,customLayers:v}))},setCustomSelectors(v){f(_=>({..._,customSelectors:v}))},setCustomTraits(v){f(_=>({..._,customTraits:v}))},setReady(v){f(_=>({..._,ready:v}))}}));return Ur.jsx(eS.Provider,{value:s,children:i})},ms=()=>{const i=Ae.useContext(eS);if(!i)throw new Error("useEditorOptions must be used within EditorOptionsProvider");return i};function sM(...i){return(Array.isArray(i[0])?i[0]:[...i]).filter(Boolean).join(" ")}function ml(i){return typeof i=="function"}function Fi(){}const nS=i=>typeof i=="string",lM=async i=>{const s=document.createElement("link");s.href=i,s.rel="stylesheet",document.head.appendChild(s)},rS=i=>{const s=nS(i)?{id:i,src:i}:i;return new Promise((f,v)=>{const _=document.createElement("script");if(document.querySelector(`script[src="${s.src}"]`))return f(s.id);_.src=s.src,_.onload=()=>f(s.id),_.onerror=()=>v(s.id),document.head.appendChild(_)})},uM=i=>{const s=i.map(f=>rS(f));return Promise.allSettled(s)},Nb=i=>function(){const s=Ae.useRef(null);return Ae.useEffect(()=>{const{current:f}=s;f&&(nS(i)?f.innerHTML=i:f.appendChild(i))},[s.current]),Ur.jsx("div",{ref:s})},Ib=new WeakMap;function sf(i){if(!i)return()=>null;const s=Ib.get(i);if(s)return s;const f=function({children:v}){return Zx.createPortal(v,i)};return Ib.set(i,f),f}Ae.memo(function({children:i}){const{editor:s}=Sa(),f=ms(),[v,_]=Ae.useState(!1),[w,x]=Ae.useState({assets:[],types:[],close:()=>{},select:()=>{},Container:()=>null});return Ae.useEffect(()=>{if(!s)return;const S=s.Assets.events.custom,E=({open:O,assets:M,types:A,select:L,close:R,container:$})=>{O&&x({assets:M,types:A,select:L,close:R,Container:sf($)}),_(O)};return s.on(S,E),()=>{s.off(S,E)}},[s]),Ae.useEffect(()=>f.setCustomAssets(!0),[]),s&&ml(i)?i({open:v,...w}):null});Ae.memo(function({children:i}){const{editor:s}=Sa(),f=ms(),[v,_]=Ae.useState(()=>({blocks:[],dragStart:Fi,dragStop:Fi,mapCategoryBlocks:new Map,Container:()=>null}));return Ae.useEffect(()=>{if(!s)return;const w=s.Blocks.events.custom,x=({blocks:S,container:E,dragStart:O,dragStop:M})=>{const A=S.reduce((L,R)=>{const $=R.getCategoryLabel(),at=L.get($);return at?at.push(R):L.set($,[R]),L},new Map);_({blocks:S,dragStart:O,dragStop:M,mapCategoryBlocks:A,Container:sf(E)})};return s.on(w,x),s.Blocks.__trgCustom(),()=>{s.off(w,x)}},[s]),Ae.useEffect(()=>f.setCustomBlocks(!0),[]),s&&ml(i)?i(v):null});Ae.memo(function({children:i}){const{editor:s}=Sa(),[f,v]=Ae.useState(()=>({devices:[],selected:"",select:Fi}));return Ae.useEffect(()=>{if(!s)return;const{Devices:_}=s,w=_.events.all,x=()=>{var S;v({devices:_.getDevices(),selected:(S=_.getSelected())==null?void 0:S.id,select:E=>_.select(E)})};return s.on(w,x),x(),()=>{s.off(w,x)}},[s]),s&&ml(i)?i(f):null});const cM=i=>!!(i&&!Array.isArray(i)&&typeof i=="object");async function fM(i){const s=i.map(({id:w,src:x})=>({id:w,src:x})),f=i.reduce((w,x)=>(w[x.id]=x,w),{}),v=[],_=[];return(await uM(s)).forEach(w=>{w.status==="fulfilled"?v.push(f[w.value]):_.push(f[w.reason])}),{loaded:v,failed:_}}const dM=async i=>{const s=[...i],f={};if(s.length){const v={},_=[];if(s.forEach((w,x)=>{cM(w)&&(v[w.id]={index:x},_.push(w))}),_.length){const{loaded:w}=await fM(_);w.forEach(({id:x,options:S})=>{v[x].loaded=!0,f[x]=S||{}})}Object.keys(v).forEach(w=>{const x=v[w];x.loaded?s[x.index]=w:s[x.index]=!1})}return{plugins:s.filter(Boolean),pluginOptions:f}},pM=Ae.memo(function({children:i,className:s,style:f,options:v={},plugins:_=[],grapesjs:w,grapesjsCss:x,onEditor:S=Fi,onReady:E,onUpdate:O,waitReady:M,...A}){const{setEditor:L}=Sa(),R=ms(),[$,at]=Ae.useState(!1),mt=Ae.useRef(null);Ae.useEffect(()=>{if(!R.ready||!mt.current)return;const Tt=mt.current,Ct=R.refCanvas;let Q,V={},W=[];const Y=it=>{const U={height:"100%",...v,plugins:[...W,...v.plugins||[]],pluginsOpts:{...v.pluginsOpts,...V},modal:{...v.modal,custom:!!R.customModal},assetManager:{...v.assetManager,custom:!!R.customAssets},styleManager:{...v.styleManager,custom:!!R.customStyles},blockManager:{...v.blockManager,custom:!!R.customBlocks},richTextEditor:{...v.richTextEditor,custom:!!R.customRte},layerManager:{...v.layerManager,custom:!!R.customLayers},traitManager:{...v.traitManager,custom:!!R.customTraits},selectorManager:{...v.selectorManager,custom:!!R.customSelectors},container:Ct||Tt,customUI:!!Ct,...Ct?{panels:{defaults:[]}}:{}};Q=it.init(U),L(Q),S(Q),O&&Q.on("update",()=>{O(Q.getProjectData(),Q)}),Q.onReady(()=>{at(!0),E==null||E(Q)})};return(async()=>{x&&await lM(x);const it=await dM(_);W=it.plugins,V=it.pluginOptions,typeof w=="string"?(await rS(w),Y(window.grapesjs)):Y(w)})(),()=>Q==null?void 0:Q.destroy()},[R.ready]);const Z=v.height??"100%",J=v.width??"100%",G=sM("gjs-editor-wrapper",s),X=M&&!$,yt=Ae.useMemo(()=>({...f,height:Z,width:J}),[Z,J,f]),bt=Ae.useMemo(()=>({...yt,...X?{opacity:0,width:0,height:0}:{}}),[yt,X]);return Ur.jsxs(Ur.Fragment,{children:[M&&!$?Ur.jsx("div",{className:G,style:yt,children:M}):null,Ur.jsx("div",{...A,ref:mt,className:G,style:bt,children:i})]})}),hM=Ae.memo(function(){const i=ms();return Ae.useEffect(()=>i.setReady(!0),[]),Ur.jsx(Ur.Fragment,{})}),vM=Ae.memo(function({children:i,...s}){return Ur.jsx(iM,{children:Ur.jsx(aM,{children:Ur.jsxs(pM,{...s,children:[i,Ur.jsx(hM,{})]})})})});Ae.memo(function({children:i}){const{editor:s}=Sa(),f=ms(),[v,_]=Ae.useState(()=>({root:void 0,Container:()=>null}));return Ae.useEffect(()=>{if(!s)return;const{Layers:w}=s,x=w.events.custom,S=({container:E})=>{_({root:w.getRoot(),Container:sf(E)})};return s.on(x,S),w.__trgCustom({}),()=>{s.off(x,S)}},[s]),Ae.useEffect(()=>f.setCustomLayers(!0),[]),s&&ml(i)?i(v):null});Ae.memo(function({children:i}){const{editor:s}=Sa(),f=ms(),[v,_]=Ae.useState(!1),[w,x]=Ae.useState({title:Ur.jsx(Ur.Fragment,{}),content:Ur.jsx(Ur.Fragment,{}),attributes:{},close:Fi});return Ae.useEffect(()=>{if(!s)return;const S="modal",E=({open:O,title:M,content:A,close:L,attributes:R})=>{O&&x({title:Ae.createElement(Nb(M)),content:Ae.createElement(Nb(A)),attributes:R,close:L}),_(O)};return s.on(S,E),()=>{s.off(S,E)}},[s]),Ae.useEffect(()=>f.setCustomModal(!0),[]),s&&typeof i=="function"?i({open:v,...w}):null});Ae.memo(function({children:i}){const{editor:s}=Sa(),[f,v]=Ae.useState(()=>({pages:[],selected:void 0,select:Fi,add:Fi,remove:Fi}));return Ae.useEffect(()=>{if(!s)return;const{Pages:_}=s,w=_.events.all,x=()=>{v({pages:_.getAll(),selected:_.getSelected(),select:(...S)=>_.select(...S),add:(...S)=>_.add(...S),remove:(...S)=>_.remove(...S)})};return s.on(w,x),x(),()=>{s.off(w,x)}},[s]),s&&ml(i)?i(f):null});Ae.memo(function({children:i}){const{editor:s}=Sa(),f=ms(),[v,_]=Ae.useState(()=>({selectors:[],states:[],selectedState:"",targets:[],addSelector:Fi,removeSelector:Fi,setState:Fi,Container:()=>null}));return Ae.useEffect(()=>{if(!s)return;const{Selectors:w}=s,x=w.events.custom,S=({container:E})=>{_({selectors:w.getSelected(),states:w.getStates(),selectedState:w.getState(),targets:w.getSelectedTargets().map(O=>O.getSelectorsString()),addSelector:(...O)=>w.addSelected(...O),removeSelector:(...O)=>w.removeSelected(...O),setState:(...O)=>w.setState(...O),Container:sf(E)})};return s.on(x,S),()=>{s.off(x,S)}},[s]),Ae.useEffect(()=>f.setCustomSelectors(!0),[]),s&&ml(i)?i(v):null});Ae.memo(function({children:i}){const{editor:s}=Sa(),f=ms(),[v,_]=Ae.useState(()=>({sectors:[],Container:()=>null}));return Ae.useEffect(()=>{if(!s)return;const{Styles:w}=s,x=w.events.custom,S=({container:E})=>{_({sectors:w.getSectors({visible:!0}),Container:sf(E)})};return s.on(x,S),()=>{s.off(x,S)}},[s]),Ae.useEffect(()=>f.setCustomStyles(!0),[]),s&&ml(i)?i(v):null});Ae.memo(function({children:i}){const{editor:s}=Sa(),f=ms(),[v,_]=Ae.useState(()=>({traits:[],Container:()=>null}));return Ae.useEffect(()=>{if(!s)return;const{Traits:w}=s,x=w.events.custom,S=({container:E})=>{_({traits:w.getCurrent(),Container:sf(E)})};return s.on(x,S),w.__trgCustom(),()=>{s.off(x,S)}},[s]),Ae.useEffect(()=>f.setCustomTraits(!0),[]),s&&ml(i)?i(v):null});var oS={exports:{}};/*! grapesjs-blocks-basic - 1.0.2 */(function(i,s){(function(f,v){i.exports=v()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Rb,()=>(()=>{var f={d:(S,E)=>{for(var O in E)f.o(E,O)&&!f.o(S,O)&&Object.defineProperty(S,O,{enumerable:!0,get:E[O]})},o:(S,E)=>Object.prototype.hasOwnProperty.call(S,E),r:S=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(S,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(S,"__esModule",{value:!0})}},v={};f.r(v),f.d(v,{default:()=>x});var _=function(){return _=Object.assign||function(S){for(var E,O=1,M=arguments.length;O<M;O++)for(var A in E=arguments[O])Object.prototype.hasOwnProperty.call(E,A)&&(S[A]=E[A]);return S},_.apply(this,arguments)},w=function(){return w=Object.assign||function(S){for(var E,O=1,M=arguments.length;O<M;O++)for(var A in E=arguments[O])Object.prototype.hasOwnProperty.call(E,A)&&(S[A]=E[A]);return S},w.apply(this,arguments)};const x=function(S,E){E===void 0&&(E={}),function(O,M){var A=O.BlockManager,L=M.category,R=M.blocks,$=M.stylePrefix,at=M.flexGrid,mt=M.rowHeight,Z=M.addBasicStyle,J="".concat($,"row"),G="".concat($,"cell"),X=at?`
    .`.concat(J,` {
      display: flex;
      justify-content: flex-start;
      align-items: stretch;
      flex-wrap: nowrap;
      padding: 10px;
    }
    @media (max-width: 768px) {
      .`).concat(J,` {
        flex-wrap: wrap;
      }
    }`):`
    .`.concat(J,` {
      display: table;
      padding: 10px;
      width: 100%;
    }
    @media (max-width: 768px) {
      .`).concat($,"cell, .").concat($,"cell30, .").concat($,`cell70 {
        width: 100%;
        display: block;
      }
    }`),yt=at?`
    .`.concat(G,` {
      min-height: `).concat(mt,`px;
      flex-grow: 1;
      flex-basis: 100%;
    }`):`
    .`.concat(G,` {
      width: 8%;
      display: table-cell;
      height: `).concat(mt,`px;
    }`),bt=`
  .`.concat($,`cell30 {
    width: 30%;
  }`),Tt=`
  .`.concat($,`cell70 {
    width: 70%;
  }`),Ct=1,Q={tl:0,tc:0,tr:0,cl:0,cr:0,bl:0,br:0,minDim:Ct},V=_(_({},Q),{cr:1,bc:0,currentUnit:1,minDim:Ct,step:.2});at&&(V.keyWidth="flex-basis");var W={class:J,"data-gjs-droppable":".".concat(G),"data-gjs-resizable":Q,"data-gjs-name":"Row"},Y={class:G,"data-gjs-draggable":".".concat(J),"data-gjs-resizable":V,"data-gjs-name":"Cell"};at&&(Y["data-gjs-unstylable"]=["width"],Y["data-gjs-stylable-require"]=["flex-basis"]);var it=[".".concat(J),".".concat(G)];O.on("selector:add",function(lt){return it.indexOf(lt.getFullName())>=0&&lt.set("private",1)});var U=function(lt){var kt=[];for(var Ht in lt){var Wt=lt[Ht];Wt=Wt instanceof Array||Wt instanceof Object?JSON.stringify(Wt):Wt,kt.push("".concat(Ht,"=").concat("'".concat(Wt,"'")))}return kt.length?" ".concat(kt.join(" ")):""},dt=function(lt){return R.indexOf(lt)>=0},B=U(W),It=U(Y),gt={category:L,select:!0};dt("column1")&&A.add("column1",_(_({},gt),{label:M.labelColumn1,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M2 20h20V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h20a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(B,`>
        <div `).concat(It,`></div>
      </div>
      `).concat(Z?`<style>
          `.concat(X,`
          `).concat(yt,`
        </style>`):"")})),dt("column2")&&A.add("column2",_(_({},gt),{label:M.labelColumn2,media:`<svg viewBox="0 0 23 24">
        <path fill="currentColor" d="M2 20h8V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM13 20h8V4h-8v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-8a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(B,`>
        <div `).concat(It,`></div>
        <div `).concat(It,`></div>
      </div>
      `).concat(Z?`<style>
          `.concat(X,`
          `).concat(yt,`
        </style>`):"")})),dt("column3")&&A.add("column3",_(_({},gt),{label:M.labelColumn3,media:`<svg viewBox="0 0 23 24">
        <path fill="currentColor" d="M2 20h4V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM17 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1ZM9.5 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(B,`>
        <div `).concat(It,`></div>
        <div `).concat(It,`></div>
        <div `).concat(It,`></div>
      </div>
      `).concat(Z?`<style>
          `.concat(X,`
          `).concat(yt,`
        </style>`):"")})),dt("column3-7")&&A.add("column3-7",_(_({},gt),{label:M.labelColumn37,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M2 20h5V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM10 20h12V4H10v16Zm-1 0V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(B,`>
        <div `).concat(It," style='").concat(at?"flex-basis":"width",`: 30%;'></div>
        <div `).concat(It," style='").concat(at?"flex-basis":"width",`: 70%;'></div>
      </div>
      `).concat(Z?`<style>
          `.concat(X,`
          `).concat(yt,`
          `).concat(bt,`
          `).concat(Tt,`
        </style>`):"")})),dt("text")&&A.add("text",_(_({},gt),{activate:!0,label:M.labelText,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M18.5,4L19.66,8.35L18.7,8.61C18.25,7.74 17.79,6.87 17.26,6.43C16.73,6 16.11,6 15.5,6H13V16.5C13,17 13,17.5 13.33,17.75C13.67,18 14.33,18 15,18V19H9V18C9.67,18 10.33,18 10.67,17.75C11,17.5 11,17 11,16.5V6H8.5C7.89,6 7.27,6 6.74,6.43C6.21,6.87 5.75,7.74 5.3,8.61L4.34,8.35L5.5,4H18.5Z" />
      </svg>`,content:{type:"text",content:"Insert your text here",style:{padding:"10px"}}})),dt("link")&&A.add("link",_(_({},gt),{label:M.labelLink,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
      </svg>`,content:{type:"link",content:"Link",style:{color:"#d983a6"}}})),dt("image")&&A.add("image",_(_({},gt),{activate:!0,label:M.labelImage,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M21,3H3C2,3 1,4 1,5V19A2,2 0 0,0 3,21H21C22,21 23,20 23,19V5C23,4 22,3 21,3M5,17L8.5,12.5L11,15.5L14.5,11L19,17H5Z" />
      </svg>`,content:{style:{color:"black"},type:"image"}})),dt("video")&&A.add("video",_(_({},gt),{label:M.labelVideo,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M10,15L15.19,12L10,9V15M21.56,7.17C21.69,7.64 21.78,8.27 21.84,9.07C21.91,9.87 21.94,10.56 21.94,11.16L22,12C22,14.19 21.84,15.8 21.56,16.83C21.31,17.73 20.73,18.31 19.83,18.56C19.36,18.69 18.5,18.78 17.18,18.84C15.88,18.91 14.69,18.94 13.59,18.94L12,19C7.81,19 5.2,18.84 4.17,18.56C3.27,18.31 2.69,17.73 2.44,16.83C2.31,16.36 2.22,15.73 2.16,14.93C2.09,14.13 2.06,13.44 2.06,12.84L2,12C2,9.81 2.16,8.2 2.44,7.17C2.69,6.27 3.27,5.69 4.17,5.44C4.64,5.31 5.5,5.22 6.82,5.16C8.12,5.09 9.31,5.06 10.41,5.06L12,5C16.19,5 18.8,5.16 19.83,5.44C20.73,5.69 21.31,6.27 21.56,7.17Z" />
      </svg>`,content:{type:"video",src:"img/video2.webm",style:{height:"350px",width:"615px"}}})),dt("map")&&A.add("map",_(_({},gt),{label:M.labelMap,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20.5,3L20.34,3.03L15,5.1L9,3L3.36,4.9C3.15,4.97 3,5.15 3,5.38V20.5A0.5,0.5 0 0,0 3.5,21L3.66,20.97L9,18.9L15,21L20.64,19.1C20.85,19.03 21,18.85 21,18.62V3.5A0.5,0.5 0 0,0 20.5,3M10,5.47L14,6.87V18.53L10,17.13V5.47M5,6.46L8,5.45V17.15L5,18.31V6.46M19,17.54L16,18.55V6.86L19,5.7V17.54Z" />
      </svg>`,content:{type:"map",style:{height:"350px"}}}))}(S,w({blocks:["column1","column2","column3","column3-7","text","link","image","video","map"],flexGrid:!1,stylePrefix:"gjs-",addBasicStyle:!0,category:"Basic",labelColumn1:"1 Column",labelColumn2:"2 Columns",labelColumn3:"3 Columns",labelColumn37:"2 Columns 3/7",labelText:"Text",labelLink:"Link",labelImage:"Image",labelVideo:"Video",labelMap:"Map",rowHeight:75},E))};return v})())})(oS);var gM=oS.exports;const mM=n0(gM);var iS={exports:{}};/*! grapesjs-style-bg - 2.0.2 */(function(i,s){(function(f,v){i.exports=v()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Rb,()=>(()=>{var f={180:function(x){var S;S=()=>(()=>{var E={9:function(L){L.exports=function(R){function $(mt){if(at[mt])return at[mt].exports;var Z=at[mt]={i:mt,l:!1,exports:{}};return R[mt].call(Z.exports,Z,Z.exports,$),Z.l=!0,Z.exports}var at={};return $.m=R,$.c=at,$.d=function(mt,Z,J){$.o(mt,Z)||Object.defineProperty(mt,Z,{configurable:!1,enumerable:!0,get:J})},$.n=function(mt){var Z=mt&&mt.__esModule?function(){return mt.default}:function(){return mt};return $.d(Z,"a",Z),Z},$.o=function(mt,Z){return Object.prototype.hasOwnProperty.call(mt,Z)},$.p="",$($.s=1)}([function(R,$,at){Object.defineProperty($,"__esModule",{value:!0}),$.on=function(mt,Z,J){Z=Z.split(/\s+/);for(var G=0;G<Z.length;++G)mt.addEventListener(Z[G],J)},$.off=function(mt,Z,J){Z=Z.split(/\s+/);for(var G=0;G<Z.length;++G)mt.removeEventListener(Z[G],J)},$.isFunction=function(mt){return typeof mt=="function"},$.isDef=function(mt){return mt!==void 0},$.getPointerEvent=function(mt){return mt.touches&&mt.touches[0]||mt}},function(R,$,at){var mt=function(Z){return Z&&Z.__esModule?Z:{default:Z}}(at(2));R.exports=function(Z){return new mt.default(Z)}},function(R,$,at){function mt(Tt){return Tt&&Tt.__esModule?Tt:{default:Tt}}Object.defineProperty($,"__esModule",{value:!0});var Z=function(){function Tt(Ct,Q){for(var V=0;V<Q.length;V++){var W=Q[V];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(Ct,W.key,W)}}return function(Ct,Q,V){return Q&&Tt(Ct.prototype,Q),V&&Tt(Ct,V),Ct}}(),J=mt(at(3)),G=mt(at(4)),X=at(0),yt=function(Tt,Ct){return Tt.position-Ct.position},bt=function(Tt){function Ct(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(function(U,dt){if(!(U instanceof dt))throw new TypeError("Cannot call a class as a function")})(this,Ct);var V=function(U,dt){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!dt||typeof dt!="object"&&typeof dt!="function"?U:dt}(this,(Ct.__proto__||Object.getPrototypeOf(Ct)).call(this));Q=Object.assign({},Q);var W={pfx:"grp",el:".grp",colorEl:"",min:0,max:100,direction:"90deg",type:"linear",height:"30px",width:"100%",emptyColor:"#000",onValuePos:function(U){return parseInt(U)}};for(var Y in W)Y in Q||(Q[Y]=W[Y]);var it=Q.el;if(!((it=typeof it=="string"?document.querySelector(it):it)instanceof HTMLElement))throw"Element not found, given "+it;return V.el=it,V.handlers=[],V.options=Q,V.on("handler:color:change",function(U,dt){return V.change(dt)}),V.on("handler:position:change",function(U,dt){return V.change(dt)}),V.on("handler:remove",function(U){return V.change(1)}),V.on("handler:add",function(U){return V.change(1)}),V.render(),V}return function(Q,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);Q.prototype=Object.create(V&&V.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,V):Q.__proto__=V)}(Ct,Tt),Z(Ct,[{key:"destroy",value:function(){var Q=this;this.clear(),this.e={},["el","handlers","options","colorPicker"].forEach(function(V){return Q[V]=0}),["previewEl","wrapperEl","sandEl"].forEach(function(V){var W=Q[V];W&&W.parentNode&&W.parentNode.removeChild(W),delete Q[V]})}},{key:"setColorPicker",value:function(Q){this.colorPicker=Q}},{key:"getValue",value:function(Q,V){var W=this.getColorValue(),Y=Q||this.getType(),it=["top","left","bottom","right","center"],U=V||this.getDirection();return["linear","repeating-linear"].indexOf(Y)>=0&&it.indexOf(U)>=0&&(U=U==="center"?"to right":"to "+U),["radial","repeating-radial"].indexOf(Y)>=0&&it.indexOf(U)>=0&&(U="circle at "+U),W?Y+"-gradient("+U+", "+W+")":""}},{key:"getSafeValue",value:function(Q,V){var W=this.previewEl,Y=this.getValue(Q,V);if(!this.sandEl&&(this.sandEl=document.createElement("div")),!W||!Y)return"";for(var it=this.sandEl.style,U=[Y].concat(function(It){if(Array.isArray(It)){for(var gt=0,lt=Array(It.length);gt<It.length;gt++)lt[gt]=It[gt];return lt}return Array.from(It)}(this.getPrefixedValues(Q,V))),dt=void 0,B=0;B<U.length&&(dt=U[B],it.backgroundImage=dt,it.backgroundImage!=dt);B++);return it.backgroundImage}},{key:"setValue",value:function(){var Q=this,V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=this.type,it=this.direction,U=V.indexOf("(")+1,dt=V.lastIndexOf(")"),B=V.substring(U,dt),It=B.split(/,(?![^(]*\)) /);if(this.clear(W),B){It.length>2&&(it=It.shift());var gt=void 0;["repeating-linear","repeating-radial","linear","radial"].forEach(function(lt){V.indexOf(function(kt){return kt+"-gradient("}(lt))>-1&&!gt&&(gt=1,Y=lt)}),this.setDirection(it,W),this.setType(Y,W),It.forEach(function(lt){var kt=lt.split(" "),Ht=parseFloat(kt.pop()),Wt=kt.join("");Q.addHandler(Ht,Wt,0,W)}),this.updatePreview()}else this.updatePreview()}},{key:"getColorValue",value:function(){var Q=this.handlers;return Q.sort(yt),(Q=Q.length==1?[Q[0],Q[0]]:Q).map(function(V){return V.getValue()}).join(", ")}},{key:"getPrefixedValues",value:function(Q,V){var W=this.getValue(Q,V);return["-moz-","-webkit-","-o-","-ms-"].map(function(Y){return""+Y+W})}},{key:"change",value:function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.updatePreview(),!V.silent&&this.emit("change",Q)}},{key:"setDirection",value:function(Q){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.options.direction=Q;var W=V.complete,Y=W===void 0?1:W;this.change(Y,V)}},{key:"getDirection",value:function(){return this.options.direction}},{key:"setType",value:function(Q){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.options.type=Q;var W=V.complete,Y=W===void 0?1:W;this.change(Y,V)}},{key:"getType",value:function(){return this.options.type}},{key:"addHandler",value:function(Q,V){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,Y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},it=new G.default(this,Q,V,W,Y);return!Y.silent&&this.emit("handler:add",it),it}},{key:"getHandler",value:function(Q){return this.handlers[Q]}},{key:"getHandlers",value:function(){return this.handlers}},{key:"clear",value:function(){for(var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V=this.handlers,W=V.length-1;W>=0;W--)V[W].remove(Q)}},{key:"getSelected",value:function(){for(var Q=this.getHandlers(),V=0;V<Q.length;V++){var W=Q[V];if(W.isSelected())return W}return null}},{key:"updatePreview",value:function(){var Q=this.previewEl;Q&&(Q.style.backgroundImage=this.getValue("linear","to right"))}},{key:"initEvents",value:function(){var Q=this,V=this.previewEl;V&&(0,X.on)(V,"click",function(W){var Y=Q.options,it=Y.min,U=Y.max,dt={w:V.clientWidth,h:V.clientHeight},B=W.offsetX-V.clientLeft,It=W.offsetY-V.clientTop,gt=B/dt.w*100;if(!(gt>U||gt<it||It>dt.h||It<0)){var lt=document.createElement("canvas"),kt=lt.getContext("2d");lt.width=dt.w,lt.height=dt.h;var Ht=kt.createLinearGradient(0,0,dt.w,dt.h);Q.getHandlers().forEach(function(Zt){return Ht.addColorStop(Zt.position/100,Zt.color)}),kt.fillStyle=Ht,kt.fillRect(0,0,lt.width,lt.height),lt.style.background="black";var Wt=lt.getContext("2d").getImageData(B,It,1,1).data,ie="rgba("+Wt[0]+", "+Wt[1]+", "+Wt[2]+", "+Wt[3]+")",qt=ie=="rgba(0, 0, 0, 0)"?Y.emptyColor:ie;Q.addHandler(gt,qt)}})}},{key:"render",value:function(){var Q=this.options,V=this.el,W=Q.pfx,Y=Q.height,it=Q.width;if(V){var U=W+"-wrapper",dt=W+"-preview";V.innerHTML=`
      <div class="`+U+`">
        <div class="`+dt+`"></div>
      </div>
    `;var B=V.querySelector("."+U),It=V.querySelector("."+dt),gt=B.style;gt.position="relative",this.wrapperEl=B,this.previewEl=It,Y&&(gt.height=Y),it&&(gt.width=it),this.initEvents(),this.updatePreview()}}}]),Ct}(J.default);$.default=bt},function(R,$,at){Object.defineProperty($,"__esModule",{value:!0});var mt=function(){function J(G,X){for(var yt=0;yt<X.length;yt++){var bt=X[yt];bt.enumerable=bt.enumerable||!1,bt.configurable=!0,"value"in bt&&(bt.writable=!0),Object.defineProperty(G,bt.key,bt)}}return function(G,X,yt){return X&&J(G.prototype,X),yt&&J(G,yt),G}}(),Z=function(){function J(){(function(G,X){if(!(G instanceof X))throw new TypeError("Cannot call a class as a function")})(this,J)}return mt(J,[{key:"on",value:function(G,X,yt){var bt=this.e||(this.e={});return(bt[G]||(bt[G]=[])).push({fn:X,ctx:yt}),this}},{key:"once",value:function(G,X,yt){function bt(){Tt.off(G,bt),X.apply(yt,arguments)}var Tt=this;return bt._=X,this.on(G,bt,yt)}},{key:"emit",value:function(G){for(var X=[].slice.call(arguments,1),yt=((this.e||(this.e={}))[G]||[]).slice(),bt=0,Tt=yt.length;bt<Tt;bt++)yt[bt].fn.apply(yt[bt].ctx,X);return this}},{key:"off",value:function(G,X){var yt=this.e||(this.e={}),bt=yt[G],Tt=[];if(bt&&X)for(var Ct=0,Q=bt.length;Ct<Q;Ct++)bt[Ct].fn!==X&&bt[Ct].fn._!==X&&Tt.push(bt[Ct]);return Tt.length?yt[G]=Tt:delete yt[G],this}}]),J}();$.default=Z},function(R,$,at){Object.defineProperty($,"__esModule",{value:!0});var mt=function(){function G(X,yt){for(var bt=0;bt<yt.length;bt++){var Tt=yt[bt];Tt.enumerable=Tt.enumerable||!1,Tt.configurable=!0,"value"in Tt&&(Tt.writable=!0),Object.defineProperty(X,Tt.key,Tt)}}return function(X,yt,bt){return yt&&G(X.prototype,yt),bt&&G(X,bt),X}}(),Z=at(0),J=function(){function G(X){var yt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,bt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"black",Tt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,Ct=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};(function(Q,V){if(!(Q instanceof V))throw new TypeError("Cannot call a class as a function")})(this,G),X.getHandlers().push(this),this.gp=X,this.position=yt,this.color=bt,this.selected=0,this.render(),Tt&&this.select(Ct)}return mt(G,[{key:"toJSON",value:function(){return{position:this.position,selected:this.selected,color:this.color}}},{key:"setColor",value:function(X){var yt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.color=X,this.emit("handler:color:change",this,yt)}},{key:"setPosition",value:function(X){var yt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,bt=this.getEl();this.position=X,bt&&(bt.style.left=X+"%"),this.emit("handler:position:change",this,yt)}},{key:"getColor",value:function(){return this.color}},{key:"getPosition",value:function(){var X=this.position,yt=this.gp.options.onValuePos;return(0,Z.isFunction)(yt)?yt(X):X}},{key:"isSelected",value:function(){return!!this.selected}},{key:"getValue",value:function(){return this.getColor()+" "+this.getPosition()+"%"}},{key:"select",value:function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},yt=this.getEl(),bt=this.gp.getHandlers();!X.keepSelect&&bt.forEach(function(Ct){return Ct.deselect()}),this.selected=1;var Tt=this.getSelectedCls();yt&&(yt.className+=" "+Tt),this.emit("handler:select",this)}},{key:"deselect",value:function(){var X=this.getEl();this.selected=0;var yt=this.getSelectedCls();X&&(X.className=X.className.replace(yt,"").trim()),this.emit("handler:deselect",this)}},{key:"getSelectedCls",value:function(){return this.gp.options.pfx+"-handler-selected"}},{key:"remove",value:function(){var X=this,yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},bt=this.cpFn,Tt=this.getEl(),Ct=this.gp.getHandlers(),Q=Ct.splice(Ct.indexOf(this),1)[0];return Tt&&Tt.parentNode.removeChild(Tt),!yt.silent&&this.emit("handler:remove",Q),(0,Z.isFunction)(bt)&&bt(this),["el","gp"].forEach(function(V){return X[V]=0}),Q}},{key:"getEl",value:function(){return this.el}},{key:"initEvents",value:function(){var X=this,yt=this.getEl(),bt=this.gp.previewEl,Tt=this.gp.options,Ct=Tt.min,Q=Tt.max,V=yt.querySelector("[data-toggle=handler-close]"),W=yt.querySelector("[data-toggle=handler-color-c]"),Y=yt.querySelector("[data-toggle=handler-color-wrap]"),it=yt.querySelector("[data-toggle=handler-color]"),U=yt.querySelector("[data-toggle=handler-drag]"),dt=function(qt){var Zt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,St=qt.target.value;X.setColor(St,Zt),Y&&(Y.style.backgroundColor=St)};if(W&&(0,Z.on)(W,"click",function(qt){return qt.stopPropagation()}),V&&(0,Z.on)(V,"click",function(qt){qt.stopPropagation(),X.remove()}),it&&((0,Z.on)(it,"change",dt),(0,Z.on)(it,"input",function(qt){return dt(qt,0)})),U){var B=0,It=0,gt=0,lt={},kt={},Ht={},Wt=function(qt){var Zt=(0,Z.getPointerEvent)(qt);gt=1,Ht.x=Zt.clientX-kt.x,Ht.y=Zt.clientY-kt.y,B=100*Ht.x,B/=lt.w,B=(B=(B=It+B)<Ct?Ct:B)>Q?Q:B,X.setPosition(B,0),X.emit("handler:drag",X,B),(0,Z.isDef)(qt.button)&&qt.which===0&&ie(qt)},ie=function qt(Zt){(0,Z.off)(document,"touchmove mousemove",Wt),(0,Z.off)(document,"touchend mouseup",qt),gt&&(gt=0,X.setPosition(B),X.emit("handler:drag:end",X,B))};(0,Z.on)(U,"touchstart mousedown",function(qt){if(!(0,Z.isDef)(qt.button)||qt.button===0){X.select();var Zt=(0,Z.getPointerEvent)(qt);It=X.position,lt.w=bt.clientWidth,lt.h=bt.clientHeight,kt.x=Zt.clientX,kt.y=Zt.clientY,(0,Z.on)(document,"touchmove mousemove",Wt),(0,Z.on)(document,"touchend mouseup",ie),X.emit("handler:drag:start",X)}}),(0,Z.on)(U,"click",function(qt){return qt.stopPropagation()})}}},{key:"emit",value:function(){var X;(X=this.gp).emit.apply(X,arguments)}},{key:"render",value:function(){var X=this.gp,yt=X.options,bt=X.previewEl,Tt=X.colorPicker,Ct=yt.pfx,Q=yt.colorEl,V=this.getColor();if(bt){var W=document.createElement("div"),Y=W.style,it=Ct+"-handler";return W.className=it,W.innerHTML=`
      <div class="`+it+`-close-c">
        <div class="`+it+`-close" data-toggle="handler-close">&Cross;</div>
      </div>
      <div class="`+it+`-drag" data-toggle="handler-drag"></div>
      <div class="`+it+`-cp-c" data-toggle="handler-color-c">
        `+(Q||`
          <div class="`+it+'-cp-wrap" data-toggle="handler-color-wrap" style="background-color: '+V+`">
            <input type="color" data-toggle="handler-color" value="`+V+`">
          </div>`)+`
      </div>
    `,Y.position="absolute",Y.top=0,Y.left=this.position+"%",bt.appendChild(W),this.el=W,this.initEvents(),this.cpFn=Tt&&Tt(this),W}}}]),G}();$.default=J}])}},O={};function M(L){var R=O[L];if(R!==void 0)return R.exports;var $=O[L]={exports:{}};return E[L].call($.exports,$,$.exports,M),$.exports}M.n=L=>{var R=L&&L.__esModule?()=>L.default:()=>L;return M.d(R,{a:R}),R},M.d=(L,R)=>{for(var $ in R)M.o(R,$)&&!M.o(L,$)&&Object.defineProperty(L,$,{enumerable:!0,get:R[$]})},M.o=(L,R)=>Object.prototype.hasOwnProperty.call(L,R),M.r=L=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(L,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(L,"__esModule",{value:!0})};var A={};return(()=>{M.r(A),M.d(A,{GRAD_DIRS:()=>G,GRAD_TYPES:()=>X,default:()=>V,getValidDir:()=>J,parseGradient:()=>mt,toGradient:()=>Z});var L=M(9),R=M.n(L),$=function(){return $=Object.assign||function(W){for(var Y,it=1,U=arguments.length;it<U;it++)for(var dt in Y=arguments[it])Object.prototype.hasOwnProperty.call(Y,dt)&&(W[dt]=Y[dt]);return W},$.apply(this,arguments)},at=function(W,Y,it){if(it||arguments.length===2)for(var U,dt=0,B=Y.length;dt<B;dt++)!U&&dt in Y||(U||(U=Array.prototype.slice.call(Y,0,dt)),U[dt]=Y[dt]);return W.concat(U||Array.prototype.slice.call(Y))},mt=function(W){var Y=W.indexOf("(")+1,it=W.lastIndexOf(")"),U=W.substring(Y,it),dt=U.split(/,(?![^(]*\))/),B={direction:"left",type:"linear",content:U,colors:U,stops:[]};if(!U)return B;dt.length>2&&(B.direction=dt.shift(),B.colors=dt.join(",").trim());var It=!1;return["repeating-linear","repeating-radial","linear","radial"].forEach(function(gt){W.indexOf(function(lt){return"".concat(lt,"-gradient(")}(gt))>-1&&!It&&(It=!0,B.type=gt)}),B.stops=dt.map(function(gt){var lt=gt.split(" "),kt=(lt.length>1?lt.pop():"").trim();return{color:lt.join(" ").trim(),position:kt}}),B},Z=function(W,Y,it){var U=at(at([],G,!0),["center"],!1),dt=Y;return["linear","repeating-linear"].indexOf(W)>=0&&U.indexOf(dt)>=0&&(dt=dt==="center"?"to right":"to ".concat(dt)),["radial","repeating-radial"].indexOf(W)>=0&&U.indexOf(dt)>=0&&(dt="circle at ".concat(dt)),it?"".concat(W,"-gradient(").concat(dt,", ").concat(it,")"):""},J=function(W){return G.filter(function(Y){return W.indexOf(Y)>-1})[0]},G=["right","bottom","left","top"],X=["linear","radial","repeating-linear","repeating-radial"],yt='[data-toggle="handler-color-wrap"]',bt="background-image-gradient",Tt="".concat(bt,"-dir"),Ct="".concat(bt,"-type"),Q=function(){return Q=Object.assign||function(W){for(var Y,it=1,U=arguments.length;it<U;it++)for(var dt in Y=arguments[it])Object.prototype.hasOwnProperty.call(Y,dt)&&(W[dt]=Y[dt]);return W},Q.apply(this,arguments)};const V=function(W,Y){Y===void 0&&(Y={}),function(it,U){U===void 0&&(U={});var dt=it.getModel(),B=it.Styles,It=U.colorPicker,gt=U.builtInType,lt=U.styleType,kt=function(Ht){var Wt=Ht.getEl().querySelector(yt),ie=it.$(Wt);ie.spectrum&&ie.spectrum("destroy")};lt&&B.addType(lt,{create:function(Ht){var Wt=Ht.change,ie=document.createElement("div");ie.className="gp-container",ie.style.width="100%";var qt=new(R())($({el:ie},U.grapickOpts));return qt.on("change",function(Zt){return Wt({value:qt.getValue(),partial:!Zt})}),this.gp=qt,It==="default"&&(It=function(Zt){var St=Zt.getEl(),zt=St.querySelector(yt),Kt=St.querySelector("input");Kt==null||Kt.parentNode.removeChild(Kt);var le=zt.style;le.backgroundColor=Zt.getColor();var ae=function(Jt,ge){ge===void 0&&(ge=1);var He=function(pn){return(pn.getAlpha()==1?pn.toHexString():pn.toRgbString()).replace(/ /g,"")}(Jt);le.backgroundColor=He,Zt.setColor(He,ge)};dt.initBaseColorPicker(zt,{color:Zt.getColor(),change:function(Jt){ae(Jt)},move:function(Jt){ae(Jt,0)}})},qt.on("handler:remove",kt)),It&&qt.setColorPicker(It),ie},emit:function(Ht,Wt){var ie=Ht.updateStyle,qt=Wt.partial;ie(Wt.value,{partial:qt})},update:function(Ht){var Wt=Ht.value,ie=this.gp;if(ie.getValue()!==Wt){var qt=ie.getHandlers();qt.map(kt),ie.setValue(Wt,{silent:!0}),U.selectEdgeStops&&[qt[0],qt[qt.length-1]].filter(Boolean).map(function(Zt){return Zt.select({keepSelect:!0})})}},destroy:function(){var Ht;(Ht=this.gp)===null||Ht===void 0||Ht.destroy()}}),gt&&B.addBuiltIn(gt,{type:"composite",fromStyle:function(Ht,Wt){var ie,qt=Wt.name,Zt=mt(Ht[qt]||""),St=Zt.type||X[0],zt=J(Zt.direction)||G[0];return(ie={})[bt]=Z(St,zt,Zt.colors),ie[Ct]=St,ie[Tt]=zt,ie},toStyle:function(Ht,Wt){var ie,qt=Wt.name,Zt=Ht[bt]||"",St=Ht[Ct]||X[0],zt=Ht[Tt]||G[0],Kt=mt(Zt),le=Z(St,zt,Kt.colors);return(ie={})[qt]=le,ie},properties:[{name:" ",full:!0,defaults:"none",type:lt,property:bt},{name:"Direction",type:"select",defaults:"right",property:Tt,options:G.map(function(Ht){return{value:Ht}})},{name:"Type",type:"select",defaults:"linear",property:Ct,options:X.map(function(Ht){return{value:Ht}})}]})}(W,Q({grapickOpts:{},selectEdgeStops:!0,styleType:"gradient",builtInType:"background-image"},Y))}})(),A})(),x.exports=S()}},v={};function _(x){var S=v[x];if(S!==void 0)return S.exports;var E=v[x]={exports:{}};return f[x].call(E.exports,E,E.exports,_),E.exports}_.n=x=>{var S=x&&x.__esModule?()=>x.default:()=>x;return _.d(S,{a:S}),S},_.d=(x,S)=>{for(var E in S)_.o(S,E)&&!_.o(x,E)&&Object.defineProperty(x,E,{enumerable:!0,get:S[E]})},_.o=(x,S)=>Object.prototype.hasOwnProperty.call(x,S),_.r=x=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(x,"__esModule",{value:!0})};var w={};return(()=>{_.r(w),_.d(w,{BackgroundType:()=>x,default:()=>yt});var x,S=_(180),E=_.n(S),O=function(){return O=Object.assign||function(bt){for(var Tt,Ct=1,Q=arguments.length;Ct<Q;Ct++)for(var V in Tt=arguments[Ct])Object.prototype.hasOwnProperty.call(Tt,V)&&(bt[V]=Tt[V]);return bt},O.apply(this,arguments)};(function(bt){bt.Image="image",bt.Color="color",bt.Grad="grad"})(x||(x={}));var M=function(bt){return bt.map(function(Tt){return{id:Tt}})},A=function(bt){var Tt,Ct=((Tt={})[$]=x.Image,Tt);if(bt.indexOf("url(")>-1)Ct[at]=bt;else if(bt.indexOf("gradient(")>-1){var Q=(0,S.parseGradient)(bt),V=Q.stops;if(V.length===2&&Q.type==="linear"&&V[0].color===V[1].color)Ct[$]=x.Color,Ct[mt]=V[0].color;else{var W=(0,S.getValidDir)(Q.direction)||S.GRAD_DIRS[0],Y=Q.type||S.GRAD_TYPES[0];Ct[$]=x.Grad,Ct[Z]=(0,S.toGradient)(Y,W,Q.colors),Ct[G]=Y,Ct[J]=W}}return Ct},L='style="max-height: 16px; display: block; margin: 0 auto" viewBox="0 0 24 24"',R="background-image",$="__background-type",at=R,mt="".concat(at,"-color"),Z="".concat(at,"-gradient"),J="".concat(Z,"-dir"),G="".concat(Z,"-type"),X="none";const yt=function(bt,Tt){Tt===void 0&&(Tt={});var Ct=O({styleGradientOpts:{},propExtender:function(Q){return Q}},Tt);E()(bt,O({colorPicker:"default"},Ct.styleGradientOpts)),bt.Styles.addBuiltIn("background",{type:"stack",layerSeparator:new RegExp("(?<!\\(.*[^)]),(?![^(]*\\))"),layerJoin:", ",detached:!0,layerLabel:function(Q,V){var W,Y=V.values,it=V.property.getProperty($).getOption(Y[$]);return it!=null&&it.title?"".concat((W=it.title)&&W.charAt(0).toUpperCase()+W.substring(1)):""},fromStyle:function(Q,V){var W=V.property,Y=V.name,it=W.getLayerSeparator(),U=W.getProperties(),dt=[];return Q[R]?(dt=W.__splitStyleName(Q,R,it).map(A),U.forEach(function(B){var It=B.getId(),gt=B.getName();gt!==R&&W.__splitStyleName(Q,gt,it).map(function(lt){var kt;return(kt={})[It]=lt||B.getDefaultValue(),kt}).forEach(function(lt,kt){dt[kt]=dt[kt]?O(O({},dt[kt]),lt):lt})})):Q[Y]&&(dt=W.__splitStyleName(Q,Y,/(?![^)(]*\([^)(]*?\)\)),(?![^\(]*\))/).map(function(B){return B.substring(0,B.lastIndexOf(")")+1)}).map(A)),dt},toStyle:function(Q){var V=O({},Q),W=V[$],Y=V[at];if(W===x.Color){var it=V[mt];Y=it===X?X:"linear-gradient(".concat(it," 0%, ").concat(it," 100%)")}else if(W===x.Grad){var U=(0,S.parseGradient)(V[Z]||"");Y=(0,S.toGradient)(V[G]||S.GRAD_TYPES[0],V[J]||S.GRAD_DIRS[0],U.colors)}return delete V[at],delete V[mt],delete V[Z],delete V[J],delete V[G],O(O({},V),{"background-image":Y||X})},properties:[{label:" ",property:$,type:"radio",default:x.Image,onChange:function(Q){var V=Q.property,W=Q.to.value;W&&V.getParent().getProperties().forEach(function(Y){var it=Y.getName(),U=!1;it!==$&&((W===x.Image&&[mt,Z,J,G].indexOf(it)<0||W===x.Color&&it===mt||W===x.Grad&&[Z,J,G].indexOf(it)>=0)&&(U=!0),Y.up({visible:U}))})},options:[{id:x.Image,title:"Image",label:"<svg ".concat(L,'><path fill="currentColor" d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 00-2-2H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2z"/></svg>')},{id:x.Color,title:"Color",label:"<svg ".concat(L,'><path fill="currentColor" d="M19 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2z"/></svg>')},{id:x.Grad,title:"Gradient",label:"<svg ".concat(L,'><path fill="currentColor" d="M11 9h2v2h-2V9m-2 2h2v2H9v-2m4 0h2v2h-2v-2m2-2h2v2h-2V9M7 9h2v2H7V9m12-6H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2M9 18H7v-2h2v2m4 0h-2v-2h2v2m4 0h-2v-2h2v2m2-7h-2v2h2v2h-2v-2h-2v2h-2v-2h-2v2H9v-2H7v2H5v-2h2v-2H5V5h14v6z"/></svg>')}]},{label:"Image",property:at,default:"none",functionName:"url",type:"file",full:!0},{property:"background-repeat",default:"repeat",type:"select",options:[{id:"repeat",label:"Repeat"},{id:"repeat-x",label:"Repeat x"},{id:"repeat-y",label:"Repeat y"},{id:"no-repeat",label:"No repeat"},{id:"space",label:"Space"},{id:"round",label:"Round"}]},{property:"background-position",default:"left top",type:"select",options:M(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"])},{property:"background-attachment",default:"scroll",type:"select",options:M(["scroll","fixed","local"])},{type:"select",default:"auto",property:"background-size",options:M(["auto","cover","contain"])},{label:"Color",property:mt,default:"none",type:"color",full:!0},{label:"Gradient",property:Z,default:"linear-gradient(right, black 0%, white 100%)",type:"gradient",full:!0},{name:"Direction",property:J,type:"select",default:"right",options:M(S.GRAD_DIRS)},{name:"Type",property:G,default:"linear",type:"select",options:M(S.GRAD_TYPES)}].map(function(Q){var V;return((V=Ct.propExtender)===null||V===void 0?void 0:V.call(Ct,Q))||Q})})}})(),w})())})(iS);var yM=iS.exports;const _M=n0(yM),wM=(i,s)=>{const{block:f,label:v,id:_}=s;f&&i.Blocks.add(_,{media:`<svg viewBox="0 0 24 24">
        <path d="M22 9c0-.6-.5-1-1.25-1H3.25C2.5 8 2 8.4 2 9v6c0 .6.5 1 1.25 1h17.5c.75 0 1.25-.4 1.25-1V9Zm-1 6H3V9h18v6Z"/><path d="M15 10h5v1h-5zM15 13h5v1h-5zM15 11.5h5v1h-5z"/>
      </svg>`,label:v,category:"Extra",select:!0,content:{type:_},...f})},bM="/assets/logo-AZbASvUU.png",CM=(i,s)=>{const{Components:f}=i,{id:v,label:_}=s,w=s.classPrefix,x=`${v}-container`,S=`${v}-logo`,E=`${v}-nav-menu`,O=`${v}-lng-menu`,M=`${v}-nav-menu-link`,A=`${v}-burger-menu`,L=`${v}-burger-menu-line`;f.addType(v,{model:{defaults:{droppable:!1,name:_,attributes:{class:w},components:{type:x},styles:(s.style||`
          .${w} {
            background-color: #222;
            color: #ddd;
            min-height: 80px;
            width: 100%;
            display:flex;
            align-items:center;
          }

          .${w}-container {
            max-width: 950px;
            margin: 0 auto;
            width: 95%;
            display:flex;
          }

          .${w}-items-c {
            display: inline-block;
            float: right;
          }

          .lng-items{
            margin-left: 20px;
          }

          .${w}-container::after {
            content: "";
            clear: both;
            display: block;
          }

          .${w}-brand {
            vertical-align: top;
            display: inline-block;
            padding: 5px;
            height: 50px;
            min-width: 50px;
            color: inherit;
            text-decoration: none;
            margin-right:auto;
            height
          }

          .${w}-brand img {
           display: block;
           height:100%;
           width: auto;
          }

          .${w}-menu {
            padding: 10px 0;
            display: block;
            float: right;
            margin: 0;
          }

          .${w}-menu-link {
            margin: 0;
            color: inherit;
            text-decoration: none;
            display: inline-block;
            padding: 10px 15px;
          }

          .${w}-burger {
            margin: 10px 0;
            width: 45px;
            padding: 5px 10px;
            display: none;
            float: right;
            cursor: pointer;
          }

          .${w}-burger-line {
            padding: 1px;
            background-color: white;
            margin: 5px 0;
          }

          @media (max-width: 768px) {
            .${w}-items-c {
              display: none;
              width: 100%;
            }

            .${w}-burger {
              display: block;
            }

            .${w}-menu {
              width: 100%;
            }

            .${w}-menu-link {
              display: block;
            }
          }
        `)+s.styleAdditional}}}),f.addType(x,{model:{defaults:{attributes:{class:`${w}-container`,"data-gjs":"navbar"},name:"Navbar Container",droppable:!1,draggable:!1,removable:!1,copyable:!1,highlightable:!1,components:[{type:"link",attributes:{class:`${w}-brand`,href:"/"},droppable:!0},{type:A},{attributes:{class:`${w}-items-c`,"data-gjs":"navbar-items"},components:{type:E}},{attributes:{class:`${w}-items-c lng-items`,"data-gjs":"navbar-items"},components:{type:O}}]}}}),f.addType(S,{model:{defaults:{extend:"image",name:"Navbar Menu",tagName:"img",attributes:{class:`${w}-logo`},content:`<img src=${bM} alt="" style="height: 40px" />`}}}),f.addType(E,{model:{defaults:{name:"Navbar Menu",tagName:"nav",attributes:{class:`${w}-menu`},components:[{type:M,components:"Home"},{type:M,components:"About"},{type:M,components:"Contact"}]}}}),f.addType(O,{model:{defaults:{name:"Navbar Menu",tagName:"nav",attributes:{class:`${w}-menu`},components:[{type:M,components:"uk"},{type:M,components:"en"}]}}}),f.addType(M,{extend:"link",model:{defaults:{name:"Menu link",draggable:`[data-gjs-type="${E}"]`,attributes:{class:`${w}-menu-link`}}}}),f.addType(A,{model:{defaults:{name:"Burger",draggable:!1,droppable:!1,copyable:!1,removable:!1,script:function(){const R=this,$="gjs-collapse",at="click",mt="max-height";let Z,J=0;const X=function(){const Ct=document.createElement("void"),Q={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(let V in Q)if(Ct.style[V]!==void 0)return Q[V]}();var yt=function(Ct){const Q=window.getComputedStyle(Ct),V=Q.display,W=parseInt(Q[mt]);if(V!=="none"&&W!==0)return Ct.offsetHeight;Ct.style.height="auto",Ct.style.display="block",Ct.style.position="absolute",Ct.style.visibility="hidden";const Y=Ct.offsetHeight;return Ct.style.height="",Ct.style.display="",Ct.style.position="",Ct.style.visibility="",Y},bt=function(Ct){J=1;var Q=yt(Ct),V=Ct.style;V.display="block",V.transition=`${mt} 0.25s ease-in-out`,V.overflowY="hidden",V[mt]==""&&(V[mt]=0),parseInt(V[mt])==0?(V[mt]="0",setTimeout(function(){V[mt]=Q+"px"},10)):V[mt]="0"};const Tt=function(Ct){if(Ct.preventDefault(),J)return;const Q=R.closest("[data-gjs=navbar]"),V=Q==null?void 0:Q.querySelector("[data-gjs=navbar-items]");V&&bt(V),Z||(V==null||V.addEventListener(X,function(){J=0;const W=V.style;parseInt(W[mt])==0&&(W.display="",W[mt]="")}),Z=1)};$ in R||R.addEventListener(at,Tt),R[$]=1},attributes:{class:`${w}-burger`},components:[{type:L},{type:L},{type:L}]}}}),f.addType(L,{model:{defaults:{name:"Burger Line",droppable:!1,draggable:!1,highlightable:!1,attributes:{class:`${w}-burger-line`}}}})},xM=(i,s={})=>{const f={id:"navbar",label:"Header",block:{},style:"",styleAdditional:"",classPrefix:"navbar",...s};wM(i,f),CM(i,f)},SM=(i,s)=>{const{block:f,label:v,id:_}=s;f&&i.Blocks.add(_,{media:`<svg viewBox="0 0 24 24">
        <path d="M22 9c0-.6-.5-1-1.25-1H3.25C2.5 8 2 8.4 2 9v6c0 .6.5 1 1.25 1h17.5c.75 0 1.25-.4 1.25-1V9Zm-1 6H3V9h18v6Z"/><path d="M15 10h5v1h-5zM15 13h5v1h-5zM15 11.5h5v1h-5z"/>
      </svg>`,label:v,category:"Extra",select:!0,content:{type:_},...f})},OM=(i,s)=>{const{Components:f}=i,{id:v,label:_}=s,w=s.classPrefix,x=`${v}-container`,S=`${v}-nav-menu`,E=`${v}-nav-menu-list`,O=`${v}-list-title`,M=`${v}-nav-menu-link`;f.addType(v,{model:{defaults:{droppable:!1,name:_,attributes:{class:w},components:{type:x},styles:(s.style||`
          .${w} {
            background-color: #222;
            color: #ddd;
            min-height: 80px;
            width: 100%;
          }

          .${w}-container {
            max-width: 950px;
            margin: 0 auto;
            width: 95%;
            display: flex;
            justify-content: center;
            padding: 40px;
          }

          .${w}-items-c {
            display: inline-block;
            float: right;
          }

          .${w}-container::after {
            content: "";
            clear: both;
            display: block;
          }

          .${w}-menu {
            display: flex;
          }

          .${w}-menu-list {
              display: flex;
              flex-direction: column;
              gap: 8px;
              padding: 20px;
           }

           .${w}-list-title {
              font-size: 18px;
              font-weight: 600;
              text-transform: uppercase;
              margin
           }

          .${w}-menu-link {
              margin: 0;
              color: inherit;
              text-decoration: none;
              display: inline-block;
              padding: 10px 15px;
          }

          @media (max-width: 768px) {
            .${w}-items-c {
              display: none;
              width: 100%;
            }

            .${w}-burger {
              display: block;
            }

            .${w}-menu {
              width: 100%;
            }

            .${w}-menu-link {
              display: block;
            }
          }
        `)+s.styleAdditional}}}),f.addType(x,{model:{defaults:{attributes:{class:`${w}-container`,"data-gjs":"navbar"},name:"Navbar Container",droppable:!1,draggable:!1,removable:!1,copyable:!1,highlightable:!1,components:[{type:"link",attributes:{class:`${w}-brand`,href:"/"},droppable:!0},{attributes:{class:`${w}-items-c`,"data-gjs":"navbar-items"},components:{type:S}}]}}}),f.addType(S,{model:{defaults:{name:"Footer Menu",tagName:"nav",attributes:{class:`${w}-menu`},components:[{type:E},{type:E},{type:E}]}}}),f.addType(E,{model:{defaults:{name:"Footer Menu list",tagName:"div",attributes:{class:`${w}-menu-list`},components:[{type:O,components:" "},{type:M,components:" "},{type:M,components:" "},{type:M,components:" "}]}}}),f.addType(O,{extend:"text",model:{defaults:{name:"Menu link",draggable:`[data-gjs-type="${S}"]`,attributes:{class:`${w}-list-title`}}}}),f.addType(M,{extend:"link",model:{defaults:{name:"Menu link",draggable:`[data-gjs-type="${S}"]`,attributes:{class:`${w}-menu-link`}}}})},TM=(i,s={})=>{const f={id:"footer",label:"Footer",block:{},style:"",styleAdditional:"",classPrefix:"footer",...s};SM(i,f),OM(i,f)},EM=(i,s)=>{const{block:f,label:v,id:_}=s;f&&i.Blocks.add(_,{media:`<svg viewBox="0 0 24 24">
        <path d="M22 9c0-.6-.5-1-1.25-1H3.25C2.5 8 2 8.4 2 9v6c0 .6.5 1 1.25 1h17.5c.75 0 1.25-.4 1.25-1V9Zm-1 6H3V9h18v6Z"/><path d="M15 10h5v1h-5zM15 13h5v1h-5zM15 11.5h5v1h-5z"/>
      </svg>`,label:v,category:"Extra",select:!0,content:{type:_},...f})},PM=(i,s)=>{const{Components:f}=i,{id:v,label:_}=s,w=s.classPrefix,x=`${v}-container`,S=`${v}-nav-menu`,E=`${v}-nav-menu-link`,O=`${v}-hero-text`;f.addType(v,{model:{defaults:{droppable:!1,name:_,attributes:{class:w},components:{type:x},styles:(s.style||`
          .${w} {
            color: #ddd;
            min-height: 600px;
            width: 100%;
            display:flex;
            align-items:center;
            background-image: url(https://cdn.thewirecutter.com/wp-content/media/2020/12/compressionsocks-topimage-2048px-2x1-1.jpg?auto=webp&quality=75&crop=2:1&width=980&dpr=2);
            background-repeat: no-repeat;
            background-size: cover;
            background-position: center;
          }

          .${w}-container {
            max-width: 950px;
            margin: 0 auto;
            width: 95%;
            text-align:center;
          }

          .${w}-hero-text {
            color: white;
            font-weight: 600;
            font-size: 30px;
            line-height: 1.3;
            display:block;
            margin-bottom: 30px;
          }

          .${w}-hero-link {
            color: black;
            text-align:center;
            font-weight: 600;
            font-size: 20px;
            line-height: 1.3;
            background-color: white;
            border-radius: 8px;
            padding: 8px 12px;
          }
          
        `)+s.styleAdditional}}}),f.addType(x,{model:{defaults:{attributes:{class:`${w}-container`,"data-gjs":"navbar"},name:"Navbar Container",droppable:!1,draggable:!1,removable:!1,copyable:!1,highlightable:!1,components:[{attributes:{class:`${w}-items-c`,"data-gjs":"navbar-items"},components:[{type:O,components:" "},{type:E,components:""}]}]}}}),f.addType(O,{extend:"text",model:{defaults:{name:"Hero text",draggable:`[data-gjs-type="${S}"]`,attributes:{class:`${w}-hero-text`}}}}),f.addType(E,{extend:"link",model:{defaults:{name:"Hero link",draggable:`[data-gjs-type="${S}"]`,attributes:{class:`${w}-hero-link`}}}})},kM=(i,s={})=>{const f={id:"hero-section",label:"Hero section",block:{},style:"",styleAdditional:"",classPrefix:"hero-section",...s};EM(i,f),PM(i,f)};function AM(){const i=s=>{console.log("Editor loaded",s.getHtml())};return ly.jsx(vM,{grapesjs:rM,grapesjsCss:"https://unpkg.com/grapesjs/dist/css/grapes.min.css",options:{height:"100vh",storageManager:!1,styleManager:{sectors:[{name:"Background",properties:[{type:"color",property:"background-color"},{type:"file",property:"background-image",functionName:"url"},{type:"radio",property:"background-repeat",default:"no-repeat",options:[{id:"no-repeat",label:"no -repeat"},{id:"repeat",label:"repeat"},{id:"repeat-y",label:"repeat-y"},{id:"repeat-x",label:"repeat-x"}]},{type:"radio",property:"background-position",default:"center",options:[{id:"center",label:"center"},{id:"top",label:"top"},{id:"bottom",label:"bottom"},{id:"left",label:"left"},{id:"right",label:"right"}]}]},{name:"Typography",properties:[{type:"radio",property:"text-align",options:[{id:"left",label:"left"},{id:"right",label:"right"},{id:"center",label:"center"}]}]}]}},plugins:[mM,xM,_M,TM,kM],onEditor:i})}uy.createRoot(document.getElementById("root")).render(ly.jsx(Yb.StrictMode,{children:ly.jsx(AM,{})}));
